<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vue+fastapi搭建</title>
      <link href="/xinonria.github.io/posts/de646dc/"/>
      <url>/xinonria.github.io/posts/de646dc/</url>
      
        <content type="html"><![CDATA[<p>本文将一个Vue框架打包的资源挂载到Fastapi上，解决了assets文件404导致Vue页面白屏问题。</p><span id="more"></span><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>学校一个大作业要求开发一个系统，拥有web界面以及对用户上传文件进行数据处理。</p><p>web前端打算选择使用Vue框架，后端框架使用简单易上手的Fastapi。</p><p>现在把搭建的流程走一遍。</p><h1 id="搭建前端框架"><a class="markdownIt-Anchor" href="#搭建前端框架"></a> 搭建前端框架</h1><p>在目录里面使用<code>Vue</code>官方脚手架创建项目。(请确保电脑上已安装Node.js，如未安装则无法使用<code>npm</code>)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm create vue@latest</span><br><span class="line">Vue.js - The Progressive JavaScript Framework</span><br><span class="line"></span><br><span class="line">√ 请输入项目名称： ... frontend</span><br><span class="line">√ 是否使用 TypeScript 语法？ ... 否 / 是</span><br><span class="line">√ 是否启用 JSX 支持？ ... 否 / 是</span><br><span class="line">√ 是否引入 Vue Router 进行单页面应用开发？ ... 否 / 是</span><br><span class="line">√ 是否引入 Pinia 用于状态管理？ ... 否 / 是</span><br><span class="line">√ 是否引入 Vitest 用于单元测试？ ... 否 / 是</span><br><span class="line">√ 是否要引入一款端到端（End to End）测试工具？ » 不需要</span><br><span class="line">√ 是否引入 ESLint 用于代码质量检测？ ... 否 / 是</span><br><span class="line">√ 是否引入 Vue DevTools 7 扩展用于调试? (试验阶段) ... 否 / 是</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2024/05/22/image.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/05/22/image.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><p>这里项目命名为<code>frontend</code>，除了使用<code>Vue Router</code>和<code>Pinia</code>之外其他都选否。</p><p>(当然也可酌情选择，其他选项可让代码更规范，不过由于独立开发以效率优先就没选)</p><p>接下来按照说明执行一下这三条命令。</p><p>如卡在<code>npm install</code>这步可在网上了解一下如何设置npm镜像源(注意内容时效性，例如淘宝源修改域名，某些源由公开转为私有)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frontend</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>输入完<code>npm run dev</code>后可以打开<code>http://localhost:5173/</code>，此时即可看到效果。</p><p><img src="https://www.z4a.net/images/2024/05/22/imageecdc6b1042f319a9.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/05/22/imageecdc6b1042f319a9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="imageecdc6b1042f319a9.png" /></p><h1 id="搭建后端框架"><a class="markdownIt-Anchor" href="#搭建后端框架"></a> 搭建后端框架</h1><p>在目录下新建文件夹<code>backend</code>用于存放后端文件，进入<code>backend</code>文件夹。</p><p>为了防止Python环境污染，通过<code>venv</code>创建一个虚拟环境并进入。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m venv .venv</span><br><span class="line">.\.venv\Scripts\activate</span><br></pre></td></tr></table></figure><blockquote><p>注意venv环境无法指定Python版本，venv环境会使用创建它的python版本。</p></blockquote><p>进入虚拟环境后可输入<code>python -V</code>查看版本。</p><p>我的Python版本为3.10.12。</p><p>安装<code>fastapi</code>框架。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install fastapi</span><br></pre></td></tr></table></figure><p>稍等片刻后安装完成，在<code>backend</code>目录下新建<code>main.py</code>文件作为<code>fastapi</code>的入口。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./backend/main.py</span></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_root</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>随后在终端输入<code>uvicorn main:app --reload --port 8001</code>启动应用。</p><p>在浏览器打开<code>http://127.0.0.1:8001</code>即可看到效果。</p><blockquote><p><code>http://127.0.0.1:8001/docs</code>可查看<code>fastapi</code>默认生成的文档</p></blockquote><hr /><p>此时项目目录如下图:</p><p><img src="https://www.z4a.net/images/2024/05/22/image18461075f0b94a6c.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/05/22/image18461075f0b94a6c.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image18461075f0b94a6c.png" /></p><h1 id="前端获取后端数据"><a class="markdownIt-Anchor" href="#前端获取后端数据"></a> 前端获取后端数据</h1><p>前端需要加个包<code>axios</code>用来向后端发送数据。</p><p>后端需要设置<code>CORS</code>来允许跨域访问。</p><h2 id="前端部分"><a class="markdownIt-Anchor" href="#前端部分"></a> 前端部分</h2><p>回到<code>.\frontend</code>，输入<code>npm install axios</code>来安装包。</p><p>安装后修改<code>.\frontend\src\main.js</code>来导入这个包。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// frontend\src\main.js</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://localhost:8001/api/&#x27;</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">withCredentials</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>修改<code>.\frontend\src\app.vue</code>来向后端发送请求。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouterLink</span>, <span class="title class_">RouterView</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> message = <span class="title function_">ref</span>(<span class="string">&#x27;Empty message&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&#x27;/button&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    message.<span class="property">value</span> = res.<span class="property">data</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;@/assets/logo.svg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span> <span class="attr">height</span>=<span class="string">&quot;125&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">:msg</span>=<span class="string">&quot;message&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>click me!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">RouterLink</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">RouterLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">RouterLink</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">RouterLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">RouterView</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>此时点击按钮并不会发生什么反应，我们在<code>console</code>里可以发现出现了什么问题。</p><p><img src="https://www.z4a.net/images/2024/05/22/imaged33a8a7d0edc9bb3.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/05/22/imaged33a8a7d0edc9bb3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="imaged33a8a7d0edc9bb3.png" /></p><p>上述错误信息提示跨域访问不成功，这需要在服务器后端来配置。</p><h2 id="后端部分"><a class="markdownIt-Anchor" href="#后端部分"></a> 后端部分</h2><p>修改<code>main.py</code>添加CORS即可。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># backend\main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> fastapi.middleware.cors <span class="keyword">import</span> CORSMiddleware</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line">app.add_middleware(</span><br><span class="line">    CORSMiddleware,    </span><br><span class="line">    allow_origins= <span class="string">&quot;http://localhost:5174/&quot;</span>,    </span><br><span class="line">    allow_credentials=<span class="literal">True</span>,</span><br><span class="line">    allow_methods=[<span class="string">&quot;*&quot;</span>],</span><br><span class="line">    allow_headers=[<span class="string">&quot;*&quot;</span>],    </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_root</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/api/button&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_button</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;You clicked the button!&quot;</span></span><br></pre></td></tr></table></figure><p>此时点击按钮即可获取到消息。</p><p><img src="https://www.z4a.net/images/2024/05/22/image5352631c74a5e243.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/05/22/image5352631c74a5e243.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image5352631c74a5e243.png" /></p><h1 id="打包vue文件"><a class="markdownIt-Anchor" href="#打包vue文件"></a> 打包Vue文件</h1><p>对于目前全栈来说每次都要分别启动前端服务和后端服务未免有些繁琐，因此我们选择将Vue文件打包成<code>html</code>和若干个<code>js</code>与<code>css</code>文件，通过静态文件挂载到<code>fastapi</code>上，这样只需要启动后端就可以了。</p><h2 id="修改build路径"><a class="markdownIt-Anchor" href="#修改build路径"></a> 修改build路径</h2><p>来到<code>frontend\vite.config.js</code>里修改一下。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// frontend\vite.config.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 新增</span></span><br><span class="line">  <span class="attr">build</span>: &#123;</span><br><span class="line">    <span class="attr">outDir</span>: <span class="string">&#x27;../backend/static&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>接着<code>npm run build</code>即可打包。</p><h2 id="挂载静态文件"><a class="markdownIt-Anchor" href="#挂载静态文件"></a> 挂载静态文件</h2><p>再回到后端<code>main.js</code>挂载一下。</p><p>将对应内容修改为:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># backend\main.py</span></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> fastapi.middleware.cors <span class="keyword">import</span> CORSMiddleware</span><br><span class="line"><span class="keyword">from</span> fastapi.responses <span class="keyword">import</span> FileResponse</span><br><span class="line"><span class="keyword">from</span> fastapi.staticfiles <span class="keyword">import</span> StaticFiles</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line">app.add_middleware(</span><br><span class="line">    CORSMiddleware,    </span><br><span class="line">    allow_origins= <span class="string">&quot;http://127.0.0.1:8001/&quot;</span>,    <span class="comment"># 注意此处修改为127.0.0.1:8001</span></span><br><span class="line">    allow_credentials=<span class="literal">True</span>,</span><br><span class="line">    allow_methods=[<span class="string">&quot;*&quot;</span>],</span><br><span class="line">    allow_headers=[<span class="string">&quot;*&quot;</span>],</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">app.mount(<span class="string">&quot;/static&quot;</span>, StaticFiles(directory=<span class="string">&quot;static&quot;</span>), name=<span class="string">&quot;static&quot;</span>)</span><br><span class="line">app.mount(<span class="string">&#x27;/assets&#x27;</span>, StaticFiles(directory=<span class="string">&#x27;static/assets&#x27;</span>), name=<span class="string">&#x27;assets&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">root</span>():</span><br><span class="line">    <span class="keyword">return</span> FileResponse(<span class="string">&#x27;static/index.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/api/button&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_button</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;You clicked the button!&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>许多教程并没有mount assets文件夹，导致页面白屏</p></blockquote><p>最后这一句话导致找了几天的bug，不过总算把这个框架搭建完了。</p><p>后续开发也许还要注意一下资源的路径问题。</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> fastapi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手把手带你实现一个响应式系统</title>
      <link href="/xinonria.github.io/posts/8feee3db/"/>
      <url>/xinonria.github.io/posts/8feee3db/</url>
      
        <content type="html"><![CDATA[<p>本文探究了Vue.js中响应式系统的实现，通过介绍副作用函数与响应式数据，利用Proxy实现了一个相对完善的响应系统，同时讨论了分支切换导致冗余副作用的清理问题。</p><span id="more"></span><h1 id="副作用函数"><a class="markdownIt-Anchor" href="#副作用函数"></a> 副作用函数</h1><p>如果我们使用js中的某个函数改变了html标签里的某个内容，由于在这个函数以外的地方都能访问或者设置这个html标签的内容</p><p>所以我们说这个函数可能会<strong>直接或者间接</strong>影响到其他函数的执行，也就是产生了<strong>副作用</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">text</span>: <span class="string">&#x27;nihao&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// effect函数产生了副作用</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerText</span> = obj.<span class="property">text</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="响应式数据"><a class="markdownIt-Anchor" href="#响应式数据"></a> 响应式数据</h1><p>还是上面的代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">text</span>: <span class="string">&#x27;nihao&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// effect函数执行会读取obj.text</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerText</span> = obj.<span class="property">text</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">text</span> = <span class="string">&quot;hello&quot;</span></span><br></pre></td></tr></table></figure><p>在<code>effect</code>中我们将<code>body.innerText</code>与<code>obj.text</code>的值绑定在了一起。</p><hr /><h2 id="朴素做法"><a class="markdownIt-Anchor" href="#朴素做法"></a> 朴素做法</h2><p>我们的所希望的是<code>body.innerText</code>总是显示<code>obj.text</code>，要达到这个效果，只要每次修改<code>obj.text</code>的时候都调用一次effect就行了。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">text</span>: <span class="string">&#x27;nihao&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// effect函数执行会读取obj.text</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerText</span> = obj.<span class="property">text</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">effect</span>()</span><br><span class="line"></span><br><span class="line">obj.<span class="property">text</span> = <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="title function_">effect</span>()</span><br><span class="line"></span><br><span class="line">obj.<span class="property">text</span> = <span class="string">&quot;like&quot;</span></span><br><span class="line"><span class="title function_">effect</span>()</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>这未免也有些太麻烦了，我们是否可以让js智能一点？</p><p>在每次<strong>修改</strong><code>obj</code>的时候调用一下所有会<strong>读取</strong><code>obj</code>内容的副作用函数。</p><p>这样我们就把<code>obj</code>变成了所谓的<strong>响应式数据</strong>。</p><hr /><h2 id="基本实现响应式数据"><a class="markdownIt-Anchor" href="#基本实现响应式数据"></a> 基本实现响应式数据</h2><p>按照前面的说法，我们需要在<code>obj</code>被读取的时候，把这个函数给记录下来，作为<code>obj</code>的副作用函数。</p><p>在<code>obj</code>被修改的时候，把之前记录下来的关于它的副作用函数再调用一遍。</p><p>接下来的关键在于如何拦截<code>obj</code>的读取和修改操作。</p><hr /><p><code>Vue.js 3</code>使用ES2015+中的代理对象<code>Proxy</code>来实现这个拦截操作。</p><h3 id="proxy代理对象"><a class="markdownIt-Anchor" href="#proxy代理对象"></a> Proxy代理对象</h3><p>根据<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy">MDN文档</a>中对<code>Proxy</code>的说明:</p><h4 id="语法"><a class="markdownIt-Anchor" href="#语法"></a> 语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(target, handler)</span><br></pre></td></tr></table></figure><blockquote><p><code>Proxy</code>会对<code>target</code>(可以是任意类型)进行包装，最后返回一个<code>Proxy</code>对象。</p></blockquote><blockquote><p><code>handler</code>: 一个对象，其属性是定义了在对代理执行操作时的行为的函数。</p></blockquote><p>正常情况下我们不能拦截<code>target</code>的一些行为，但我们使用<code>Proxy</code>把它&quot;<strong>绑架</strong>&quot;之后，返回的一个跟它一模一样的<code>Proxy</code>对象就可以被我们拦截了。</p><hr /><p>在这里我们只拦截对<code>target</code>的<strong>读取</strong>和<strong>修改</strong>操作。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存储当前的副作用函数</span></span><br><span class="line"><span class="keyword">let</span> activeEffect</span><br><span class="line"></span><br><span class="line"><span class="comment">// effect用于注册副作用函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    activeEffect = fn</span><br><span class="line">    <span class="title function_">fn</span>()</span><br><span class="line">    activeEffect = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用Set来存储副作用函数</span></span><br><span class="line"><span class="keyword">const</span> effectFuncs = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">text</span>: <span class="string">&#x27;nihao&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 劫持data</span></span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line">    <span class="comment">// 拦截读取操作</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">        <span class="comment">// 记录副作用函数</span></span><br><span class="line">        effectFuncs.<span class="title function_">add</span>(activeEffect)</span><br><span class="line">        <span class="comment">// 返回属性</span></span><br><span class="line">        <span class="keyword">return</span> target[key]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截修改操作</span></span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, key, newVal</span>) &#123;</span><br><span class="line">        <span class="comment">// 先修改</span></span><br><span class="line">        target[key] = newVal</span><br><span class="line">        <span class="comment">// 再调用所有副作用函数</span></span><br><span class="line">        effectFuncs.<span class="title function_">forEach</span>(<span class="function"><span class="params">fn</span> =&gt;</span> <span class="title function_">fn</span>())</span><br><span class="line">        <span class="comment">// 表示设置成功</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个匿名的副作用函数, 用于更新页面</span></span><br><span class="line"><span class="title function_">effect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerText</span> = obj.<span class="property">text</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 修改响应式数据</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    obj.<span class="property">text</span> = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure><p>当页面运行的时候第一个副作用函数被调用，把<code>obj.text</code>绑定到<code>body.innerText</code>上，</p><p>同时将这个副作用函数放到<code>Set</code>内，以便以后调用。</p><p>当时间经过2s后，<code>obj</code>受到修改，同时调用与之相关的副作用函数(也就是前一个绑定<code>obj.text</code>到<code>body.innerText</code>的副作用函数)，更新<code>body.innerText</code>的值。</p><hr /><p>细心的读者可能发现上面的代码有些不合适，我们的劫持操作是对<code>obj</code>整个对象来做的</p><p>同时副作用函数也绑定在整个对象上。</p><p>如果我们修改<code>obj</code>对象，但是我们修改的是<code>obj</code>别的属性(例如<code>value</code>)，似乎也会触发对<code>set()</code>的劫持，把所有绑定到<code>obj</code>上的副作用函数都调用一遍。</p><p>我们应该让副作用函数跟对象的属性绑定在一起，如下图的结构:</p><p><a href="https://imgse.com/i/pFHzCL9"><img src="https://s21.ax1x.com/2024/04/03/pFHzCL9.jpg" class="lazyload" data-srcset="https://s21.ax1x.com/2024/04/03/pFHzCL9.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="结构图" /></a></p><p><code>effect1</code>和<code>effect2</code>会读取<code>obj1.text</code>属性，所以在修改<code>obj1.text</code>属性的时候应该执行这两个函数。</p><p><code>effect1</code>和<code>effect3</code>会读取<code>obj1.value</code>属性，所以在修改<code>obj1.value</code>属性的时候应该执行这两个函数。</p><p>现在修改一下上面的代码:</p><p>只存储涉及副作用函数的对象和属性，并不是追踪所有属性。</p><p>下文所有对象、属性都为跟副作用函数的有关的对象和属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> activeEffect</span><br><span class="line"><span class="comment">// 存储对象，对象-&gt;属性</span></span><br><span class="line"><span class="keyword">const</span> bucket = <span class="keyword">new</span> <span class="title class_">WeakMap</span>() <span class="comment">// 后文解释为什么这里用WeakMap</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    <span class="comment">// 将当前对象的属性和副作用函数关联</span></span><br><span class="line">    <span class="title function_">track</span>(target, key);</span><br><span class="line">    <span class="keyword">return</span> target[key];</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, key, newVal</span>) &#123;</span><br><span class="line">    target[key] = newVal;</span><br><span class="line">    <span class="comment">// 当属性发生变化时，触发所有副作用函数</span></span><br><span class="line">    <span class="title function_">trigger</span>(target, key);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">track</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">  <span class="comment">// 不是通过副作用函数读取的属性，直接return</span></span><br><span class="line">  <span class="keyword">if</span> (!activeEffect) <span class="keyword">return</span> target[key];</span><br><span class="line">  <span class="comment">// 获取当前target的属性，depsMap类型为Map，存储属性-&gt;副作用函数</span></span><br><span class="line">  <span class="keyword">let</span> depsMap = bucket.<span class="title function_">get</span>(target);</span><br><span class="line">  <span class="comment">// 当前对象还没有属性</span></span><br><span class="line">  <span class="keyword">if</span> (!depsMap) &#123;</span><br><span class="line">    bucket.<span class="title function_">set</span>(target, (depsMap = <span class="keyword">new</span> <span class="title class_">Map</span>()));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 获取当前属性的副作用函数，类型为Set，存储副作用函数</span></span><br><span class="line">  <span class="keyword">let</span> deps = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line">  <span class="comment">// 当前属性还没有存储副作用函数</span></span><br><span class="line">  <span class="keyword">if</span> (!deps) &#123;</span><br><span class="line">    depsMap.<span class="title function_">set</span>(key, (deps = <span class="keyword">new</span> <span class="title class_">Set</span>()));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 将当前副作用函数存储进Set中</span></span><br><span class="line">  deps.<span class="title function_">add</span>(activeEffect);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">trigger</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">  <span class="comment">// 获得当前对象的属性</span></span><br><span class="line">  <span class="keyword">const</span> depsMap = bucket.<span class="title function_">get</span>(target);</span><br><span class="line">  <span class="comment">// 当前对象不存在涉及副作用函数的属性</span></span><br><span class="line">  <span class="keyword">if</span> (!depsMap) <span class="keyword">return</span>;</span><br><span class="line">  <span class="comment">// 获得当前属性的副作用函数</span></span><br><span class="line">  <span class="keyword">const</span> effects = depsMap.<span class="title function_">get</span>(key);</span><br><span class="line">  effects &amp;&amp; effects.<span class="title function_">forEach</span>(<span class="function"><span class="params">fn</span> =&gt;</span> <span class="title function_">fn</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><h3 id="weakmap"><a class="markdownIt-Anchor" href="#weakmap"></a> weakMap</h3><p>根据<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakMap">MDN文档</a>中对weakMap的说明:</p><p>weakMap和Map很相似，但区别在于</p><blockquote><ul><li>不会阻止垃圾回收，直到垃圾回收器移除了键对象的引用</li><li>任何值都可以被垃圾回收，只要它们的键对象没有被 <code>WeakMap</code> 以外的地方引用</li></ul></blockquote><p>weakMap不会阻止它的键被垃圾回收，一旦键的生命周期结束，键被垃圾回收了，那么weakMap的键值对也都会被回收。</p><p>我们使用<code>weakMap</code>存储对象-&gt;属性的原因也在于此。</p><p>如果这个响应式数据被<strong>销毁了</strong>或是<strong>生命周期结束</strong>了，那么它所存储的那些副作用函数都应该被<strong>释放</strong>。这样才能避免发生<strong>内存泄露</strong>。</p><hr /><p>现在让我们来尝试使用一下这个简单的响应式数据。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./index.html</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/my.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">./js/my.<span class="property">js</span></span><br><span class="line"><span class="keyword">const</span> data = &#123;<span class="attr">text</span>: <span class="string">&#x27;nihao&#x27;</span>, <span class="attr">value</span>: <span class="number">1</span>&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> div1 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.div1&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> div2 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.div2&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">effect</span>(<span class="keyword">function</span> <span class="title function_">effect1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    div1.<span class="property">innerHTML</span> = obj.<span class="property">text</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">effect</span>(<span class="keyword">function</span> <span class="title function_">effect2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    div2.<span class="property">innerHTML</span> = obj.<span class="property">value</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    obj.<span class="property">text</span> = <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    obj.<span class="property">value</span> = <span class="number">2</span>;</span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure><p><code>effect1</code>和<code>effect2</code>被注册为副作用函数。</p><p>在读取<code>obj.text</code>和<code>obj.value</code>的时候被<code>get</code>方法劫持，将对应的副作用函数与<code>obj</code>对应的属性绑定。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj -&gt; text -&gt; effect1</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    -&gt; value -&gt; effect2</span><br></pre></td></tr></table></figure><p>过了1s之后，修改<code>obj.text</code>的值，被<code>set</code>方法劫持，得到<code>text</code>属性对应的所有副作用函数<code>effect1</code>，重新执行<code>effect1</code>函数，更新页面。</p><p>过了2s之后，修改<code>obj.value</code>的值，被<code>set</code>方法劫持，得到<code>value</code>属性对应的所有副作用函数<code>effect2</code>，重新执行<code>effect2</code>函数，更新页面。</p><hr /><h2 id="优化分支切换"><a class="markdownIt-Anchor" href="#优化分支切换"></a> 优化分支切换</h2><h3 id="分支切换"><a class="markdownIt-Anchor" href="#分支切换"></a> 分支切换</h3><p>也许我们可能会根据对象的某个属性的值来执行不同的操作，如果某个操作分支当中又发生了<code>get</code>操作，那么可能会产生遗留的副作用函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;<span class="attr">text</span>: <span class="string">&#x27;hello world&#x27;</span>, <span class="attr">ok</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="title function_">effect</span>(<span class="keyword">function</span> <span class="title function_">effect1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    div1.<span class="property">innerHTML</span> = obj.<span class="property">ok</span> ? obj.<span class="property">text</span> : <span class="string">&#x27;not&#x27;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这里的三元运算就产生了分支操作。</p><p>当<code>obj.ok</code>的值为真时，读取<code>obj.text</code>的值，触发两次<code>get</code>操作(读取<code>ok</code>一次，读取<code>text</code>一次)，所以让effect1这个函数被绑定在<code>ok</code>和<code>text</code>属性上。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj -&gt; ok -&gt; effect1</span><br><span class="line">    |</span><br><span class="line">    |</span><br><span class="line">    -&gt; text -&gt; effect1</span><br></pre></td></tr></table></figure><p>如果我们修改<code>obj.text</code>的值时，调用<code>effect1</code>函数，更新页面内容。</p><p>如果我们修改<code>obj.ok</code>的值时，也会调用<code>effect1</code>函数</p><p>但由于<code>ok</code>控制了分支切换，如果它为<code>false</code>，那么<code>div1</code>内容就是固定的<code>not</code>，与<code>obj.text</code>无关了。</p><p>但由于<code>obj.text</code>仍然绑定着这个<code>effect1</code>副作用函数，修改<code>obj.text</code>仍然会重新执行<code>effect1</code>函数，尽管这并不会导致页面更新(因为<code>obj.ok</code>此时为<code>false</code>)。</p><p>理想情况下我们希望在<code>obj.ok</code>为<code>false</code>的时候解除<code>obj.text</code>对<code>effect1</code>的绑定，因为<code>obj.text</code>已经与这个副作用函数脱钩了。</p><hr /><p>解决的思路也简单，我们需要在每次<strong>副作用函数执行</strong>的时候<strong>先</strong>把它自己从所有<strong>与之有关的对象属性</strong>中删除，称为<code>cleanup</code>操作。</p><p>在副作用函数执行的过程中重新把自己添加进相应的对象属性中。</p><p>还是上面的例子:</p><p><code>obj.ok</code>为<code>true</code>，读取了<code>obj.ok</code>与<code>obj.text</code>，所以把副作用函数绑定到了这两个属性上。</p><p>接下来修改<code>obj.ok</code>为<code>false</code>，触发<code>set</code>方法，调用<code>effect1</code>函数。</p><p>在调用的时候<strong>先把<code>effect1</code>从所有属性上脱离绑定</strong>，接着运行函数。</p><p>触发对<code>obj.ok</code>的读取，触发<code>get</code>方法，把<code>effect1</code>重新注册到<code>obj.ok</code>属性上。</p><p>读取到当前<code>obj.ok</code>为<code>false</code>，显示<code>not</code>。(不会触发读取<code>obj.text</code>的操作，因此<code>effect1</code>不会被注册到<code>obj.text</code>上了)</p><hr /><p>接下来就是实现以上思路了。</p><p>我们需要完成两个操作:</p><ol><li>收集<code>effect1</code>与哪些属性绑定的信息</li><li>对绑定了<code>effect1</code>的属性进行<code>cleanup</code>操作</li></ol><p>既然要收集信息，所以我们要先创建一个<code>list</code>来用于存放相关的对象属性。</p><p>修改一下注册副作用函数时的<code>effect</code>函数与<code>track</code>函数与<code>trigger</code>函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存储当前的副作用函数</span></span><br><span class="line"><span class="keyword">let</span> activeEffect</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">effect</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="comment">// 清理副作用函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">cleanup</span>(<span class="params"></span>) &#123;</span><br><span class="line">        effectFn.<span class="property">deps</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">dep</span> =&gt;</span> &#123;</span><br><span class="line">            dep.<span class="title function_">delete</span>(effectFn);</span><br><span class="line">        &#125;);</span><br><span class="line">        effectFn.<span class="property">deps</span>.<span class="property">length</span> = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">effectFn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="title function_">cleanup</span>();</span><br><span class="line">        activeEffect = effectFn;</span><br><span class="line">        <span class="title function_">fn</span>();</span><br><span class="line">        activeEffect = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    effectFn.<span class="property">deps</span> = [];</span><br><span class="line">    <span class="title function_">effectFn</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="comment">// 收集属性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">track</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 收集当前属性包含的副作用函数，放到触发set操作的副作用函数的deps里</span></span><br><span class="line">    activeEffect.<span class="property">deps</span>.<span class="title function_">push</span>(deps);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">trigger</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 创建一个新的effectsToRun来使用forEach，否则会在执行副作用函数的时候先cleanup接着再次添加进Set，这样子会进入死循环</span></span><br><span class="line">    <span class="keyword">const</span> effectsToRun = <span class="keyword">new</span> <span class="title class_">Set</span>(effects);</span><br><span class="line">    effectsToRun.<span class="title function_">forEach</span>(<span class="function"><span class="params">fn</span> =&gt;</span> <span class="title function_">fn</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><p>感谢您阅读到这里，本文就先写到这里吧。</p><p>响应式系统还有更多复杂的内容，例如<code>effect</code>函数嵌套和调度执行，以及<code>computed</code>和<code>watch</code>等属性，这些内容以后再写写吧。</p><blockquote><p>我的理解和分析很大程度上得益于《Vue.js 设计与实现》一书 (作者:霍春阳)。书中对响应系统的实现原理进行了深入的讲解，为我撰写本文提供宝贵的参考。在此我向霍春阳先生表示衷心的感谢。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记一次痛苦流配置环境过程</title>
      <link href="/xinonria.github.io/posts/c2eb3971/"/>
      <url>/xinonria.github.io/posts/c2eb3971/</url>
      
        <content type="html"><![CDATA[<h1 id="对象"><a class="markdownIt-Anchor" href="#对象"></a> 对象</h1><p><a href="https://github.com/miracle-2001/gnn4eeg">GNN4EEG</a></p><h1 id="官方搭建过程"><a class="markdownIt-Anchor" href="#官方搭建过程"></a> 官方搭建过程</h1><ol><li>Install Anaconda with Python &gt;= 3.5</li><li>Clone the repository</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Miracle-2001/GNN4EEG.git</span><br></pre></td></tr></table></figure><ol start="3"><li>Install requirements and step into the <code>src</code> folder</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> GNN4EEG</span><br><span class="line"><span class="built_in">cd</span> src</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>如果在 Windows 上按照以上过程，恭喜你，十有八九会卡在<code>pip install -r requirements.txt</code>这一步。</p><p>可能会出现的错误包括但不限于:</p><ol><li><code>eeg-positions</code>安装失败</li><li><code>mkl-fft==1.3.1</code>安装失败</li><li><code>pyg-lib</code>找不到对应版本</li><li><code>torch-cluster</code>等工具链找不到对应版本</li></ol><h1 id="配置全过程"><a class="markdownIt-Anchor" href="#配置全过程"></a> 配置全过程</h1><h2 id="eeg-positions-与-mkl-fft-安装失败"><a class="markdownIt-Anchor" href="#eeg-positions-与-mkl-fft-安装失败"></a> eeg-positions 与 mkl-fft 安装失败</h2><p>报错信息:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Package &#x27;eeg-positions&#x27; requires a different Python: 3.6.15 not in &#x27;&gt;=3.7&#x27;</span><br></pre></td></tr></table></figure><p>挺好懂的，版本过低嘛。</p><p>实际通过.ipynb 文件源码能发现作者用的压根不是 3.5，而是<code>3.10</code>。</p><p><img src="https://www.z4a.net/images/2024/03/24/imagefb5c6ef9a81ac62d.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/imagefb5c6ef9a81ac62d.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>但当时的我还没发现(后面用 git diff 才发现的…), 尝试 3.7, 3.8, 3.9 等多个版本后发现<strong>Python3.9</strong>能够正常安装上这两个包。</p><h2 id="pyg-lib找不到对应版本"><a class="markdownIt-Anchor" href="#pyg-lib找不到对应版本"></a> <code>pyg-lib</code>找不到对应版本</h2><p>报错信息:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Ignored the following versions that require a different python version: 2.5.2 Requires-Python !=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,&lt;3.9dev,&gt;=2.7</span><br><span class="line">ERROR: Could not find a version that satisfies the requirement pyg-lib==0.2.0+pt113cu116 (from versions: none)</span><br><span class="line">ERROR: No matching distribution found for pyg-lib==0.2.0+pt113cu116</span><br></pre></td></tr></table></figure><p>其他人也都大部分卡在这个地方过不去。它说没有找到对应的版本，那我们就去<code>Pypi</code>上看看到底有哪些版本。</p><p><a href="https://pypi.org/project/pyg-library/">pyg-lib</a></p><p>官网上面说可以用这个命令安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyg-lib -f https://data.pyg.org/whl/torch-<span class="variable">$&#123;TORCH&#125;</span>+<span class="variable">$&#123;CUDA&#125;</span>.html</span><br></pre></td></tr></table></figure><p>哦？后面的那个网址可能就是安装源了吧，对应 torch1.13.0 和 cu116 进去看看，能不能手动下载下来呢？</p><p><a href="https://data.pyg.org/whl/nightly/torch-1.13.0+cu116.html">网址</a></p><p><img src="https://www.z4a.net/images/2024/03/24/image98992eb79952d133.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/image98992eb79952d133.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>不是这啥啊，怎么全是 linux 呢？</p><p><img src="https://www.z4a.net/images/2024/03/24/452da285978a4b44a34ff9858f139c98.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/452da285978a4b44a34ff9858f139c98.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>回去再看看官网</p><p><img src="https://www.z4a.net/images/2024/03/24/imagea0bfe338a6eda5e2.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/imagea0bfe338a6eda5e2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>呃呃，幽默 windows。</p><p>咋整吧，上 Linux 咯。</p><h3 id="wsl-安装过程"><a class="markdownIt-Anchor" href="#wsl-安装过程"></a> WSL 安装过程</h3><p>Linux 我们又不用它图形化界面，能让我输指令就行了，所以装个 wsl 吧。</p><h4 id="添加功能"><a class="markdownIt-Anchor" href="#添加功能"></a> 添加功能</h4><p>在开始菜单搜索<code>启用或关闭Windows功能</code>，把<code>Hyper-V</code>, <code>Windows虚拟机监控程序平台</code>, <code>适用于Linux的Windows子系统</code>给勾上。</p><p>家庭版不能勾哦，整个专业版 Windows 吧。</p><h4 id="虚拟化内核"><a class="markdownIt-Anchor" href="#虚拟化内核"></a> 虚拟化内核</h4><p>接着检查一下 cpu 虚拟化开了没，没开的要在 BIOS 上开开。</p><p><img src="https://www.z4a.net/images/2024/03/24/image39d3a4df065928b0.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/image39d3a4df065928b0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="安装-ubuntu"><a class="markdownIt-Anchor" href="#安装-ubuntu"></a> 安装 ubuntu</h4><p>直接 cmd 输入安装就可以啦。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install</span><br></pre></td></tr></table></figure><p>请保证你的 C 盘有至少 20G 空闲空间。</p><p>结果安装失败了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Please enable the Virtual Machine Platform Windows feature and ensure virtualization is enabled in the BIOS.</span><br></pre></td></tr></table></figure><p>不是，我不是已经开了吗？又在网上找教程。</p><p><a href="https://www.cnblogs.com/towinar/p/17206040.html">教程</a></p><p>最后在 cmd 又输入了<code>bcdedit /set hypervisorlaunchtype auto</code>成功启动 ubuntu 并且设置密码。</p><p>以上每一输入一次指令后都建议重启一下哦。</p><h4 id="迁移-ubuntu"><a class="markdownIt-Anchor" href="#迁移-ubuntu"></a> 迁移 ubuntu</h4><p>由于后续还要下很多东西，wsl 默认安装到 C 盘上了。为了避免红盘，应该将我们得 linux 迁移到别的盘里。</p><p>按照这个教程走就没什么问题,这里就不赘述了。</p><p><a href="https://blog.csdn.net/weixin_42705114/article/details/131106845">教程</a></p><p>(记得 export 的时候别忘了带后缀名.tar，以及提前建好文件夹放进去)</p><h4 id="完善-ubuntu"><a class="markdownIt-Anchor" href="#完善-ubuntu"></a> 完善 ubuntu</h4><p>上线后照例更新一下 apt 包管理器。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure><p>这里要再装一个<code>g++</code>，不然后面的<code>torch</code>工具链无法 setup。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install g++</span><br></pre></td></tr></table></figure><p>这边为了看能不能调用 cuda 我还装了个 cudatoolkit。(不知道有没有影响，但我确实这么做了)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cudatoolkit</span><br></pre></td></tr></table></figure><p>为了避免环境污染(<s>保护地球环境</s>)，这里装个 miniconda 用来建 conda 环境。</p><p>去清华源下个最新版: <code>https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/</code></p><p>在我们的 ubuntu 里下方便点。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><p>安装一路 yes 过去，最后那步是为了激活我们安装的 conda。</p><h4 id="创建环境"><a class="markdownIt-Anchor" href="#创建环境"></a> 创建环境</h4><p>找个目录<code>git clone https://github.com/Miracle-2001/GNN4EEG.git</code>一下仓库。</p><p>然后就是创建 conda 环境。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n gnn4eeg python==3.9</span><br><span class="line">conda activate gnn4eeg</span><br></pre></td></tr></table></figure><p>ok 了，接下来回到最开始的目标，手动安装一下<s>该死的</s><code>pyg-lib</code></p><p>安装完成后记得在 requirements.txt 把它给删了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyg-lib -f https://data.pyg.org/whl/torch-2.0.1+cu121.html</span><br></pre></td></tr></table></figure><p>(至于这里为什么不是 torch1.13 和 cu116 原因如下)</p><h2 id="torch-cluster-等工具链"><a class="markdownIt-Anchor" href="#torch-cluster-等工具链"></a> torch-cluster 等工具链</h2><p>这里感觉可能 torch 版本跟 cuda 对不上(cuda 是 12.1)，由于作者用的是 torch1 的末尾版本，所以感觉上 torch2 应该没问题。</p><p>这里看 Pypi 官网上面的安装说明。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install torch torchvision torchaudio</span><br><span class="line">pip install pyg_lib torch_scatter torch_sparse torch_cluster torch_spline_conv -f https://data.pyg.org/whl/torch-2.0.0+cu121.html</span><br></pre></td></tr></table></figure><p>如果以上都完成了的话再安装一遍 requirements.txt。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="运行"><a class="markdownIt-Anchor" href="#运行"></a> 运行</h2><p>这里先建一个<code>test.py</code>看看。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> pyg_lib</span><br><span class="line"><span class="built_in">print</span>(torch.cuda.is_available())</span><br></pre></td></tr></table></figure><p>如果能运行出<code>True</code>就大功告成了。</p><p>如果最后末尾是这种类似错误那就是 cuda 和 torch 版本对不上，去查一下文档玩版本消消乐吧。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OSError: libtorch_cuda_cpp.so: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure><p>成功了那就去运行一下样例文件<code>example_dgcnn_cross2.py</code>吧。</p><p>前面 import 都能通过的话就看到胜利曙光了。</p><h3 id="sklearn-版本错误"><a class="markdownIt-Anchor" href="#sklearn-版本错误"></a> sklearn 版本错误</h3><p>requirements.txt 里面 sklearn 指定版本是 0.0.0？有点怪，把它<code>pip uninstall sklearn</code>后再安装一下<code>pip install sklearn</code>。</p><p>版本依赖已经不管啦</p><h3 id="hdf5-导入出错"><a class="markdownIt-Anchor" href="#hdf5-导入出错"></a> hdf5 导入出错</h3><p>运行到 loader 那就报错了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">__init__() missing 1 required positional argument: &#x27;version&#x27;</span><br></pre></td></tr></table></figure><p>检查了一下是 hdf5 的问题，反正都是读入 matlab 文件，你不行我换一个库呗。</p><p>在<code>ge/protocols.py</code>里面的 135 行<code>data = hdf5.loadmat(data_path)['de_lds']</code>改成用<code>scipy.io</code>来导入 mat 文件。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.io <span class="keyword">as</span> scio</span><br><span class="line">...</span><br><span class="line">data = scio.loadmat(data_path)[<span class="string">&#x27;de_lds&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="找不到设备"><a class="markdownIt-Anchor" href="#找不到设备"></a> 找不到设备</h3><p>这些能够一直跑到训练模型了，但是又报错了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RuntimeError: CUDA error: invalid device ordinal CUDA kernel errors might be asynchronously reported at some other API call, so the stacktrace below might be incorrect. For debugging consider passing CUDA_LAUNCH_BLOCKING=1. Compile with `TORCH_USE_CUDA_DSA` to <span class="built_in">enable</span> device-side assertions.</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2024/03/24/efb4d457c7636d345a84c2f99f4ca96c.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/efb4d457c7636d345a84c2f99f4ca96c.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>看看我有哪些 gpu 以及编号。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p>确实检测到了 gpu，但为啥不学习呢？</p><p>在<code>example_dgcnn_cross2.py</code>第 31 行。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">device=torch.device(<span class="string">&#x27;cuda:3&#x27;</span>)</span><br></pre></td></tr></table></figure><p>我哪有 4 路交火的 gpu？把 3 改成 0 就可以了。</p><h1 id="成功"><a class="markdownIt-Anchor" href="#成功"></a> 成功!</h1><p><img src="https://www.z4a.net/images/2024/03/24/89801c1f2aa35cef3d14527cead670e.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/24/89801c1f2aa35cef3d14527cead670e.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>最后看到这个结果的时候感动得要哭出来了快。</p><p>目前跑一个 epoch 要 10 秒左右，跑一轮设置为 100 个 epoch，再加上 27 行的<code>K=10</code>，应该是要跑 1000 次，大概快三个小时的样子。</p><p>不过这个模型大概 epoch 在 30 到 50 次左右就差不多收敛了，可以看看设置个早停优化一下。</p><p>源码到时候再研究一下吧。</p><p>下面是配置好的 fork 仓库。</p><p><a href="https://github.com/xinonria/GNN4EEG">链接</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> machine_learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一个Next.js项目的总结 - 1</title>
      <link href="/xinonria.github.io/posts/8188f4d4/"/>
      <url>/xinonria.github.io/posts/8188f4d4/</url>
      
        <content type="html"><![CDATA[<h1 id="前面的话"><a class="markdownIt-Anchor" href="#前面的话"></a> 前面的话</h1><p>之前就有些 React 基础，这次借着学习 Next.js 的机会把 React 的知识巩固一下，同时也尝试从 JavaScript 过渡到 TypeScript 上面，同时有了 CSS 的基础之后使用 tailwindcss 也更顺手了。</p><h1 id="项目效果"><a class="markdownIt-Anchor" href="#项目效果"></a> 项目效果</h1><p><a href="https://learn-next-js-obym.vercel.app/">地址</a></p><p>由于部署在 Vercel 上，也许要科学上网才能访问。</p><p><img src="https://www.z4a.net/images/2024/03/02/hero-desktop.webp" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/02/hero-desktop.webp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>适配移动端以及桌面端。</p><h1 id="知识点"><a class="markdownIt-Anchor" href="#知识点"></a> 知识点</h1><h2 id="router-系统"><a class="markdownIt-Anchor" href="#router-系统"></a> Router 系统</h2><p><img src="https://www.z4a.net/images/2024/03/02/image139f303a31067a10.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/02/image139f303a31067a10.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>主要页面文件都在 App 文件夹内。</p><p>其中 ui 文件夹放需要用到的组件，lib 文件夹放与服务端相关的 ts 文件。</p><p>页面则放在以页面名命名的文件夹内，约定以<code>page.tsx</code>作为页面文件。</p><p>可选<code>layout.tsx</code>作为覆盖进同层级以及子层级的页面文件。</p><p>例如<code>@/app/dashboard/layout.tsx</code>为侧边导航栏。</p><h3 id="静态路由"><a class="markdownIt-Anchor" href="#静态路由"></a> 静态路由</h3><p>不同页面之间可以使用<code>&lt;Link&gt;&lt;/Link&gt;</code>，不使用<code>&lt;a /&gt;</code>标签跳转。例如</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Link</span></span><br><span class="line">  href=<span class="string">&quot;/login&quot;</span></span><br><span class="line">  className=<span class="string">&quot;flex items-center gap-5 self-start rounded-lg bg-blue-500 px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-blue-400 md:text-base&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Log in<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span> <span class="language-xml"><span class="tag">&lt;<span class="name">ArrowRightIcon</span> <span class="attr">className</span>=<span class="string">&quot;w-5 md:w-6&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Link</span>&gt;</span><br></pre></td></tr></table></figure><p><code>&lt;Link&gt;</code>标签内可以塞入别的标签。</p><p>在 ts 文件内还可以使用<code>redirect('/dashboard/invoices');</code>重定向到页面。</p><h3 id="动态路由"><a class="markdownIt-Anchor" href="#动态路由"></a> 动态路由</h3><p>当不确定路由地址的时候可以使用动态路由，例如博客地址，个人界面。</p><p>可以使用中括号<code>[]</code>包括路由名来创建动态路由，例如<code>[blog]</code>,<code>[id]</code>。</p><p>导航的时候使用模板字符串就行了，在页面组件的地方接收一下。</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导航</span></span><br><span class="line">&lt;<span class="title class_">Link</span> href=<span class="string">`/dashboard/invoices/<span class="subst">$&#123;id&#125;</span>/edit`</span>&gt;&lt;/<span class="title class_">Link</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">Page</span>(<span class="params">&#123; params &#125;: &#123; params: &#123; id: <span class="built_in">string</span> &#125; &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> id = params.<span class="property">id</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="逻辑组"><a class="markdownIt-Anchor" href="#逻辑组"></a> 逻辑组</h3><p>可以使用圆括号<code>()</code>来声明一个逻辑组。逻辑组的名称不会出现在 url 中，但会影响<code>loading.tsx</code>与<code>layout.tsx</code>的工作。</p><p>例如要创建<code>dashboard</code>的<code>loading</code>界面，但我们不想让这个<code>loading</code>界面应用到别的页面，可以创建一个逻辑组来阻止<code>loading</code>界面扩散。</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dashboard/(overview) / page.<span class="property">tsx</span> / dashboard / overview / loading.<span class="property">tsx</span>;</span><br></pre></td></tr></table></figure><h2 id="流式加载"><a class="markdownIt-Anchor" href="#流式加载"></a> 流式加载</h2><h3 id="loading-页面"><a class="markdownIt-Anchor" href="#loading-页面"></a> loading 页面</h3><p>上文提到了<code>loading</code>页面。</p><p>由于网站的时间花费主要集中在网络与存取数据库上，所以为了对用户友好，可以使用流式加载。</p><p><img src="https://www.z4a.net/images/2024/03/02/imagee0bc1ade4322da89.png" class="lazyload" data-srcset="https://www.z4a.net/images/2024/03/02/imagee0bc1ade4322da89.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>在还没加载好的时候提前给出一个页面，加载完成后再显示数据。</p><p>例如<code>loading.tsx</code>就可以在当前页面还没渲染好的时候，提前发送给用户显示。</p><h3 id="流式传输组件"><a class="markdownIt-Anchor" href="#流式传输组件"></a> 流式传输组件</h3><p>除了页面可以流式传输，组件也可以流式传输。我们先传输加载完成的组件给用户，还未加载好的组件就保持加载状态。</p><p>可以使用<code>&lt;Suspense&gt;</code>标签实现这个功能。</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Suspense</span> fallback=&#123;<span class="language-xml"><span class="tag">&lt;<span class="name">RevenueChartSkeleton</span> /&gt;</span></span>&#125;&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">RevenueChart</span> /&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Suspense</span>&gt;</span><br></pre></td></tr></table></figure><p><code>&lt;RevenueChart /&gt;</code>是加载完毕的数据。</p><p>而<code>&lt;Suspense&gt;</code>标签的 fallback 属性就是还在加载中显示的组件。</p><p>…待续</p>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算区间次数的方法</title>
      <link href="/xinonria.github.io/posts/e2b2f835/"/>
      <url>/xinonria.github.io/posts/e2b2f835/</url>
      
        <content type="html"><![CDATA[<h1 id="原题背景"><a class="markdownIt-Anchor" href="#原题背景"></a> 原题背景</h1><p>可以直接跳到核心</p><p><a href="https://www.luogu.com.cn/problem/P3406">原题链接</a></p><h2 id="分析"><a class="markdownIt-Anchor" href="#分析"></a> 分析</h2><p>可以贪心，选择买卡还是不买卡的关键在于这段铁路会被访问多少次</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s[i].money = min(s[i].a*s[i].vis, s[i].c+s[i].b*s[i].vis)</span><br></pre></td></tr></table></figure><h2 id="核心"><a class="markdownIt-Anchor" href="#核心"></a> 核心</h2><p>如何统计这段铁路会被访问多少次呢？(注意左闭右开原则)</p><p>给出<strong>多组</strong>i 与 j</p><p>要让 i 到 j 的每个数组中的成员 vis+1</p><p>例如： s[i].vis+1,s[i+1].vis+1,…,s[j].vis+1</p><p>如果暴力 for 循环对每段赋值的话是会超时的。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = from; i &lt; to; ++i) &#123;</span><br><span class="line">    s[i].vis++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>线段树或者树状数组或许可以完成，但没必要</p><h1 id="解决方法"><a class="markdownIt-Anchor" href="#解决方法"></a> 解决方法</h1><p>我们在开始的位置+1，并在结尾的位置-1。最后再求前缀和，得到的就是每段的访问次数了。</p><h2 id="例如"><a class="markdownIt-Anchor" href="#例如"></a> 例如</h2><p>从车站 1 -&gt; 5 和 1 -&gt; 4。 (下方表示第 i 段铁路，到达站点五，并不会经过第 5 段铁路)</p><p>应该出现的结果是:</p><table><thead><tr><th>第 i 段铁路</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>访问次数</td><td>2</td><td>2</td><td>2</td><td>1</td><td>0</td></tr></tbody></table><p>按照我们的方法:</p><table><thead><tr><th>第 i 段铁路</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>访问次数</td><td>+1+1</td><td>0</td><td>0</td><td>-1</td><td>-1</td></tr></tbody></table><p>对这个数组求前缀和:</p><table><thead><tr><th>第 i 段铁路</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>访问次数</td><td>2</td><td>2</td><td>2</td><td>1</td><td>0</td></tr></tbody></table><p>如此，我们只需要循环一遍就能够完成对区间访问次数的计数了。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多次调用，处理每个区间头尾</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addVis</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(a, b);</span><br><span class="line">    &#125;</span><br><span class="line">    stations[a].vis++;</span><br><span class="line">    stations[b].vis--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 如果压根从来不会经过的站台，就没必要计算了</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = min_city; i &lt;= max_city; i++) &#123;</span><br><span class="line">        stations[i].vis += stations[i - <span class="number">1</span>].vis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 前缀和 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react-1</title>
      <link href="/xinonria.github.io/posts/116f1cdc/"/>
      <url>/xinonria.github.io/posts/116f1cdc/</url>
      
        <content type="html"><![CDATA[<h1 id="jsx"><a class="markdownIt-Anchor" href="#jsx"></a> JSX</h1><h2 id="概念"><a class="markdownIt-Anchor" href="#概念"></a> 概念</h2><p>JSX是JavaScript和XML（HTML）的缩写，表示在<strong>JS代码中编写HTML模版结构</strong>。它是React中编写UI模版的方式。<br />例如:</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> message=<span class="string">&#x27;this is message&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span> () &#123;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>this is title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  &#123;message&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="优势"><a class="markdownIt-Anchor" href="#优势"></a> 优势</h2><ol><li>HTML的声明式模版写法</li><li>JS的可编程能力</li></ol><h2 id="劣势"><a class="markdownIt-Anchor" href="#劣势"></a> 劣势</h2><ol><li>HTML与JS组合在一起阅读有些困难</li></ol><h2 id="本质"><a class="markdownIt-Anchor" href="#本质"></a> 本质</h2><p>JSX并不是标准的JS语法，是JS的<strong>语法拓展</strong>,浏览器本身无法识别，通过<strong>解析工具</strong>后在浏览器中运行。</p><h2 id="jsx中使用js表达式"><a class="markdownIt-Anchor" href="#jsx中使用js表达式"></a> JSX中使用JS表达式</h2><h3 id="识别表达式"><a class="markdownIt-Anchor" href="#识别表达式"></a> 识别表达式</h3><p>在JSX中可以通过<strong>大括号语法</strong>识别JavaScript中的表达式。</p><ol><li>使用引号传递字符串</li><li>使用JavaScript变量</li><li>函数调用和方法调用</li><li>使用JavaScript对象</li></ol><h4 id="例如"><a class="markdownIt-Anchor" href="#例如"></a> 例如</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getName</span> = (<span class="params"></span>) =&gt; <span class="string">&#x27;Xinon&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;/* 使用引号传入字符串 */&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;&#x27;this is a message from js&#x27;&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;/* 使用变量 */&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;number&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;/* 使用函数 */&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;getName()&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;/* 使用方法 */&#125;</span></span><br><span class="line"><span class="language-xml">        &#123; new Date().getDate() &#125;</span></span><br><span class="line"><span class="language-xml">        &#123;/* 使用js对象 */&#125;</span></span><br><span class="line"><span class="language-xml">        &#123; <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span> &#x27;<span class="attr">red</span>&#x27;&#125;&#125;&gt;</span>this is div<span class="tag">&lt;/<span class="name">div</span>&gt;</span> &#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现列表渲染"><a class="markdownIt-Anchor" href="#实现列表渲染"></a> 实现列表渲染</h3><p>在JSX中使用原生JS中的<code>map</code>方法遍历渲染列表</p><blockquote><p><strong><code>map()</code></strong> 方法<strong>创建一个新数组</strong>，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</p></blockquote><h4 id="例如-2"><a class="markdownIt-Anchor" href="#例如-2"></a> 例如</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lists = [</span><br><span class="line">&#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;a&#x27;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;b&#x27;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  &#123;list.map(item =&gt; (<span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>))&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h4><p>在渲染<code>li</code>标签的时候，React要求每个元素上面要绑定一个key值(<strong>独一无二</strong>)，可以是字符串也可以是数字。</p><h5 id="作用"><a class="markdownIt-Anchor" href="#作用"></a> 作用</h5><p>React框架内部使用 提升更新性能</p><h3 id="实现条件渲染"><a class="markdownIt-Anchor" href="#实现条件渲染"></a> 实现条件渲染</h3><h4 id="基础条件渲染"><a class="markdownIt-Anchor" href="#基础条件渲染"></a> 基础条件渲染</h4><ul><li>逻辑与运算符&amp;&amp;</li><li>三元表达式( ? : )</li></ul><h5 id="例如-3"><a class="markdownIt-Anchor" href="#例如-3"></a> 例如</h5><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;flag &amp;&amp; <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Only display when flag is true<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br><span class="line">&#123;loading? <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span> : <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Not loading<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br></pre></td></tr></table></figure><h4 id="复杂条件渲染"><a class="markdownIt-Anchor" href="#复杂条件渲染"></a> 复杂条件渲染</h4><p>如果出现多种条件的渲染应该怎么写呢？<br />这个时候就需要使用<strong>自定义函数+if判断语句</strong></p><h5 id="例如-4"><a class="markdownIt-Anchor" href="#例如-4"></a> 例如</h5><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getType</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="number">1</span>) <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="number">2</span>) <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">&#123;<span class="title function_">getType</span>(<span class="number">2</span>)&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="事件绑定"><a class="markdownIt-Anchor" href="#事件绑定"></a> 事件绑定</h3><h4 id="语法"><a class="markdownIt-Anchor" href="#语法"></a> 语法</h4><p><code>on + 事件名称 = &#123;事件处理程序&#125;</code>，整体上遵循驼峰命名法</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hit&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">&lt;button onClick=&#123;handleClick&#125;&gt;click me&lt;/button&gt;</span><br></pre></td></tr></table></figure><h4 id="使用事件对象参数"><a class="markdownIt-Anchor" href="#使用事件对象参数"></a> 使用事件对象参数</h4><h5 id="语法-2"><a class="markdownIt-Anchor" href="#语法-2"></a> 语法</h5><p>在事件回调函数中设置形参<code>e</code>。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">e</span>) =&gt; &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line">&lt;button onClick=&#123;handleClick&#125;&gt;click me&lt;/button&gt;</span><br></pre></td></tr></table></figure><h4 id="传递自定义参数"><a class="markdownIt-Anchor" href="#传递自定义参数"></a> 传递自定义参数</h4><h5 id="语法-3"><a class="markdownIt-Anchor" href="#语法-3"></a> 语法</h5><p>事件绑定的位置改造为<strong>箭头函数</strong>的写法，在执行clickHandler的时候传递实参。</p><h5 id="注意-2"><a class="markdownIt-Anchor" href="#注意-2"></a> 注意</h5><p>！不能直接写函数调用，事件绑定需要一个<strong>函数引用</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">name</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line">&lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="title function_">handleClick</span>(<span class="string">&#x27;xinon&#x27;</span>)&#125;&gt;click&lt;/button&gt;&#125;&gt;</span><br></pre></td></tr></table></figure><h4 id="同时传递事件对象和自定义参数"><a class="markdownIt-Anchor" href="#同时传递事件对象和自定义参数"></a> 同时传递事件对象和自定义参数</h4><h5 id="语法-4"><a class="markdownIt-Anchor" href="#语法-4"></a> 语法</h5><p>在事件绑定的位置传递事件实参<code>e</code>和自定义参数，clickHandler中声明形参，注意位置对应。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">e, name</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line">&lt;button onClick=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="title function_">handleClick</span>(e, <span class="string">&#x27;xinon&#x27;</span>)&#125;&gt;click&lt;/button&gt;&#125;&gt;</span><br></pre></td></tr></table></figure><h1 id="组件"><a class="markdownIt-Anchor" href="#组件"></a> 组件</h1><h2 id="概念-2"><a class="markdownIt-Anchor" href="#概念-2"></a> 概念</h2><p>一个组件就是用户界面的一部分，它可以有自己的逻辑和外观，组件之间可以互相嵌套，也可以复用多次。</p><h2 id="react组件"><a class="markdownIt-Anchor" href="#react组件"></a> React组件</h2><p>在React中，一个组件就是<strong>首字母大写的函数</strong>，内部存放了组件的逻辑和视图UI，渲染组件只需要把组件<strong>当做标签书写</strong>即可。</p><h3 id="例如-5"><a class="markdownIt-Anchor" href="#例如-5"></a> 例如</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.定义组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">&#123;/* 自闭合 */&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">&#123;/* 成对标签 */&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Button</span>&gt;</span><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="样式处理"><a class="markdownIt-Anchor" href="#样式处理"></a> 样式处理</h3><h4 id="1-行内样式不推荐"><a class="markdownIt-Anchor" href="#1-行内样式不推荐"></a> 1. 行内样式(不推荐)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span> &#x27;<span class="attr">red</span>&#x27;&#125;&#125;&gt;</span>this is a div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>最外层的{}表示要使用JS表达式,内层的{}表示构造一个对象.</p><h4 id="2-class类名控制"><a class="markdownIt-Anchor" href="#2-class类名控制"></a> 2. class类名控制</h4><p>样式写在css内,文件头处导入css.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.css */</span></span><br><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* App.js */</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br><span class="line">...</span><br><span class="line">&lt;span className=<span class="string">&quot;foo&quot;</span>&gt;<span class="variable language_">this</span> is a span&lt;/div&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>注意原来的<code>class</code>要写作<code>className</code>。</p><h1 id="usestate重要"><a class="markdownIt-Anchor" href="#usestate重要"></a> useState(重要)</h1><h2 id="基础使用"><a class="markdownIt-Anchor" href="#基础使用"></a> 基础使用</h2><p>useState是一个React Hook(函数)，它允许我们向组件添加一个<strong>状态变量</strong>，从而控制影响组件的渲染结果。</p><blockquote><p>文件头使用<code>import &#123; useState &#125; from 'react'</code>导入函数.</p></blockquote><h2 id="本质-2"><a class="markdownIt-Anchor" href="#本质-2"></a> 本质</h2><p>和普通JS变量不用的是，状态变量一旦发生变化，组件的视图UI也会跟着变化(数据驱动视图)</p><blockquote><p>状态变量改变之后React知道这个状态变了就会重新更新渲染. 如果只是js的let变量改变了,React框架并不知道是否更新,也就不会同步渲染.</p></blockquote><h2 id="语法-5"><a class="markdownIt-Anchor" href="#语法-5"></a> 语法</h2><p><code>const [count, setCount] = useState(0);</code></p><ol><li>useState是一个函数,返回值是一个数组</li><li>数组中的第一个参数是状态变量,第二个参数是set函数用来修改状态变量</li><li>useState的参数作为count的初始值</li></ol><h2 id="例如-6"><a class="markdownIt-Anchor" href="#例如-6"></a> 例如</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改变量</span></span><br><span class="line"><span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//直接修改不会更新</span></span><br><span class="line">    <span class="comment">// ++count;</span></span><br><span class="line">    <span class="comment">// 调用setCount，每次都是替换count的值</span></span><br><span class="line">    <span class="title function_">setCount</span>(count + <span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改对象</span></span><br><span class="line"><span class="keyword">const</span> [form, setForm] = <span class="title function_">useState</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;xinon&#x27;</span>&#125;);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">setForm</span>(&#123;</span><br><span class="line">        ...form,   <span class="comment">//展开form里的所有元素</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;xinonria&#x27;</span>  <span class="comment">//替换里面的name</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="修改状态规则"><a class="markdownIt-Anchor" href="#修改状态规则"></a> 修改状态规则</h2><h3 id="状态不可变"><a class="markdownIt-Anchor" href="#状态不可变"></a> 状态不可变</h3><p>在React中,状态被认为是只读的,我们应该始终<strong>替换它而不是修改它</strong>,直接修改状态不能引发视图更新.</p><blockquote><p>不能直接用<code>=</code>来设置状态变量的值,这样子不会更新渲染!<br />修改状态用对应的set函数</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MATLAB作图</title>
      <link href="/xinonria.github.io/posts/ff74d260/"/>
      <url>/xinonria.github.io/posts/ff74d260/</url>
      
        <content type="html"><![CDATA[<h1 id="matlab作图"><a class="markdownIt-Anchor" href="#matlab作图"></a> MATLAB作图</h1><h2 id="曲线图"><a class="markdownIt-Anchor" href="#曲线图"></a> 曲线图</h2><p>MATLAB作图是通过描点、连线来实现的，故在画一个曲线图形之前，必须先取得该图形上的一系列的点的坐标（即横坐标和纵坐标），然后将该点集的坐标传给MATLAB函数画图。<br /><code>plot(X,Y,S)</code></p><blockquote><p>X,Y为向量，分别表示点集的横坐标和纵坐标<br />S表示连线的类型<br />y  黄色   . 点   -  连线<br />m  洋红   o 圈   :  短虚线<br />c  蓝绿色     x  x-符号<br />-.  长短线     r  红色        +   加号      –  长虚线</p></blockquote><p><code>plot(X,Y1,S1,X,Y2,S2,...,X,Yn,Sn)</code></p><blockquote><p>将多条线画在一起</p></blockquote><h5 id="例如"><a class="markdownIt-Anchor" href="#例如"></a> 例如:</h5><p>在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>2</mn><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 2\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span>用红线画<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，用绿圈画<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">cos(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2.</span>*<span class="built_in">pi</span>,<span class="number">30</span>);</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line">z=<span class="built_in">cos</span>(x);</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;r&#x27;</span>,x,z,<span class="string">&#x27;go&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_plot.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_plot.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_plot.jpg" /></p><h2 id="符号函数显函数-隐函数和参数方程画图"><a class="markdownIt-Anchor" href="#符号函数显函数-隐函数和参数方程画图"></a> 符号函数(显函数、隐函数和参数方程)画图</h2><p><code>fplot('fun',lims)</code><br />表示绘制字符串<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>u</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">fun</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span></span></span></span>指定的函数在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>i</mi><mi>m</mi><mi>s</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">lims=[x_{min},x_{max}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>的图形.</p><ul><li>fun必须是M文件的函数名或是独立变量为x的字符串.</li><li>fplot函数不能画参数方程和隐函数图形，但在一个图上可以画多个图形.</li></ul><h5 id="例如-2"><a class="markdownIt-Anchor" href="#例如-2"></a> 例如:</h5><p>在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mtext>，</mtext><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-1，2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mord cjk_fallback">，</span><span class="mord">2</span><span class="mclose">]</span></span></span></span>上画<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>e</mi><mrow><mn>2</mn><mi>x</mi></mrow></msup><mo>+</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mn>3</mn><msup><mi>x</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=e^{2x}+sin(3x^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的图形。</p><ol><li>先建M文件myfun1.m</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Y</span>=<span class="title">myfun1</span><span class="params">(x)</span></span></span><br><span class="line">   Y=<span class="built_in">exp</span>(<span class="number">2</span>*x)+<span class="built_in">sin</span>(<span class="number">3</span>*x.^<span class="number">2</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>再输入命令<br /><code>fplot(‘myfun1’,[-1,2])</code></li></ol><h2 id="对数坐标图"><a class="markdownIt-Anchor" href="#对数坐标图"></a> 对数坐标图</h2><p>在很多工程问题中,通过对数据进行对数转换可以更清晰地看出数据的某些特征,在对数坐标系中描绘数据点的曲线,可以直接地表现对数转换.<br />对数转换有双对数坐标转换和单轴对数坐标转换两种.<br />用<code>loglog</code>函数可以实现双对数坐标转换.<br />用<code>semilogx</code>和<code>semilogy</code>函数可以实现单轴对数坐标转换.</p><blockquote><p>对数坐标就是它的数值增长跟到原点的距离不是线性关系，而是对数关系。<br />例如正常横坐标轴:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>→</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">x \rightarrow  1,2,3,...,n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span></span></span></span><br />而对数坐标轴就是:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>→</mo><mn>1</mn><msup><mn>0</mn><mn>1</mn></msup><mo separator="true">,</mo><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup><mo separator="true">,</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mn>1</mn><msup><mn>0</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x \rightarrow 10^1,10^2,10^3,...,10^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><br />在对于变化量激增的数据来说对数坐标轴比较好表示</p></blockquote><h2 id="三维图形"><a class="markdownIt-Anchor" href="#三维图形"></a> 三维图形</h2><h3 id="空间曲线"><a class="markdownIt-Anchor" href="#空间曲线"></a> 空间曲线</h3><h4 id="一条曲线"><a class="markdownIt-Anchor" href="#一条曲线"></a> 一条曲线</h4><p><code>plot3(x,y,z,s)</code><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>表示曲线上点集的横坐标、纵坐标、纵坐标。<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>表示连线的类型，见上文</p><h5 id="例如-3"><a class="markdownIt-Anchor" href="#例如-3"></a> 例如:</h5><p>在区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>10</mn><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,10\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span>画出参数曲线<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>y</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo separator="true">,</mo><mi>z</mi><mo>=</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">x=sint,y=cost,z=t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span>.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">50</span>:<span class="number">10</span>*<span class="built_in">pi</span>;</span><br><span class="line"><span class="built_in">plot3</span>(<span class="built_in">sin</span>(t),<span class="built_in">cos</span>(t),t)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_plot3.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_plot3.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_plot3.jpg" /></p><h4 id="多条曲线"><a class="markdownIt-Anchor" href="#多条曲线"></a> 多条曲线</h4><p><code>plot3(x,y,z)</code><br />其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>是都是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m×n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>矩阵，其对应的每一列表示一条曲线.</p><h5 id="例如-4"><a class="markdownIt-Anchor" href="#例如-4"></a> 例如:</h5><p>画多条曲线观察函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Z=(X+Y)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">-3</span>:<span class="number">0.1</span>:<span class="number">3</span>;y=<span class="number">1</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line">[X,Y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">Z=(X+Y).^<span class="number">2</span>;</span><br><span class="line"><span class="built_in">plot3</span>(X,Y,Z)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_plot3_meshgrid.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_plot3_meshgrid.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_plot3_meshgrid.jpg" /></p><blockquote><p>展开讲一讲meshgrid这个函数。<br />在文档中的应用是<code>[X, Y]=meshgrid(x,y)</code> 基于向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>中包含的坐标返回二维网格坐标。坐标<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>表示的网格有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">length(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>个行和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">length(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>个列。<br />例子<br /><img src="https://www.z4a.net/images/2023/10/26/image5fbbd67368bd9e9a.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/image5fbbd67368bd9e9a.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image5fbbd67368bd9e9a.png" /><br />可以注意到，列数跟<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>是相同的，行数跟<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>是相同的。<br />在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>中可以看到数据只有我们输入的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>同理。<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>是一行行摆数据，而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>是一列列摆数据。</p></blockquote><h3 id="空间曲面"><a class="markdownIt-Anchor" href="#空间曲面"></a> 空间曲面</h3><h4 id="surfxyz"><a class="markdownIt-Anchor" href="#surfxyz"></a> surf(x,y,z)</h4><p><code>surf(x,y,z)</code>分别表示数据点的横坐标、纵坐标、函数值。<br />画出数据点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y,z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>表示的曲面。</p><h5 id="例如-5"><a class="markdownIt-Anchor" href="#例如-5"></a> 例如:</h5><p>画函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Z=(X+Y)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>的图形.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">-3</span>:<span class="number">0.1</span>:<span class="number">3</span>;</span><br><span class="line">y=<span class="number">1</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line">[X,Y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">Z=(X+Y).^<span class="number">2</span>;</span><br><span class="line">surf(X,Y,Z)</span><br><span class="line">shading flat <span class="comment">%将当前图形变得平滑</span></span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_surf.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_surf.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_surf.jpg" /></p><blockquote><p>有点美耶…</p></blockquote><h4 id="meshxyz"><a class="markdownIt-Anchor" href="#meshxyz"></a> mesh(x,y,z)</h4><p><code>mesh(x,y,z)</code>画网格曲面。</p><h5 id="例如-6"><a class="markdownIt-Anchor" href="#例如-6"></a> 例如:</h5><p>画出曲面<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Z=(X+Y)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>在不同视角的网格图。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">-3</span>:<span class="number">0.1</span>:<span class="number">3</span>;</span><br><span class="line">y=<span class="number">1</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line">[X,Y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">Z=(X+Y).^<span class="number">2</span>;</span><br><span class="line">mesh(X,Y,Z) </span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_mesh.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_mesh.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_mesh.jpg" /></p><blockquote><p>感觉还是surf好看</p></blockquote><h4 id="meshzxyz"><a class="markdownIt-Anchor" href="#meshzxyz"></a> meshz(X,Y,Z)</h4><p><code>meshz(x,y,z)</code>在网格周围画一个curtain图(如,参考平面)</p><blockquote><p>?看不懂了</p></blockquote><h5 id="例如-7"><a class="markdownIt-Anchor" href="#例如-7"></a> 例如:</h5><p>绘peaks的网格图</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[X,Y]=<span class="built_in">meshgrid</span>(<span class="number">-3</span>:<span class="number">.125</span>:<span class="number">3</span>);</span><br><span class="line">Z=peaks(X,Y);</span><br><span class="line">meshz(X,Y,Z)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_meshz.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_meshz.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_meshz.jpg" /></p><h2 id="图形处理"><a class="markdownIt-Anchor" href="#图形处理"></a> 图形处理</h2><h3 id="在图形上加格栅-图例和标注"><a class="markdownIt-Anchor" href="#在图形上加格栅-图例和标注"></a> 在图形上加格栅、图例和标注</h3><h4 id="加格栅"><a class="markdownIt-Anchor" href="#加格栅"></a> 加格栅</h4><p><code>GRID ON</code>加格栅在当前图上<br /><code>GRID OFF</code>删除格栅<br /><img src="https://www.z4a.net/images/2023/10/26/learn2_grid.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_grid.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_grid.jpg" /></p><blockquote><p>开了格栅，关了格栅就没有浅灰色的那些线</p></blockquote><h4 id="加图例"><a class="markdownIt-Anchor" href="#加图例"></a> 加图例</h4><p><code>xlabel(string)</code>在当前图形的x轴上加图例string<br /><code>ylabel(string)</code>在当前图形的y轴上加图例string<br /><code>zlabel(string)</code>在当前图形的z轴上加图例string<br /><code>title(string)</code>在当前图形的顶端上加图例string<br /><img src="https://www.z4a.net/images/2023/10/26/image-1.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/image-1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-1.png" /></p><blockquote><p>这个二维坐标系没有z轴，不过大差不差</p></blockquote><h4 id="加标注"><a class="markdownIt-Anchor" href="#加标注"></a> 加标注</h4><p><code>gtext(‘string’)</code><br />命令<code>gtext(‘string’)</code>用鼠标放置标注在现有的图上.<br />运行命令<code>gtext('string')</code>时，屏幕上出现当前图形，在图形上出现一个交叉的十字，该十字随鼠标的移动移动，当按下鼠标左键时，该标注string放在当前十交叉的位置.<br /><img src="https://www.z4a.net/images/2023/10/26/learn2_gtext.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_gtext.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_gtext.jpg" /></p><blockquote><p>输完命令之后图像会出现一个十字标，选择一个位置左键一下就可以标注函数名称了。</p></blockquote><h3 id="定制坐标"><a class="markdownIt-Anchor" href="#定制坐标"></a> 定制坐标</h3><p><code>axis([xmin xmax ymin ymax zmin zmax])</code>定制图形坐标</p><blockquote><p>x、y、z的最大、最小值</p></blockquote><p><code>axis auto</code>将坐标轴返回到自动缺省值<br /><img src="https://www.z4a.net/images/2023/10/26/learn2_axis.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_axis.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_axis.jpg" /></p><blockquote><p>可以看到axis限定了x轴和y轴的范围</p></blockquote><h3 id="图形保持"><a class="markdownIt-Anchor" href="#图形保持"></a> 图形保持</h3><p><code>hold on</code> 保持当前图形, 以便继续画图到当前图上<br /><code>hold off</code> 释放当前图形窗口<br /><code>figure(h)</code> 新建h窗口，激活图形使其可见，并把它置于其它图形之上</p><h5 id="例如-8"><a class="markdownIt-Anchor" href="#例如-8"></a> 例如:</h5><p>区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>2</mn><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,2\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span>新建两个窗口分别画出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>z</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=sin(x),z=cos(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">y=<span class="built_in">sin</span>(x);</span><br><span class="line">z=<span class="built_in">cos</span>(x);</span><br><span class="line"><span class="built_in">plot</span>(x,y);</span><br><span class="line">title(<span class="string">&#x27;sin(x)&#x27;</span>);</span><br><span class="line">pause</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(x,z);</span><br><span class="line">title(<span class="string">&#x27;cos(x)&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="割窗口"><a class="markdownIt-Anchor" href="#割窗口"></a> 割窗口</h3><p><code>h=subplot(mrows,ncols,thisplot)</code> 划分整个作图区域为<code>mrows*ncols</code>块（逐行对块访问）并激活第<code>thisplot</code>块，其后的作图语句将图形画在该块上.<br /><code>subplot(mrows,ncols,thisplot)</code>激活已划分为<code>mrows*ncols</code>块的屏幕中的第<code>thisplot</code>块，其后的作图语句将图形画在该块上.<br /><code>subplot(1,1,1)</code> 命令<code>subplot(1,1,1)</code>返回非分割状态.</p><blockquote><p>subplot(2,2,1)表示把屏幕分成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∗</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2*2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，在第一块上画图。</p></blockquote><h5 id="例如-9"><a class="markdownIt-Anchor" href="#例如-9"></a> 例如</h5><p>将屏幕分割为四块，并分别画出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>，</mtext><mi>z</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>，</mtext><mi>a</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>×</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>b</mi><mo>=</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">y=sin(x)，z=cos(x)，a=sin(x)\times cos(x),b=\frac{sin(x)}{cos(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">s</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>,<span class="number">100</span>);</span><br><span class="line">y=<span class="built_in">sin</span>(x); </span><br><span class="line">z=<span class="built_in">cos</span>(x);   </span><br><span class="line">a=<span class="built_in">sin</span>(x).*<span class="built_in">cos</span>(x);b=<span class="built_in">sin</span>(x)./(<span class="built_in">cos</span>(x)+<span class="built_in">eps</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>);<span class="built_in">plot</span>(x,y),title(<span class="string">&#x27;sin(x)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>);<span class="built_in">plot</span>(x,z),title(<span class="string">&#x27;cos(x)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>);<span class="built_in">plot</span>(x,a),title(<span class="string">&#x27;sin(x)cos(x)&#x27;</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>);<span class="built_in">plot</span>(x,b),title(<span class="string">&#x27;sin(x)/cos(x)&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="缩放图形"><a class="markdownIt-Anchor" href="#缩放图形"></a> 缩放图形</h3><p><code>zoom on</code> 为当前图形打开缩放模式<br />单击鼠标左键，则在当前图形窗口中，以鼠标点中的点为中心的图形放大2倍；单击鼠标右键，则缩小2倍.<br /><code>zoom  off</code> 关闭缩放模式</p><blockquote><p>没啥用</p></blockquote><h3 id="改变视角view"><a class="markdownIt-Anchor" href="#改变视角view"></a> 改变视角view</h3><p><code>view(a,b)</code> 改变视角到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>是方位角,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>为仰角.默认视角为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mn>37.5</mn><mo separator="true">,</mo><mn>30</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-37.5,30)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">3</span><span class="mord">7</span><span class="mord">.</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mclose">)</span></span></span></span>.<br /><code>view([x，y，z])</code> 用空间向量表示的，三个量只关心它们的比例，与数值的大小无关，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>轴<code>view([1,0,0])</code>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>轴<code>view([0,1,0])</code>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>轴<code>view([0,0,1])</code>.</p><p><strong>两个参数的用法</strong>：<code>view(azimuth, elevation)</code>，其中：</p><ul><li><code>azimuth</code>（方位角）：这是水平旋转的角度。0度通常指向图形的正前方，正值将图形绕y轴逆时针旋转，负值将图形绕y轴顺时针旋转。</li><li><code>elevation</code>（俯仰角）：这是垂直旋转的角度。0度通常表示视图位于图形的水平面上方，正值将视图上升，负值将视图下降.</li></ul><blockquote><p>结合分块可以画出不同视角的三维图</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">-3</span>:<span class="number">0.1</span>:<span class="number">3</span>;</span><br><span class="line">y=<span class="number">1</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line">[X,Y]=<span class="built_in">meshgrid</span>(x,y);</span><br><span class="line">Z=(X+Y).^<span class="number">2</span>;</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>), mesh(X,Y,Z)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>), mesh(X,Y,Z),view(<span class="number">50</span>,<span class="number">-34</span>) <span class="comment">%表示以方位角 50 度和俯仰角 -34 度的视角观察图形.</span></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>), mesh(X,Y,Z),view(<span class="number">-60</span>,<span class="number">70</span>) <span class="comment">%表示以方位角 -60 度和俯仰角 70 度的视角观察图形.</span></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>), mesh(X,Y,Z),view([<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]) <span class="comment">%只看y轴和z轴</span></span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_view.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_view.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_view.jpg" /></p><h3 id="动画"><a class="markdownIt-Anchor" href="#动画"></a> 动画</h3><p><code>moviein(),getframe,movie()</code> 函数<code>moviein()</code>产生一个帧矩阵来存放动画中的帧；函数<code>getframe</code>对当前的图像进行快照；函数<code>movie()</code>按顺序回放各帧.</p><h5 id="例如-10"><a class="markdownIt-Anchor" href="#例如-10"></a> 例如:</h5><p>将曲面peaks做成动画</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[x,y,z]=peaks(<span class="number">30</span>);</span><br><span class="line">surf(x,y,z)</span><br><span class="line">axis([<span class="number">-3</span> <span class="number">3</span> <span class="number">-3</span> <span class="number">3</span> <span class="number">-10</span> <span class="number">10</span>])</span><br><span class="line">m=moviein(<span class="number">15</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">15</span></span><br><span class="line">    view(<span class="number">-37.5</span>+<span class="number">24</span>*(<span class="built_in">i</span><span class="number">-1</span>),<span class="number">30</span>)</span><br><span class="line">    m(:,<span class="built_in">i</span>)=getframe;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">movie(m)</span><br></pre></td></tr></table></figure><blockquote><p>旋转动画</p></blockquote><h2 id="特殊二-三维图形"><a class="markdownIt-Anchor" href="#特殊二-三维图形"></a> 特殊二、三维图形</h2><h3 id="特殊的二维图形函数"><a class="markdownIt-Anchor" href="#特殊的二维图形函数"></a> 特殊的二维图形函数</h3><h4 id="极坐标图"><a class="markdownIt-Anchor" href="#极坐标图"></a> 极坐标图</h4><p><code>polar(theta,rho,s)</code><br />用角度theta(弧度表示)和极半径rho作极坐标图，用s指定线型.</p><h5 id="例如-11"><a class="markdownIt-Anchor" href="#例如-11"></a> 例如:</h5><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mn>2</mn><mi>θ</mi><mo>×</mo><mi>c</mi><mi>o</mi><mi>s</mi><mn>2</mn><mi>θ</mi></mrow><annotation encoding="application/x-tex">r=sin2\theta\times cos2\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>的极坐标图形</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">theta=<span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">pi</span>)</span><br><span class="line">rho=<span class="built_in">sin</span>(<span class="number">2</span>*theta).*<span class="built_in">cos</span>(<span class="number">2</span>*theta);</span><br><span class="line">polar(theta,rho)</span><br><span class="line">title(<span class="string">&#x27;Polar plot of sin(2*theta).*cos(2*theta)&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_polar.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_polar.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_polar.jpg" /></p><h4 id="散点图"><a class="markdownIt-Anchor" href="#散点图"></a> 散点图</h4><p><code>scatter(X,Y,S,C)</code><br />在向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>的指定位置显示彩色圈．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>必须大小相同.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">load seamount</span><br><span class="line"><span class="built_in">scatter</span>(x,y,<span class="number">5</span>,z)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_scatter.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_scatter.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_scatter.jpg" /></p><blockquote><p>seamount.mat 数据集包含了有关海底山脉的数据，其中包括海底山脉的位置坐标（经度和纬度）以及与每个位置相关的深度数据。这个数据集通常用于示范如何在 MATLAB 中创建各种类型的图表，如散点图、三维曲面图等，以展示地理或地形数据的可视化。</p></blockquote><h4 id="平面等值线图"><a class="markdownIt-Anchor" href="#平面等值线图"></a> 平面等值线图</h4><p><code>contour(x,y,z,n)</code><br />绘制<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>个等值线的二维等值线图</p><h5 id="例如-12"><a class="markdownIt-Anchor" href="#例如-12"></a> 例如:</h5><p>在范围<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2</mn><mo>&lt;</mo><mi>x</mi><mo>&lt;</mo><mn>2</mn><mo separator="true">,</mo><mo>−</mo><mn>2</mn><mo>&lt;</mo><mi>y</mi><mo>&lt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">-2 &lt; x &lt; 2,-2 &lt; y &lt; 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 内绘 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><mi>x</mi><msup><mi>e</mi><mrow><mo>−</mo><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><msup><mi>y</mi><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">z=xe^{-x^2-y^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9869199999999999em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869199999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>的等值线图</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">［X,Y］=meshgeid(<span class="number">-2</span>:<span class="number">.2</span>:<span class="number">2</span>,<span class="number">-2</span>:<span class="number">.2</span>:<span class="number">3</span>);</span><br><span class="line">Z=X.*<span class="built_in">exp</span>(-X.^<span class="number">2</span>-Y.^<span class="number">2</span>);</span><br><span class="line">[C,h]=contour(X,Y,Z); </span><br><span class="line">clabel(C,h) <span class="comment">%如果没有这句话，等值线上就没有数字</span></span><br><span class="line">colormap cool <span class="comment">%寒冷的cool，用冷色调着色，不是酷~~~</span></span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_contour.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_contour.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_contour.jpg" /></p><h3 id="特殊的三维图形函数"><a class="markdownIt-Anchor" href="#特殊的三维图形函数"></a> 特殊的三维图形函数</h3><h4 id="空间等值线图"><a class="markdownIt-Anchor" href="#空间等值线图"></a> 空间等值线图</h4><p><code>contour3(x,y,z,n)</code><br />其中n表示等值线数.</p><h5 id="例如-13"><a class="markdownIt-Anchor" href="#例如-13"></a> 例如:</h5><p>山峰的二维和三维等值线图</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[x,y,z]=peaks;</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>),contour3(x,y,z,<span class="number">16</span>,<span class="string">&#x27;s&#x27;</span>)   </span><br><span class="line">grid on,xlabel(<span class="string">&#x27;x-axis&#x27;</span>),ylabel(<span class="string">&#x27;y-axis&#x27;</span>)</span><br><span class="line">zlabel(<span class="string">&#x27;z-axis&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;contour3 of peaks&#x27;</span>); </span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>),contour(x,y,z,<span class="number">16</span>,<span class="string">&#x27;s&#x27;</span>)</span><br><span class="line">grid,  xlabel(<span class="string">&#x27;x-axis&#x27;</span>), ylabel(<span class="string">&#x27;y-axis&#x27;</span>)</span><br><span class="line">title(<span class="string">&#x27;contour of peaks&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_contour3.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_contour3.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_contour3.jpg" /></p><h4 id="三维散点图"><a class="markdownIt-Anchor" href="#三维散点图"></a> 三维散点图</h4><p><code>scatter3(X,Y,Z,S,C)</code><br />在向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X,Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>指定的位置上显示彩色圆圈.<br />向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X,Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>的大小必须相同.</p><h5 id="例如-14"><a class="markdownIt-Anchor" href="#例如-14"></a> 例如:</h5><p>绘制三维散点图.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[x,y,z]=sphere(<span class="number">16</span>); <span class="comment">%调用sphere函数会在当前的图形窗口中创建一个单位半径的球体，通常以灰色或其他默认颜色呈现。</span></span><br><span class="line">X=[x(:)*<span class="number">.5</span> x(:)*<span class="number">.75</span> x(:)];</span><br><span class="line">Y=[y(:)*<span class="number">.5</span> y(:)*<span class="number">.75</span> y(:)];</span><br><span class="line">Z=[z(:)*<span class="number">.5</span> z(:)*<span class="number">.75</span> z(:)];</span><br><span class="line">S=<span class="built_in">repmat</span>([<span class="number">1</span> <span class="number">.75</span> <span class="number">.5</span>]*<span class="number">10</span>,prod(<span class="built_in">size</span>(x)),<span class="number">1</span>);</span><br><span class="line">C=<span class="built_in">repmat</span>([<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>],prod(<span class="built_in">size</span>(x)),<span class="number">1</span>);</span><br><span class="line"><span class="built_in">scatter3</span>(X(:),Y(:),Z(:),S(:),C(:),<span class="string">&#x27;filled&#x27;</span>),view(<span class="number">-60</span>,<span class="number">60</span>)</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/10/26/learn2_scatter3.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/26/learn2_scatter3.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="learn2_scatter3.jpg" /></p><blockquote><p><code>repmat()</code>函数用法:<code>B = repmat(A, m, n)</code></p><ul><li><code>A</code>是要重复的数组或矩阵。</li><li><code>m</code>是要在垂直方向重复的次数。</li><li><code>n</code>是要在水平方向重复的次数。</li><li><code>B</code>是生成的重复数组或矩阵。<br /><code>prod()</code>计算矩阵或数组中所有元素的乘积<br /><code>size(x)</code>返回x的行数和列数<br />所以<code>prod(size(x))</code>会得到这个矩阵的元素个数</li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MATLAB入门</title>
      <link href="/xinonria.github.io/posts/79214690/"/>
      <url>/xinonria.github.io/posts/79214690/</url>
      
        <content type="html"><![CDATA[<h1 id="前面的话"><a class="markdownIt-Anchor" href="#前面的话"></a> 前面的话</h1><p>准备打数模竞赛，记录一下学习MATLAB的笔记。</p><p>最开始看到MATLAB个人版还挺贵的，想着既然有了edu邮箱能不能申请免费的学生版。</p><p>申请前还是有点担心SCNU没买MATLAB的教育版授权。</p><p>用edu邮箱注册后发现直接就有了学生版许可证。体验到了一把学校带来的福利，挺爽的。</p><h1 id="matlab入门"><a class="markdownIt-Anchor" href="#matlab入门"></a> MatLab入门</h1><h2 id="变量"><a class="markdownIt-Anchor" href="#变量"></a> 变量</h2><h3 id="命名规则"><a class="markdownIt-Anchor" href="#命名规则"></a> 命名规则</h3><ol><li>变量名必须是不含空格的单个词</li><li>变量名区分大小写</li><li>变量名最多不超过19个字符</li><li>变量名必须以字母打头，之后可以是任意字母、数字或下划线，变量名中不允许使用标点符号</li></ol><blockquote><p>看起来跟正常的编程语音命名规则差不多，不过区别在于第三条，平时可能也用不到</p></blockquote><h3 id="特殊变量表"><a class="markdownIt-Anchor" href="#特殊变量表"></a> 特殊变量表</h3><p><img src="https://www.z4a.net/images/2023/10/25/image.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><blockquote><p>所以eps相当于无穷小</p></blockquote><h2 id="数学运算符号及标点符号"><a class="markdownIt-Anchor" href="#数学运算符号及标点符号"></a> 数学运算符号及标点符号</h2><p><img src="https://www.z4a.net/images/2023/10/25/image-1.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-1.png" /></p><blockquote><p>正常乘法都用点乘，单一个*符号表示矩阵乘</p></blockquote><h2 id="数学函数"><a class="markdownIt-Anchor" href="#数学函数"></a> 数学函数</h2><p><img src="https://www.z4a.net/images/2023/10/25/image-2.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-2.png" /></p><blockquote><p>大部分还是比较好理解的，有什么用这个函数就叫什么，实在想不起来搜一下也行</p></blockquote><h2 id="m文件"><a class="markdownIt-Anchor" href="#m文件"></a> M文件</h2><p>MATLAB的内部函数是有限的，有时为了研究某一个函数的各种性态，需要为MATLAB定义新函数。</p><blockquote><p>自定义函数</p></blockquote><p>函数文件是文件名后缀为M的文件，这类文件的第一行必须是一特殊字符<strong>function</strong>开始，格式为：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> 因变量名=函数名（自变量名）</span></span><br></pre></td></tr></table></figure><p>函数值的获得必须通过具体的运算实现，并赋给因变量.</p><blockquote><p>在命令行里输入<code>edit '文件名.m'</code>就可以打开编辑器，同时在编辑器里打开该文件，如果不存在就创建。创建前注意当前工作区路径。</p></blockquote><h3 id="定义函数例子"><a class="markdownIt-Anchor" href="#定义函数例子"></a> 定义函数例子</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>100</mn><mo>⋅</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f(x_1,x_2)=100\cdot(x_2-x_1^2)^2+(1-x_1)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><ol><li>建立M文件: fun.m</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">fun</span><span class="params">(x)</span></span></span><br><span class="line">f=<span class="number">100</span>*(x(<span class="number">2</span>)-x(<span class="number">1</span>)^<span class="number">2</span>)^<span class="number">2</span>+(<span class="number">1</span>-x(<span class="number">1</span>))^<span class="number">2</span></span><br></pre></td></tr></table></figure><ol start="2"><li>可以直接使用函数fun.m</li></ol><p>例如：计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(1,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>，只需要在MATLAB命令窗口键入命令:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">fun(x)</span><br></pre></td></tr></table></figure><h2 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h2><h3 id="创建简单的数组"><a class="markdownIt-Anchor" href="#创建简单的数组"></a> 创建简单的数组</h3><p><code>x=[a b c d e f]</code>创建包含指定元素的行向量。<br /><code>x=first:last</code><br />创建从first开始，步长为1，到last结束的行向量。</p><blockquote><p>相当于python中的range(first,end)</p></blockquote><p><code>x=first:increment:last</code><br />创建从first开始，加increment计数，到last结束的行向量。</p><blockquote><p>相当于python中的range(first,last,increment)</p></blockquote><p><code>x=linspace(first,last,n)</code><br />创建从first开始，到last结束，有n个元素的行向量。</p><blockquote><p>linspace并没有指定步长，它一定会生成n个元素。例如linspace(1,10,2)会生成[1 3.25 5.5 7.75 10]这5个均匀分布的元素。<br />linspace跟上面的区别就是它的步长是不确定的，而上面的是个数不确定。例如1:5:10会以5为步长，生成的个数并没有确定，最终生成的数组是[1 6]（因为下一个要生成的是11，大于了last值10，所以最后只有两个数字）</p></blockquote><p><code>x=logspace(first，last，n)</code><br />创建从first开始，到last结束，有n个元素的对数分隔行向量。</p><blockquote><p>这个真有点难理解。大概应该是会生成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mi>f</mi><mi>i</mi><mi>r</mi><mi>s</mi><mi>t</mi></mrow></msup></mrow><annotation encoding="application/x-tex">10^{first}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span></span>到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msup></mrow><annotation encoding="application/x-tex">10^{last}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span></span>，元素个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>。元素之间的差值是指数级增长的。<br />例如:logspace(1,3,4)会生成[1046.4158883361278 215.443469003188 1000]。它们两两元素之间的差值就是[36.4158883361278 169.027580667060 784.556530996812]。这三个数用指数函数来拟合可以得到:<br />指数 曲线拟合(exp1)<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>∗</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>b</mi><mo>∗</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x) = a*exp(b*x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 等价于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>∗</mo><msup><mi>e</mi><mrow><mi>b</mi><mo lspace="0em" rspace="0em">⋅</mo><mi>x</mi></mrow></msup></mrow><annotation encoding="application/x-tex">f(x) = a * e^{b{\cdot}x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mtight"><span class="mord mtight">⋅</span></span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></span><br />系数和 95% 置信边界<br />值       下限      上限<br />a    7.8456    7.8456    7.8456<br />b    1.5351    1.5351    1.5351<br />拟合优度        值<br />R 方        1.0000<br />可以看到R 方数值为1，说明指数函数完全拟合这个间距。</p></blockquote><h3 id="数组元素的访问"><a class="markdownIt-Anchor" href="#数组元素的访问"></a> 数组元素的访问</h3><ol><li>访问一个元素<br /><code>x(i)</code>表示访问数组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>个元素。</li><li>访问一块元素<br /><code>x(a:b:c)</code>表示访问数组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>个元素开始，以步长<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>到第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>个元素(但不超过<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>),<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>可以为负数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>若不填默认为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</li><li>直接使用元素编址序号<br /><code>x([a b c d])</code>表示提取数组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">a,b,c,d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span></span></span></span>个元素构成一个新的数组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>x</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>x</mi><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>x</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x(a) \space x(b) \space x(c) \space x(d)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span>。</li></ol><p>前面例子中的数组都是一行数列，是行方向分布的. 称之为行向量.<br />数组也可以是列向量，它的数组操作和运算与行向量是一样的，唯一的区别是结果以列形式显示.</p><p>产生列向量有两种方法:</p><ol><li>直接产生，例<code>c=[1;2;3;4]</code><br />以空格或逗号分隔的元素指定的是不同列的元素，而以分号分隔的元素指定了不同行的元素.</li></ol><blockquote><p>分号表示当前行结束</p></blockquote><ol start="2"><li>转置产生，例<code>b=[1 2 3 4]; c=b′</code></li></ol><blockquote><p>单引号(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>)运算符是转置运算符，它可以将列转为行，行转为列。<br />例如<code>x=[1 2 3 4]; x'</code>的结果就是<code>[1;2;3;4]</code>。举个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>∗</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3*3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>矩阵的例子吧。</p></blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">x =</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span></p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td></tr><tr><td>4</td><td>5</td><td>6</td></tr><tr><td>7</td><td>8</td><td>9</td></tr></tbody></table><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo></mrow><annotation encoding="application/x-tex">x&#x27; =</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span></p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>1</td><td>4</td><td>7</td></tr><tr><td>2</td><td>5</td><td>8</td></tr><tr><td>3</td><td>6</td><td>9</td></tr></tbody></table><h3 id="数组的运算"><a class="markdownIt-Anchor" href="#数组的运算"></a> 数组的运算</h3><h4 id="数组对标量"><a class="markdownIt-Anchor" href="#数组对标量"></a> 数组对标量</h4><p>数组对标量的加、减、乘、除和平方运算，是指数组的每个元素对该标量施加相应的加、减、乘、除、平方运算。<br />设：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a=[a_1,a_2,…,a_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>是标量.<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>c</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mi>c</mi><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mi>c</mi><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>+</mo><mi>c</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a+c=[a_1+c,a_2+c,…,a_n+c]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mo>∗</mo><mi>c</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo>∗</mo><mi>c</mi><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>∗</mo><mi>c</mi><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>∗</mo><mi>c</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a.*c=[a_1*c,a_2*c,…,a_n*c]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">/</mi><mi>c</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mi mathvariant="normal">/</mi><mi>c</mi><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mi mathvariant="normal">/</mi><mi>c</mi><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mi mathvariant="normal">/</mi><mi>c</mi><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">(</mo><mtext>右除</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a./c= [a_1/c,a_2/c,…,a_n/c] \space (右除)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mord">/</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">c</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord cjk_fallback">右</span><span class="mord cjk_fallback">除</span><span class="mclose">)</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">\</mi><mi>c</mi><mo>=</mo><mo stretchy="false">[</mo><mi>c</mi><mi mathvariant="normal">/</mi><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>c</mi><mi mathvariant="normal">/</mi><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi><mi mathvariant="normal">/</mi><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">(</mo><mtext>左除</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a. \backslash c= [c/a_1,c/a_2,…,c/a_n] \space (左除)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mord">\</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">c</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord cjk_fallback">左</span><span class="mord cjk_fallback">除</span><span class="mclose">)</span></span></span></span><br /><span class='katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;\^&#039; in math mode at position 4: a. \̲^̲\ c= [a_1 ^ c,a…'>a. \^\ c= [a_1 ^ c,a_2 ^ {c},…,a_n^{c}]</span><br /><span class='katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;\^&#039; in math mode at position 4: c. \̲^̲\ a= [c ^ {a_1}…'>c. \^\ a= [c ^ {a_1},c ^ {a_2},…,c^{a_n}]</span></p><h4 id="数组对数组"><a class="markdownIt-Anchor" href="#数组对数组"></a> 数组对数组</h4><p>当两个数组有相同维数时，加、减、乘、除、幂运算可按<strong>元素对元素</strong>方式进行，不同大小或维数的数组是不能进行运算的。<br />设：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a=[a_1,a_2,…,a_n], b=[b_1,b_2,…,b_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>+</mo><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a+b=[a_1+b_1,a_2+b_2,…,a_n+b_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mo>∗</mo><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>∗</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>∗</mo><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a.*b= [a_1*b_1,a_2*b_2,…,a_n*b_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">/</mi><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mi mathvariant="normal">/</mi><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mi mathvariant="normal">/</mi><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mi mathvariant="normal">/</mi><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a./b= [a_1/b_1,a_2/b_2,…,a_n/b_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mord">/</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">\</mi><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mi mathvariant="normal">/</mi><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mi mathvariant="normal">/</mi><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mi mathvariant="normal">/</mi><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a. \backslash b=[b_1/a_1,b_2/a_2,…,b_n/a_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">.</span><span class="mord">\</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br /><span class='katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;\^&#039; in math mode at position 4: a. \̲^̲\ b=[a_1^{b_1},…'>a. \^\ b=[a_1^{b_1},a_2^{b_2},…,a_n^{b_n}]</span></p><h2 id="矩阵"><a class="markdownIt-Anchor" href="#矩阵"></a> 矩阵</h2><p>逗号或空格用于分隔某一行的元素，分号用于区分不同的行. 除了分号，在输入矩阵时，按Enter键也表示开始新一行. 输入矩阵时，严格要求所有行有相同的列.<br /><img src="https://www.z4a.net/images/2023/10/25/image-3.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-3.png" /></p><h3 id="特殊矩阵的建立"><a class="markdownIt-Anchor" href="#特殊矩阵的建立"></a> 特殊矩阵的建立</h3><p><code>a=ones(m,n)</code> 产生一个m行n列的元素全为1的矩阵<br /><code>b=zeros(m，n)</code> 产生一个m行n列的零矩阵<br /><code>c=[ ]</code> 产生一个空矩阵，当对一项操作无结果时，返回空矩阵，空矩阵的大小为零<br /><code>d=eye(m,n)</code> 产生一个m行n列的单位矩阵</p><blockquote><p>所谓的单位矩阵就是一个主对角线元素为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>且其他位置元素为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>⋅</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n\cdot m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>矩阵。</p></blockquote><h3 id="矩阵中元素的操作"><a class="markdownIt-Anchor" href="#矩阵中元素的操作"></a> 矩阵中元素的操作</h3><ol><li>矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>行 <code>A(r,:)</code></li><li>矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>列 <code>A(:,r)</code></li></ol><blockquote><p>牢记逗号前后是先行后列</p></blockquote><ol start="3"><li>依次提取矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的每一列，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>拉伸为一个列向量：<code>A(:)</code></li></ol><blockquote><p>[1 2 3;4 5 6;7 8 9]会变成[1;4;7;2;5;8;3;6;9]画一下就能明白了。</p></blockquote><ol start="4"><li>取矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>i</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">i_1 \sim i_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>行、第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>j</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>j</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">j_1 \sim j_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>列构成新矩阵:<code>A(i1:i2, j1:j2)</code></li><li>以逆序提取矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>i</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">i_1 \sim i_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>行，构成新矩阵:<code>A(i_2:-1:i_1,:)</code></li><li>以逆序提取矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>j</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>j</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">j_1 \sim j_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>行，构成新矩阵:<code>A(:,j_2:-1:j_1)</code></li><li>删除<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>i</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">i_1 \sim i_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>行，构成新矩阵:<code>A(i_1:i_2,:)=[]</code></li></ol><blockquote><p>赋值操作，赋值一个空数组</p></blockquote><ol start="8"><li>删除<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>的第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>j</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>j</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">j_1 \sim j_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>列，构成新矩阵:<code>A(:,j_1:j_2)=[]</code></li><li>将矩阵A和B拼接成新矩阵：<code>[A  B]; [A;B]</code></li></ol><blockquote><p>拼接语句是这个<code>[A;B]</code></p></blockquote><h3 id="矩阵的运算"><a class="markdownIt-Anchor" href="#矩阵的运算"></a> 矩阵的运算</h3><ol><li>标量-矩阵运算</li></ol><p>标量-数组运算相同</p><ol start="2"><li>矩阵-矩阵运算<br />(1) 元素对元素的运算，同数组-数组运算<br />(2) 矩阵运算<br />矩阵加法：<code>A+B</code><br />矩阵乘法：<code>A*B</code><br />方阵的行列式：<code>det(A)</code><br />方阵的逆：<code>inv(A)</code><br />方阵的特征值与特征向量: <code>[V，D]=eig[A]</code></li></ol><blockquote><p>后面三个线代再慢慢理解吧，现在看都看不懂</p></blockquote><h2 id="关系与逻辑运算"><a class="markdownIt-Anchor" href="#关系与逻辑运算"></a> 关系与逻辑运算</h2><h3 id="逻辑运算符"><a class="markdownIt-Anchor" href="#逻辑运算符"></a> 逻辑运算符</h3><ol><li>关系运算符<br /><img src="https://www.z4a.net/images/2023/10/25/image-5.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-5.png" /></li><li>逻辑运算符<br /><img src="https://www.z4a.net/images/2023/10/25/image-4.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-4.png" /></li></ol><h3 id="控制流"><a class="markdownIt-Anchor" href="#控制流"></a> 控制流</h3><p>MATLAB提供三种决策或控制流结构<br /><code>for循环 while循环 if-elseif-else结构</code></p><h4 id="for循环"><a class="markdownIt-Anchor" href="#for循环"></a> for循环</h4><p>允许一组命令以固定的和预定的次数重复</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x=array</span><br><span class="line">    &#123;commands&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>在for和end语句之间的命令串{commands}按数组(array)中的每一列执行一次. 在每一次迭代中，x被指定为数组的下一列，即在第n次循环中，x=array(:,n)<br />例如:<br />对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">n=1,2,...,10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>,求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>n</mi></msub><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>n</mi><mo>⋅</mo><mi>π</mi></mrow><mn>10</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_n=sin(\frac{n \cdot \pi}{10})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7051149999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">⋅</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>的值。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> n=<span class="number">1</span>:<span class="number">10</span></span><br><span class="line">   x(n)=<span class="built_in">sin</span>(n*<span class="built_in">pi</span>/<span class="number">10</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h4 id="while循环"><a class="markdownIt-Anchor" href="#while循环"></a> while循环</h4><p>与for循环以固定次数求一组命令相反，while循环以不定的次数求一组语句的值。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>  (expression)</span><br><span class="line">    &#123;commands&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>只要在表达式(expression)里的所有元素为真，就执行while和end语句之间的命令串{commands}。</p><h4 id="if-elseif-else结构"><a class="markdownIt-Anchor" href="#if-elseif-else结构"></a> if-elseif-else结构</h4><p>有一个选择的一般形式是：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression)</span><br><span class="line">&#123;commands&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>如果在表达式(expression)里的所有元素为真，就执行if和end语句之间的命令串{commands}.<br />例如:<br /><img src="https://www.z4a.net/images/2023/10/25/image-6.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/25/image-6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-6.png" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>=<span class="title">fun2</span><span class="params">(x)</span></span></span><br><span class="line"><span class="keyword">if</span> x&gt;<span class="number">1</span></span><br><span class="line">   f=x^<span class="number">2</span>+<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> x&lt;=<span class="number">0</span></span><br><span class="line">      f=x^<span class="number">3</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">      f=<span class="number">2</span>*x</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="练习"><a class="markdownIt-Anchor" href="#练习"></a> 练习</h2><ol><li>用起泡法对10个数由小到大排序. 即将相邻两个数比较,将小的调到前头。</li></ol><blockquote><p>这题其实就是冒泡排序，考察for循环的使用</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=randi(<span class="number">10</span>,[<span class="number">1</span> <span class="number">5</span>]); <span class="comment">%生成1~10的一个1x5的矩阵(其实就是一个有五个元素的数组)</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(a)  <span class="comment">%i从1-&gt;a的长度，相当于for(int i=1;i&lt;=length(a);++i)</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="built_in">length</span>(a)-<span class="built_in">i</span></span><br><span class="line">        <span class="keyword">if</span> a(<span class="built_in">j</span>) &gt; a(<span class="built_in">j</span>+<span class="number">1</span>)</span><br><span class="line">            a([<span class="number">1</span> <span class="built_in">j</span>])=a([<span class="number">1</span> <span class="built_in">j</span>+<span class="number">1</span>]);  <span class="comment">%这样子写可以一句话交换a[j]和a[j+1]的数据，原理还不清楚</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ol start="2"><li>有一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>∗</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">4*5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span>矩阵,编程求出其最大值及其所处的位置。</li></ol><blockquote><p>直接用max函数。[val idx] = max(a,[],“all”)</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=randi(<span class="number">10</span>,[<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">[val idx] = <span class="built_in">max</span>(a,[],<span class="string">&quot;all&quot;</span>)  <span class="comment">%val就是找到的最大值,idx是矩阵的索引(一列一列来)。</span></span><br><span class="line"><span class="comment">%如果只有个max就只是找到每一列的最大值，返回的也不只是一个数，有多少列就有多少个最大值。</span></span><br><span class="line"><span class="comment">%上面这样写就可以返回整个矩阵的最大值</span></span><br></pre></td></tr></table></figure><ol start="3"><li>编程求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mn>20</mn></msubsup><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">\sum_{n=1}^{20}n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="number">1</span>:<span class="number">20</span>;</span><br><span class="line">y=<span class="built_in">factorial</span>(n)  <span class="comment">%求阶乘</span></span><br><span class="line">y_sum=sum(y)    <span class="comment">%计算总和</span></span><br></pre></td></tr></table></figure><ol start="4"><li>一球从100米高度自由落下,每次落地后反跳回原高度的一半,再落下. 求它在第10次落地时,共经过多少米?第10次反弹有多高?</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">height=<span class="number">100</span></span><br><span class="line">s=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">10</span></span><br><span class="line">    s=s+height;</span><br><span class="line">    height=height./<span class="number">2</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ol start="5"><li>有一函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>x</mi><mi>y</mi><mo>+</mo><mn>2</mn><mi>y</mi></mrow><annotation encoding="application/x-tex">f(x,y)=x^2+sinxy+2y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>,写一程序,输入自变量的值,输出函数值.</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x=input(<span class="string">&quot;please input the value of x:\n&quot;</span>);  <span class="comment">%input函数跟python有点像</span></span><br><span class="line">y=input(<span class="string">&quot;please input the value of y:\n&quot;</span>);</span><br><span class="line">f=x.^<span class="number">2</span>+<span class="built_in">sin</span>(x.*y)+<span class="number">2.</span>*y;</span><br><span class="line">fprintf(<span class="string">&#x27;f(x,y)=%f\n&#x27;</span>,f)  <span class="comment">%虽然 disp 可以用于显示数值，但在需要格式化输出的情况下，fprintf 更常用，因为它可以更灵活地处理格式说明符，并更好地适应不同类型的输出。</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记第一次codeforces比赛(下)</title>
      <link href="/xinonria.github.io/posts/8b0a2c96/"/>
      <url>/xinonria.github.io/posts/8b0a2c96/</url>
      
        <content type="html"><![CDATA[<h1 id="d-divide-and-equalize-ac-补题"><a class="markdownIt-Anchor" href="#d-divide-and-equalize-ac-补题"></a> D. Divide and Equalize (AC 补题)</h1><h2 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/D">原题链接</a></p><p>题面大意翻译:</p><p>给定一系列数字。</p><p>可以在这列数字中取两个数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">a_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i \neqj</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>)</p><p>取<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的一个因子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>。</p><p>将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>a</mi><mi>i</mi></msub><mi>x</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{a_i}{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.056492em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，把<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">a_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>j</mi></msub><mo>⋅</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">a_j \cdot x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.730558em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>。</p><p>问是否能根据任意次操作，使得最后这列数字都相等。</p><p>例如:</p><p>[100,2,50,10,1]</p><ol><li>取<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">a_3 = 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">a_2 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">x = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span>。将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">a_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>a</mi><mn>3</mn></msub><mi>x</mi></mfrac><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">\frac{a_3}{x}=10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.056492em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">a_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>⋅</mo><mi>x</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">a_2 \cdot x = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。此时列表变成[100,10,10,10,1]。</li><li>取<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">a_1 = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>5</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">a_5 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">x = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>a</mi><mn>1</mn></msub><mi>x</mi></mfrac><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">\frac{a_1}{x}=10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.056492em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">a_5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>⋅</mo><mi>x</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">a_2 \cdot x = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。此时列表变成[10,10,10,10,10]。</li></ol><p>在两次操作后，我们成功将这个列表的元素都变成了相同的数字。</p><p>我们只需要输出能否通过任意次操作来完成这个目标。</p><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>选定一个数的一个因子，让它自身除以这个因子，让一个别的数乘以这个因子。</p><p>抽象来看，可以看作是这个数的因子转移到了另一个数身上。</p><p>所以首先第一步就是把列表里的数字都拆成质因数的乘积。</p><p>虽然可以转移任意的因子，但拆成质因数后更好判断能不能转移。</p><p>如何判断可以完成目标呢？给个例子：</p><p>这个列表[125,8,27]</p><p>拆成质因数就是$$[5<em>5</em>5, 2<em>2</em>2, 3<em>3</em>3]$$</p><p>通过转移他们的质因数，我们可以把它变成$$[2<em>3</em>5,2<em>3</em>5,2<em>3</em>5]$$。</p><p>也就是变成了[30,30,30]。</p><p>注意到实际上就是将他们不同的质因数平均分配给<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>个元素。</p><p>所以我们可以只需要搜集质因数的个数，看最后的总个数是否是n的整数倍就可以了。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi(i,l,r) for(int i=l;i&lt;=r;i++)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">divided</span><span class="params">(<span class="type">int</span> x, unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&amp; umap)</span> <span class="comment">//提取x的质因数并保存在哈希表里</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (i * i &lt;= x) &#123;</span><br><span class="line">        <span class="keyword">while</span> (x % i == <span class="number">0</span>) &#123;</span><br><span class="line">        umap[i]++;</span><br><span class="line">        x /= i;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) umap[x]++; <span class="comment">//如果x自己就是质数的话就不会进入上面的循环，所以要加个特殊判断</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; umap;</span><br><span class="line">    <span class="built_in">fi</span>(i, <span class="number">0</span>, n - <span class="number">1</span>) &#123;</span><br><span class="line">        cin &gt;&gt; a;</span><br><span class="line">        <span class="built_in">divided</span>(a, umap);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; e : umap) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.second % n != <span class="number">0</span>) &#123; <span class="comment">//如果有个质因数的个数不满足是n的整数倍，那么最后就不可能完成目标</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-block-sequence-ac-补题"><a class="markdownIt-Anchor" href="#e-block-sequence-ac-补题"></a> E. Block Sequence (AC 补题)</h1><h2 id="题面-2"><a class="markdownIt-Anchor" href="#题面-2"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/E">原题链接</a></p><p>题目大意翻译:</p><p>给定一个列表，它需要被分成多个区块(blocks)。每个区块的第一个数字<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>表示该区块的长度，后面会跟着<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>个元素。</p><p>可以删去这个列表的任意数字，问需要至少删除几个数字才能让这个列表满足以上条件。</p><p>例如:</p><p>[1,2,3,4,5]</p><p>删去1和5两个数字，列表可以被分为[[2,3,4]]。</p><p>[5,6,3,2]</p><p>删去任意数字都不能满足条件，只能全删了，回答是4。</p><h2 id="思路-2"><a class="markdownIt-Anchor" href="#思路-2"></a> 思路</h2><p>这题可以用动态规划的思路来解决。</p><p>定义<code>dp[i]</code>存储的是要让从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>→</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i \to n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>的序列满足条件的最小操作次数。</p><p>如果选择删去第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>个元素的话，<code>dp[i] = dp[i+1] + 1</code>。</p><p>如果不删的话就是<code>dp[i] = dp[i+a[i]+1]</code>。它作为序列头，自己自然就等于下个序列的头了。</p><p>特别的，当<code>i+a[i]+1 &gt; n</code>时说明必须要删掉当前的数才能满足条件。</p><h2 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span>, <span class="title">dp</span><span class="params">(n, n+<span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="built_in">fi</span>(i, <span class="number">0</span>, n - <span class="number">1</span>) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    dp[n - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">auto</span> getNum = [&amp;n, &amp;dp](<span class="type">int</span> x) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x &gt; n) <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (x == n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> dp[x];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        dp[i] = <span class="built_in">min</span>(dp[i + <span class="number">1</span>] + <span class="number">1</span>, <span class="built_in">getNum</span>(i + a[i] + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[<span class="number">0</span>] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="f-minimum-maximum-distance-ac-补题"><a class="markdownIt-Anchor" href="#f-minimum-maximum-distance-ac-补题"></a> F. Minimum Maximum Distance (AC 补题)</h1><h2 id="题面-3"><a class="markdownIt-Anchor" href="#题面-3"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/F">原题链接</a></p><p>题目大意翻译：</p><p>给定一个无向无环图，上面标记了几个节点。找出一个节点到达所有节点的距离最短，输出这个节点到达最远一个标记节点的距离。</p><p>例如:</p><p><img src="https://espresso.codeforces.com/274c072df56daa8245be057f40c9af87463bd559.png" class="lazyload" data-srcset="https://espresso.codeforces.com/274c072df56daa8245be057f40c9af87463bd559.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>在这个图中2,6,7是标记节点，根据计算可以得出节点1或节点3到达最远标记节点的距离最小。</p><p>①到达最远的标记节点是⑥和⑦，距离为2。</p><p>③到达最远的标记节点是②，距离为2。</p><h2 id="思路-3"><a class="markdownIt-Anchor" href="#思路-3"></a> 思路</h2><p>我们首先从任意一个<strong>标记</strong>节点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">v_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出发，找到离它最远的<strong>标记</strong>节点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>再从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出发找到离它最远的<strong>标记</strong>节点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">v_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>(可能仍为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">v_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)，记录<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">v_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的距离<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">distance</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">c</span><span class="mord mathnormal">e</span></span></span></span>。</p><p>最终答案就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{distance}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</p><p>特别的，当只有一个标记节点的时候直接返回0。</p><h2 id="代码-3"><a class="markdownIt-Anchor" href="#代码-3"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; m;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> v, <span class="type">int</span> past, vector&lt;<span class="type">int</span>&gt;&amp;d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (past != <span class="number">-1</span>) d[v] = d[past] + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>&amp; u:m[v]) &#123;</span><br><span class="line"><span class="keyword">if</span>(u!=past) <span class="built_in">dfs</span>(u, v, d);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n, k;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">m.<span class="built_in">assign</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">0</span>));</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mark</span><span class="params">(k)</span></span>;</span><br><span class="line"><span class="built_in">fi</span>(i, <span class="number">0</span>, k<span class="number">-1</span>) &#123;</span><br><span class="line">cin &gt;&gt; mark[i];</span><br><span class="line">--mark[i];       <span class="comment">//它的数据从1开始，这里改成从0开始</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> a, b;</span><br><span class="line"><span class="built_in">fi</span>(i, <span class="number">1</span>, n - <span class="number">1</span>) &#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">a--, b--;</span><br><span class="line">m[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">m[b].<span class="built_in">push_back</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (k == <span class="number">1</span>) &#123;    <span class="comment">//只有一个节点的情况</span></span><br><span class="line">cout &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">d1</span><span class="params">(n)</span></span>;  <span class="comment">//存的是从v1到i位置的距离</span></span><br><span class="line"><span class="built_in">dfs</span>(mark[<span class="number">0</span>], <span class="number">-1</span>, d1);</span><br><span class="line"><span class="type">int</span> v2 = mark[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>&amp; num : mark) &#123;</span><br><span class="line"><span class="keyword">if</span> (d1[v2] &lt; d1[num]) v2 = num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">d2</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="built_in">dfs</span>(v2, <span class="number">-1</span>, d2);</span><br><span class="line"><span class="type">int</span> v3 = mark[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span>&amp; num : mark) &#123;</span><br><span class="line"><span class="keyword">if</span> (d2[v3] &lt; d2[num]) v3 = num;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ((d2[v3] + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;      <span class="comment">//为什么要+1？只有+1才能过</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记第一次codeforces比赛(上)</title>
      <link href="/xinonria.github.io/posts/92111dd7/"/>
      <url>/xinonria.github.io/posts/92111dd7/</url>
      
        <content type="html"><![CDATA[<h1 id="写在前面"><a class="markdownIt-Anchor" href="#写在前面"></a> 写在前面</h1><p>如果要提升自己算法技术的话听说刷Leetcode帮助不大，那现在每日一题转为刷codeforces上的题目吧。</p><p>第一次参加codeforces的比赛，只敢打了个div.3。2h15min只能做出两道题来，感觉自己被血虐。</p><p>赛后补了下题目，补题的时候又感觉好像也不难。。。</p><h1 id="a-dont-try-to-count-补题ac"><a class="markdownIt-Anchor" href="#a-dont-try-to-count-补题ac"></a> A. Don’t Try to Count (补题AC)</h1><h2 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/A">原题链接</a></p><p>(看到这标题吓我一跳)</p><p>翻译一下题目大意：</p><p>给定两个字符串<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>。</p><p>可以对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>字符串做复制操作，就是复制自身放到后面。</p><p>例如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">abc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span></span></span></span>复制一次变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">abcabc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span></span></span></span>，再复制一次变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi><mi>a</mi><mi>b</mi><mi>c</mi><mi>a</mi><mi>b</mi><mi>c</mi><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">abcabcabcabc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal">c</span></span></span></span>。</p><p>问最少需要复制几次<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>，可以让<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>成为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>的一个子串。</p><p>例如：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>e</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">x = eforc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">c</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mi>f</mi><mi>o</mi><mi>r</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">s = force</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">c</span><span class="mord mathnormal">e</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">eforc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">c</span></span></span></span>复制一次变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mtext mathvariant="bold">force</mtext><mi>f</mi><mi>o</mi><mi>r</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">e\textbf{force}forc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">e</span><span class="mord text"><span class="mord textbf">force</span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">c</span></span></span></span><br />所以只需要复制一次就可以满足条件。</p><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>比赛的时候第一题没写出来蚌埠住了。主要是不知道判断复制到什么时候结束。</p><p>s字符串的最后一个字符位置乘上2？一直卡在中断条件那。</p><p>偏偏没注意到x和s的长度范围是小于25的。</p><p>在最极端的情况下x长度为1，s的长度为25。最多只需要复制五次就能达到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∗</mo><msup><mn>2</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1*2^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>超过25了。</p><p>找子串的话可以用KMP模版，但没背。</p><p>所以直接用了C++字符串自带的find函数。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">x = <span class="string">&quot;bc&quot;</span>;</span><br><span class="line">s.<span class="built_in">find</span>(x);</span><br><span class="line"></span><br><span class="line">在s字符串里找x子串，返回x首个字符所在的位置。</span><br><span class="line">如果没有找到则返回string::npos。</span><br></pre></td></tr></table></figure><p>所以最终思路就是：</p><p>边复制边查找是否存在子串，一旦找到就退出循环输出当前复制次数。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>头文件什么的就省略了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> mem(a) memset(a,0,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dbg(x) cout&lt;&lt;#x&lt;&lt;<span class="string">&quot; = &quot;</span>&lt;&lt;x&lt;&lt;endl</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi(i,l,r) for(int i=l;i&lt;=r;i++) </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> cd(a) scanf(<span class="string">&quot;%d&quot;</span>,&amp;a)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">string x, s;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; s;</span><br><span class="line"><span class="built_in">fi</span>(i, <span class="number">0</span>, <span class="number">5</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (x.<span class="built_in">find</span>(s) != string::npos) &#123;</span><br><span class="line">cout &lt;&lt; i &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">x += x;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line"><span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-three-threadlets-ac"><a class="markdownIt-Anchor" href="#b-three-threadlets-ac"></a> B. Three Threadlets (AC)</h1><h2 id="题面-2"><a class="markdownIt-Anchor" href="#题面-2"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/B">原题链接</a></p><p>题面大意翻译：</p><p>给你三根木棍的长度，可以对任意一根木棍砍一刀，让它分成两半（这两半长度不能其中一个为0）。</p><p>例如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>可以被分为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2,4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1,5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span></span></span></span>，但不能分为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">0,6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span></span></span></span>。</p><p>最多能砍三刀，问是否能通过砍几刀，能使所有木棍最后长度相同。</p><p>例如：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo>→</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo>→</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo>→</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1,3,2→1,2,1,2→1,1,1,1,2→1,1,1,1,1,1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span></span></span></span> 可以通过砍3刀来完成任务。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo separator="true">,</mo><mn>36</mn><mo separator="true">,</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">6,36,12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span> 3刀内不能让它们长度相同。</p><h2 id="思路-2"><a class="markdownIt-Anchor" href="#思路-2"></a> 思路</h2><p>我的思路有点蠢，但因为数据量小，所以能过。</p><p>由题意可知，最后这三根木棍的长度必定是小于或等于最开始的时候最短那根木棍的长度的。</p><p>所以每次以最短的那根木棍<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">minLength</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span>为目标，把<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">maxLength</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span>那根砍成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo separator="true">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">minLength,maxLength - minLength</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span>这两个长度。</p><p>再把获得的新木棍加进数组里再次排序。</p><p>如果三次还不能满足条件，那么就是失败了。</p><p>看了看题解好像只用保存最小值就够了，只要用比最小值大的数去砍也行。</p><h2 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> tmp = v[<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> len = v.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i != len; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (v[i] != tmp) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">tmp = v[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line">a.<span class="built_in">assign</span>(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;a[<span class="number">0</span>], &amp;a[<span class="number">1</span>], &amp;a[<span class="number">2</span>]);</span><br><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span> (a[<span class="number">0</span>] == a[<span class="number">1</span>] &amp;&amp; a[<span class="number">1</span>] == a[<span class="number">2</span>]) &#123;   <span class="comment">//已经都相等了就直接输出吧</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>; </span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">a.<span class="built_in">push_back</span>(a[<span class="number">0</span>]);</span><br><span class="line">a[<span class="number">2</span>] -= a[<span class="number">0</span>];          <span class="comment">//砍第一刀</span></span><br><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">check</span>(a)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">a.<span class="built_in">push_back</span>(a[<span class="number">0</span>]);</span><br><span class="line">a[<span class="number">3</span>] -= a[<span class="number">0</span>];       <span class="comment">//砍第二刀</span></span><br><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">check</span>(a)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">a.<span class="built_in">push_back</span>(a[<span class="number">0</span>]);</span><br><span class="line">a[<span class="number">4</span>] -= a[<span class="number">0</span>];       <span class="comment">////砍第三刀</span></span><br><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">check</span>(a)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-perfect-square-ac"><a class="markdownIt-Anchor" href="#c-perfect-square-ac"></a> C. Perfect Square (AC)</h1><h2 id="题面-3"><a class="markdownIt-Anchor" href="#题面-3"></a> 题面</h2><p><a href="https://codeforces.com/contest/1881/problem/C">原题链接</a></p><p>题目大意翻译：</p><p>给定一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∗</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n*n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>的矩阵，n为偶数。</p><p>要让这个矩阵顺时针旋转<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>90</mn><mi mathvariant="normal">°</mi></mrow><annotation encoding="application/x-tex">90\degree</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">0</span><span class="mord">°</span></span></span></span>后跟原来的矩阵相同。</p><p>可以对这个矩阵的字母进行改变。使<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>→</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \to b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>的代价为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>→</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">a \to d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span>的代价为3。当该字母为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>时不能改变。</p><p>问如何以最小的代价，使得这个矩阵顺时针旋转<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>90</mn><mi mathvariant="normal">°</mi></mrow><annotation encoding="application/x-tex">90\degree</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">0</span><span class="mord">°</span></span></span></span>后跟原来的矩阵相同。</p><p>例如这个矩阵:</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="bold">b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}  &amp;a  &amp;b  &amp;b  &amp;a \\  &amp;b  &amp;c  &amp;\mathbf{b}  &amp;b \\  &amp;b  &amp;c  &amp;c  &amp;b \\  &amp;a  &amp;b  &amp;b  &amp;a\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.800000000000001em;vertical-align:-2.1500000000000004em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.65em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-3.4499999999999997em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.2499999999999996em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-1.0499999999999996em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">b</span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>只需要对加粗的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>操作一次让它变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>就可以满足条件了。</p><h2 id="思路-3"><a class="markdownIt-Anchor" href="#思路-3"></a> 思路</h2><p>这道题有两个点。</p><p>首先是如何遍历这个矩阵。</p><p>正常我们是通过横坐标和纵坐标访问元素的，现在需要顺时针访问。</p><p>我们可以一步一步走，到达顶点处时加个判断，让它拐个弯。</p><p>真巧前几天Leetcode也有一道这种顺时针访问矩阵的题目。把当时写的lambda表达式拿过来用就可以了。</p><p>其次是如何找到需要修改的值。</p><p>可以使用双指针的办法。</p><p>例如最开始<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">cur1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">1</span></span></span></span>指向<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">cur2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">2</span></span></span></span>指向<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, m-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p><p>判断cur1和cur2指向的值是否相同，不同的话就让较小的那个字母进行操作让它变成较大的那个字母。把代价存起来。</p><p>接下来cur1和cur2都往下走一步，这样依次遍历。</p><p>循环一次的话会发现有的值没有被更改，一次不行的话就再来一次，果然循环两次就可以了。</p><h2 id="代码-3"><a class="markdownIt-Anchor" href="#代码-3"></a> 代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">﻿<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="type">char</span> a[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">change</span><span class="params">(<span class="type">char</span>&amp; a, <span class="type">char</span>&amp; b)</span> </span>&#123;   <span class="comment">//较小的那个字母让它变成较大的那个字母。返回代价</span></span><br><span class="line"><span class="keyword">if</span> (a &gt; b) <span class="built_in">swap</span>(a, b);</span><br><span class="line"><span class="type">int</span> res = b - a;</span><br><span class="line">a = b;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; x, y;   <span class="comment">//用pair来存坐标</span></span><br><span class="line"><span class="keyword">auto</span> moveForword = [](pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&amp; cur, <span class="type">int</span> start, <span class="type">int</span> end) &#123;   <span class="comment">//往下走一步的函数</span></span><br><span class="line"><span class="keyword">if</span> (cur.first == start) &#123;</span><br><span class="line"><span class="keyword">if</span> (cur.second == end) cur.first += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> cur.second += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (cur.second == end) &#123;</span><br><span class="line"><span class="keyword">if</span> (cur.first == end) cur.second -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> cur.first += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (cur.first == end) &#123;</span><br><span class="line"><span class="keyword">if</span> (cur.second == start) cur.first -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> cur.second -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (cur.second == start) &#123;</span><br><span class="line"><span class="keyword">if</span> (cur.first == start) cur.second += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> cur.first -= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line">cnt = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d\n&quot;</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">a[i][j] = <span class="built_in">getchar</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">getchar</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n / <span class="number">2</span>; ++i) &#123;</span><br><span class="line">x.first = i, x.second = i;</span><br><span class="line">y.first = i, y.second = n - i + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">4</span> * <span class="number">2</span>; ++j) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> w = <span class="number">1</span>; w &lt;= n - i; ++w) &#123;</span><br><span class="line"><span class="keyword">if</span> (a[x.first][x.second] != a[y.first][y.second]) cnt += <span class="built_in">change</span>(a[y.first][y.second],a[x.first][x.second]);</span><br><span class="line"><span class="built_in">moveForword</span>(x, i, n - i + <span class="number">1</span>);</span><br><span class="line"><span class="built_in">moveForword</span>(y, i, n - i + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, cnt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode的第一次周赛</title>
      <link href="/xinonria.github.io/posts/b4c96cde/"/>
      <url>/xinonria.github.io/posts/b4c96cde/</url>
      
        <content type="html"><![CDATA[<h1 id="前面的话"><a class="markdownIt-Anchor" href="#前面的话"></a> 前面的话</h1><p>第一次参加Leetcode周赛</p><p>这次参加了周日上午十点半的第366次周赛。</p><p>在平板上打的，还没开code-server，直接用网站的在线编辑器。</p><p>开打的时候还在上着C语言理论课，不得不说这个老师还挺开明。</p><p>认为自己掌握了可以直接不来上课，让舍友帮忙签到（原话）。</p><p>如果来了就别迟到或者早退，此外在课上干什么都可以。</p><p>在这样的背景下就可以上课打lc周赛了。</p><p>对比一些老师，真的是课越水抓得越严。C语言和高数这两节课老师根本不抓，每次前排都能坐满。</p><h1 id="比赛结果"><a class="markdownIt-Anchor" href="#比赛结果"></a> 比赛结果</h1><p><img src="https://www.z4a.net/images/2023/10/10/image397c0b8281a87060.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/10/image397c0b8281a87060.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>只能做出简单的前两题。</p><p>第一题还因为写反一个变量阴沟翻船了。</p><h1 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> 题目</h1><h2 id="t1"><a class="markdownIt-Anchor" href="#t1"></a> T1</h2><p><a href="https://leetcode.cn/classic/problems/divisible-and-non-divisible-sums-difference/description/">原题链接</a></p><h3 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h3><p>分类求和并作差</p><p>给你两个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 。</p><p>现定义两个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">num1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">num2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">2</span></span></span></span> ，如下所示：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">num1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span></span></span></span>：范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span> 内所有 无法被 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 整除 的整数之和。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">num2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">2</span></span></span></span>：范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span> 内所有 能够被 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 整除 的整数之和。</p><p>返回整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn><mo>−</mo><mi>n</mi><mi>u</mi><mi>m</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">num1 - num2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">2</span></span></span></span>。</p><h3 id="分析"><a class="markdownIt-Anchor" href="#分析"></a> 分析</h3><p>一眼想到的思路就是把<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">]</span></span></span></span>列出来判断奇偶相加就行了。</p><p>虽然这种太有规律的题肯定可以用数学公式推出来，但竞赛毕竟是看用时的，所以直接暴力枚举秒了。</p><p>(第一次提交的时候把sum1和sum2对应的含义弄反了，痛吃罚时5min。希望AK杯的时候不要犯这种低级错误了！)</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">differenceOfSums</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> num1 = <span class="number">0</span>, num2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % m == <span class="number">0</span>) num2+= i;</span><br><span class="line">            <span class="keyword">else</span> num1+=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num1 - num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="t2"><a class="markdownIt-Anchor" href="#t2"></a> T2</h2><p><a href="https://leetcode.cn/classic/problems/minimum-processing-time/description/">原题链接</a></p><h3 id="题面-2"><a class="markdownIt-Anchor" href="#题面-2"></a> 题面</h3><p>你有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 颗处理器，每颗处理器都有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 个核心。现有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∗</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n * 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 个待执行任务，每个核心只执行<strong>一个</strong>任务。</p><p>给你一个下标从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 开始的整数数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>o</mi><mi>r</mi><mi>T</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">processorTime</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">o</span><span class="mord mathnormal">c</span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord mathnormal">s</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">i</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span></span></span></span> ，表示每颗处理器最早空闲时间。另给你一个下标从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 开始的整数数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>a</mi><mi>s</mi><mi>k</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">tasks</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">s</span></span></span></span> ，表示执行每个任务所需的时间。返回所有任务都执行完毕需要的<strong>最小时间</strong> 。</p><p>注意：每个核心独立执行任务。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入：processorTime = [8,10], tasks = [2,2,3,1,8,7,4,5]</span><br><span class="line">输出：16</span><br><span class="line">解释：</span><br><span class="line">最优的方案是将下标为 4, 5, 6, 7 的任务分配给第一颗处理器（最早空闲时间 time = 8），下标为 0, 1, 2, 3 的任务分配给第二颗处理器（最早空闲时间 time = 10）。 </span><br><span class="line">第一颗处理器执行完所有任务需要花费的时间 = max(8 + 8, 8 + 7, 8 + 4, 8 + 5) = 16 。</span><br><span class="line">第二颗处理器执行完所有任务需要花费的时间 = max(10 + 2, 10 + 2, 10 + 3, 10 + 1) = 13 。</span><br><span class="line">因此，可以证明执行完所有任务需要花费的最小时间是 16 。</span><br></pre></td></tr></table></figure><h3 id="分析-2"><a class="markdownIt-Anchor" href="#分析-2"></a> 分析</h3><p>看上去有点复杂呢，什么处理器都出来了。</p><p>分析一下样例，很容易能注意到：</p><p>要使执行任务最短，要让CPU最早空闲时间大的去匹配任务用时小的，任务用时大的要用CPU最早空闲小的。</p><p>那么可以用贪心思路解决了。</p><p>先把这两个数组排序。</p><p>一个从大到小，一个从小到大。</p><p>再每四个任务跟一个处理器匹配。</p><p>保存最长任务用时就可以了。</p><p>(lambda表达式用在sort自定义比较参数里确实方便。看上去很高级，其实目前我这个水平使用深度来说lambda真的很简单)</p><h3 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minProcessingTime</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; processorTime, vector&lt;<span class="type">int</span>&gt;&amp; tasks)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(processorTime.<span class="built_in">begin</span>(),processorTime.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(tasks.<span class="built_in">begin</span>(),tasks.<span class="built_in">end</span>(), [](<span class="keyword">auto</span>&amp; a, <span class="keyword">auto</span>&amp; b) &#123;<span class="keyword">return</span> a&gt;b;&#125;);</span><br><span class="line">        <span class="type">int</span> proMax = <span class="number">-1</span>, taMax = <span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; pt:processorTime) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                taMax = <span class="built_in">max</span>(taMax, pt+tasks[++cnt]);</span><br><span class="line">            &#125;</span><br><span class="line">            proMax = <span class="built_in">max</span>(proMax, taMax);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> proMax;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="最后"><a class="markdownIt-Anchor" href="#最后"></a> 最后</h1><p>这次16min完成比赛（除去罚时应该是11min的呜呜），T3感觉用搜索做，T4又是二进制哈哈。</p><p>T4应该要把1都凑在一起，但每个数都统计二进制1个数会不会有点麻烦啊。</p><p>希望下次自己能完成更多的题目吧！</p>]]></content>
      
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 周赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓平板上的VsCode</title>
      <link href="/xinonria.github.io/posts/961970b4/"/>
      <url>/xinonria.github.io/posts/961970b4/</url>
      
        <content type="html"><![CDATA[<h1 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h1><p>目前的笔记本是暗影精灵9，拔电后续航实在有些拉胯。</p><p>晚自习带过去两个小时，估摸只能撑一个半小时。</p><p>已经把我能想到的所有省电的办法打开了，还是这样。</p><p>搬来搬去也比较麻烦，由此萌生了用安卓平板写代码的想法。</p><h1 id="操作"><a class="markdownIt-Anchor" href="#操作"></a> 操作</h1><p>平板是小米平板6，去第三方买了键盘和笔，虽然肯定比不上原装，凑合着用。</p><p>需要软件:</p><ul><li>Termux</li><li>Chrome</li></ul><p>Termux可以在安卓下模拟终端(无需root)，可以用它装个Linux，这里选择Debian。</p><h2 id="下载"><a class="markdownIt-Anchor" href="#下载"></a> 下载</h2><ul><li><a href="https://f-droid.org/packages/com.termux/">Termux f-droid下载地址</a></li><li>Chrome 在Google Play下载。</li></ul><p>Termux推荐在f-droid下载，别的地方下载的会出各种奇奇怪怪的问题。</p><p>code-server官方也推荐在f-droid下载的Termux。</p><h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2><p>安卓上的vscode原理是:</p><ol><li>用Termux安装一个Linux系统</li><li>在系统里安装code-server(一个第三方软件)</li><li>启动code-server服务</li><li>使用Chrome打开本地的端口，默认为127.0.0.1:8080</li></ol><h3 id="第一步-linux安装"><a class="markdownIt-Anchor" href="#第一步-linux安装"></a> 第一步 Linux安装</h3><p>Termux，启动！</p><ol><li>执行<code>termux-setup-storage</code>，让Termux获得访问手机空间的权限。</li></ol><p>某个教程把<code>storage</code>给打错了，花了一点时间才发现问题。</p><ol start="2"><li>更换镜像源：执行<code>termux-change-repo</code>，出现界面后按回车-用方向键选择Tsighua镜像-按空格选中-按回车OK。</li></ol><p><img src="https://www.z4a.net/images/2023/10/01/image.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/image.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><ol start="3"><li>升级软件仓库,<code>pkg update</code>和<code>pkg upgrade</code>。</li></ol><p>我只能说只要第一次登陆这种有包管理器的系统，最好都手动升级一下，否则会有的版本太老，导致出各种问题。</p><p><s>4. 安装code-server</s></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pkg install tur-repo</span><br><span class="line">pkg install code-server</span><br><span class="line">code-server</span><br></pre></td></tr></table></figure><p>官方说这三行命令可以直接安装，但实操下来最后启动的时候会报错。</p><p><img src="https://www.z4a.net/images/2023/10/01/aa4660aead04bb6d164eb17a8524a8cc_720.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/aa4660aead04bb6d164eb17a8524a8cc_720.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>就这个问题折磨了最久，后来发现是因为里面的某一个依赖的问题，要手动删除后重下。</p><p>但用Termux的包管理pkg也不知道node-modules在哪，所以还是按老办法来，装个Debian，在里面开code-server。</p><ol start="4"><li>安装Debian</li></ol><p>首先安装<code>proot-distro</code></p><p><code>pkg install proot-distro</code></p><p>然后安装<code>Debian</code></p><p><code>proot-distro install debian</code></p><p>安装完成后登陆<code>Debian</code></p><p><code>proot-distro login debian</code></p><p>登陆上之后老套路更新<code>apt</code>包管理库</p><p><code>apt-update &amp;&amp; apt-upgrade</code></p><h3 id="第二步-code-server安装"><a class="markdownIt-Anchor" href="#第二步-code-server安装"></a> 第二步 code-server安装</h3><ol start="5"><li>安装code-server</li></ol><p>根据官网，直接用脚本安装。</p><p><code>curl -fsSL https://code-server.dev/install.sh | sh </code></p><p>安装好后可以直接运行<code>code-server</code>试试。</p><p>我遇到了以下的问题：</p><p><img src="https://www.z4a.net/images/2023/10/01/aa4660aead04bb6d164eb17a8524a8cc_720.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/aa4660aead04bb6d164eb17a8524a8cc_720.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>在Github上code-server项目的issue找到了解决办法。</p><p><a href="https://github.com/coder/code-server/issues/6446">issue</a></p><p><img src="https://www.z4a.net/images/2023/10/01/image729c988899ca1055.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/image729c988899ca1055.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>感谢大佬！</p><p>原因在于argon2这个依赖有问题，要自己删掉重下。</p><p>去<code>code-server</code>里找到<code>node_modules</code>，把里面的<code>argon2</code>删掉。</p><p>按照这个教程来，我自己会在安装的时候又出错。</p><p>改成用<code>npm install argon2</code>就行了。</p><p>安装好之后还没完。</p><p>要把默认密码给改了。</p><p>默认配置文件在这：</p><p><code>~/.config/code-server/config.yaml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bind-addr: 127.0.0.1:8080                 #code-server绑定的地址和端口</span><br><span class="line">auth: password                          #验证方式，可选password或none</span><br><span class="line">password: xxx         #设置密码</span><br><span class="line">cert: false</span><br></pre></td></tr></table></figure><p>保存之后就可以启动了。</p><h3 id="第三步-code-server配置"><a class="markdownIt-Anchor" href="#第三步-code-server配置"></a> 第三步 code-server配置</h3><ol start="6"><li>启动！</li></ol><p>输入<code>code-server</code></p><p><img src="https://www.z4a.net/images/2023/10/01/287b61d248ab8385dfa519ab67c8340a_720.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/287b61d248ab8385dfa519ab67c8340a_720.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>在chrome打开127.0.0.1:8080就可以正常访问了。</p><p>此时Vscode还完全没有任何配置。</p><p>插件源要手动切一下用微软vscode的插件源，要不然搜不到C++的拓展。</p><p>这里使用微软vscode的插件源，插件将更多，而且质量也更高</p><p><code>nano /usr/lib/code-server/lib/vscode/product.json</code>前插入下面内容</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;extensionsGallery&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;serviceUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://marketplace.visualstudio.com/_apis/public/gallery&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;cacheUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://vscode.blob.core.windows.net/gallery/index&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;itemUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://marketplace.visualstudio.com/items&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;controlUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;recommendationsUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>修改好之后装一下中文拓展，我自己还装了C++拓展，Python拓展。</p><p>C++拓展安装好之后还要在Debian里<code>apt install gcc g++ gdb</code>才能正常使用。</p><p>要用Python的话也要<code>apt install python3</code>，在vscode里选择好解释器。</p><p><em><strong>Then all the things have done.</strong></em></p><p>开始在平板上使用vscode咯！</p><p>在平板上用vscode在Leetcode上刷题。</p><p><img src="https://www.z4a.net/images/2023/10/01/6206a3ddfe0ed5064c1e751d071b764b_720.jpg" class="lazyload" data-srcset="https://www.z4a.net/images/2023/10/01/6206a3ddfe0ed5064c1e751d071b764b_720.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>PS. 最近vscode的Leetcode拓展好像不能用用户名加密码正常登陆，怀疑是因为要手机号验证，但因为这个拓展没做这个界面，所以一直提示密码错误。</p><p>只能复制一下已经登录上Leetcode的Chrome上的cookie来登陆。</p>]]></content>
      
      
      
        <tags>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一些有用小操作</title>
      <link href="/xinonria.github.io/posts/39412549/"/>
      <url>/xinonria.github.io/posts/39412549/</url>
      
        <content type="html"><![CDATA[<h3 id="mid溢出"><a class="markdownIt-Anchor" href="#mid溢出"></a> mid溢出</h3><p>在使用二分法的时候经常会用到一行代码:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mid = (left + right) / <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>很正常的思维，<code>mid</code>就是<code>left</code>和<code>right</code>的中间值嘛。</p><p>但是当<code>right</code>为<code>INT_MAX</code>也就是<code>int</code>上限的时候，<code>left+right</code>会导致<code>mid</code>溢出。</p><p>如果这样写就可以避免这个溢出了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mid = left + ((right - left) &gt;&gt; <span class="number">1</span>); <span class="comment">// &gt;&gt; 1 表示除以2</span></span><br></pre></td></tr></table></figure><p>要养成这样写<code>mid</code>的习惯。</p><p>小时候看一本算法书当中依稀记得<code>mid</code>就是这样的，当时无知的自己还嘲笑作者喜欢装逼，又加法又减法又位运算的。</p><h3 id="乘法取模"><a class="markdownIt-Anchor" href="#乘法取模"></a> 乘法取模</h3><p>在计算一些大数的时候，往往题目会要求对一个较大的质数取模。</p><p>例如</p><p><img src="https://www.z4a.net/images/2023/09/20/image05f845ad07e900e7.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/20/image05f845ad07e900e7.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>(这道题每步取模就够用了)</p><p><a href="https://xinonria.top/2023/09/04/%E5%BF%AB%E9%80%9F%E5%B9%82/">快速幂</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 200907</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">myPow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (n) &#123;</span><br><span class="line"><span class="keyword">if</span> (n &amp; <span class="number">1</span>) ans = (ans * x) % MOD;  <span class="comment">//遇到1了，把当前结果乘进ans里</span></span><br><span class="line">x = (x * x) % MOD;</span><br><span class="line">n &gt;&gt;= <span class="number">1</span>;  <span class="comment">//n的二进制右移一位</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans % MOD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但这里有一个问题，如果中途<code>ans*x</code>这步就直接导致溢出了怎么办？</p><p>乘法的原理就是不断地加，我们可以用类似于快速幂的方法写一个快速乘（虽然并不快速），不过目的是保证在乘法过程中每步取模，不会出现溢出。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 200907</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">quickAdd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (b) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) &#123;</span><br><span class="line">res = (res + a) % MOD;</span><br><span class="line">&#125;</span><br><span class="line">a = (a + a) % MOD;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res % MOD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>后续可能还会更新…</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#学习之路(day4)</title>
      <link href="/xinonria.github.io/posts/b0dad21/"/>
      <url>/xinonria.github.io/posts/b0dad21/</url>
      
        <content type="html"><![CDATA[<h3 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h3><h4 id="有参数无返回值函数"><a class="markdownIt-Anchor" href="#有参数无返回值函数"></a> 有参数无返回值函数</h4><h5 id="使用命名参数"><a class="markdownIt-Anchor" href="#使用命名参数"></a> 使用命名参数</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **定义函数**</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Foo</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> number, <span class="built_in">bool</span> ok</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// **调用函数**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 位置参数</span></span><br><span class="line">Foo(<span class="string">&quot;Xinon&quot;</span>, <span class="number">18</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名参数</span></span><br><span class="line">Foo(name: <span class="string">&quot;Xinon&quot;</span>, ok: <span class="literal">true</span>, number: <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 混用</span></span><br><span class="line">Foo(<span class="string">&quot;Xinon&quot;</span>, ok: <span class="literal">false</span>,number: <span class="number">18</span>);</span><br></pre></td></tr></table></figure><p>以上三个例子可以看出，可以使用命名参数来指定传入的值对应哪个形参。</p><p>当使用命名参数后，顺序不重要了。</p><p>但如果没有使用命名参数，就要保证位置参数的位置是正确的。</p><h4 id="声明可选参数"><a class="markdownIt-Anchor" href="#声明可选参数"></a> 声明可选参数</h4><p>为参数分配默认值后，它将变为可选参数。 如果参数中省略了可选参数，则函数执行时将使用默认值。</p><p><strong>注意可选参数必须都放在所有必需参数之后，否则编译失败CE</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Foo</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">bool</span> ok = <span class="literal">true</span>, <span class="built_in">int</span> number = <span class="number">18</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo(<span class="string">&quot;Xinon&quot;</span>);</span><br></pre></td></tr></table></figure><p>若不给出可选参数的值，那么函数执行时使用默认值<code>ok: true</code>和<code>number: 18</code>。</p><h4 id="有参数有返回值函数"><a class="markdownIt-Anchor" href="#有参数有返回值函数"></a> 有参数有返回值函数</h4><p>简单看了一下跟C差不多就不说了。</p><p>可以看看官方文档。</p><p><a href="https://learn.microsoft.com/zh-cn/training/modules/create-c-sharp-methods-return-values/1-introduction">Microsoft Learn链接</a></p><h3 id="题外话"><a class="markdownIt-Anchor" href="#题外话"></a> 题外话</h3><p>今天上午六点半起，七点集合，教官八点到。</p><p>有点无语。。。</p><p>天晴了拉到篮球场练习，最后评比的时候下雨了，淋着雨等所有班级过一遍动作。</p><p>过完动作天又晴了，最后留下了一身湿了的外套。</p><p>中午午睡时间挺正常，把外套晾一下应该下午就干了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#学习之路(day3)</title>
      <link href="/xinonria.github.io/posts/444c3be6/"/>
      <url>/xinonria.github.io/posts/444c3be6/</url>
      
        <content type="html"><![CDATA[<h2 id="题外话"><a class="markdownIt-Anchor" href="#题外话"></a> 题外话</h2><p>今天开始军训了，晚上也有安排，回到宿舍差不多九点半了。</p><p>少了好多时间刷题和学习。</p><p>今天的内容实际是在等教官来时用手机看的。</p><p>没有接上昨天的内容，因为不能做笔记。</p><p>本来今天内容可以把函数基本知识全写完的，命名参数啊什么的。</p><p>宿舍弄回来一个洗衣机，进水口接的水龙头炸了，只能手动加水，来来回回跑了四五趟。</p><p>明天又要六点半起床，今天就先到这里吧。</p><h2 id="正文"><a class="markdownIt-Anchor" href="#正文"></a> 正文</h2><h3 id="函数"><a class="markdownIt-Anchor" href="#函数"></a> 函数</h3><h4 id="函数声明"><a class="markdownIt-Anchor" href="#函数声明"></a> 函数声明</h4><p><code>void foo();</code></p><p>创建一个函数声明(Microsoft Learn里叫做方法签名)。</p><h4 id="无参数无返回值函数"><a class="markdownIt-Anchor" href="#无参数无返回值函数"></a> 无参数无返回值函数</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SayHello</span>()</span> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这就是函数定义，看上去跟<code>C</code>一样。</p><p><code>void</code>表示无返回值。</p><p><code>int</code>，<code>string</code>,<code>double</code>等都可与void替换，表示返回值的类型。</p><p>调用一个方法只需要直接输入就行了。</p><p><code>SayHello();</code></p><p>貌似使用大驼峰命名法。</p><h4 id="有参数无返回值函数"><a class="markdownIt-Anchor" href="#有参数无返回值函数"></a> 有参数无返回值函数</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SaySomething</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在圆括号内指出形参的类型和名字。</p><h5 id="按值传递和按引用传递的参数"><a class="markdownIt-Anchor" href="#按值传递和按引用传递的参数"></a> 按值传递和按引用传递的参数</h5><ul><li>将参数传递给某个方法时，值类型的变量会将其值复制到该方法中。 每个变量都有自己的值副本，因此不会修改原始变量。</li><li>使用引用类型时，会将值的地址传递到该方法中。 向该方法提供的变量会引用该地址中的值，因此对该变量的操作会影响另一个变量引用的值。</li></ul><p>一个赋值进去，一个是传地址进去。</p><p><img src="https://www.z4a.net/images/2023/09/08/image7dbdcb71885f9df4.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/08/image7dbdcb71885f9df4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>传值很常见，就是函数里随便造，离开函数还是那个值。</p><p>传地址这里给了一个样例。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] array = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">PrintArray(array);</span><br><span class="line">Clear(array);</span><br><span class="line">PrintArray(array);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintArray</span>(<span class="params"><span class="built_in">int</span>[] array</span>)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> a <span class="keyword">in</span> array) </span><br><span class="line">    &#123;</span><br><span class="line">        Console.Write(<span class="string">$&quot;<span class="subst">&#123;a&#125;</span> &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span>(<span class="params"><span class="built_in">int</span>[] array</span>)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Length; i++) </span><br><span class="line">    &#123;</span><br><span class="line">        array[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">output:</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>注意到<code>Clear()</code>函数中对array的操作对Array的内容发生了修改。</p><p>并不是创建了一个新数组array，把Array赋值过去，再在新数组里面把所有数设为0.</p><p>这也印证了前面说的<code>int[]</code>实际是一个指针。</p><p><img src="https://www.z4a.net/images/2023/09/08/imaged6c0ad6618772e3c.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/08/imaged6c0ad6618772e3c.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>函数内的形参能覆盖掉同名的别的函数里的参数。</p>]]></content>
      
      
      
        <tags>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#学习之路(day2)</title>
      <link href="/xinonria.github.io/posts/5d570aa7/"/>
      <url>/xinonria.github.io/posts/5d570aa7/</url>
      
        <content type="html"><![CDATA[<p>更深入学习了数据类型的相关知识</p><h3 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h3><p>可使用<code>int.MinValue</code>和<code>int.MaxValue</code>来获取<code>int</code>类型的数据范围。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">几种基础整型范围</span><br><span class="line">sbyte : -128 to 127</span><br><span class="line">short : -32768 to 32767</span><br><span class="line">int   : -2147483648 to 2147483647</span><br><span class="line">long  : -9223372036854775808 to 9223372036854775807</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">无符号整型范围</span><br><span class="line">byte     : 0 to 255</span><br><span class="line">ushort   : 0 to 65535</span><br><span class="line">uint     : 0 to 4294967295</span><br><span class="line">ulong    : 0 to 18446744073709551615</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">浮点数范围:</span><br><span class="line">float  : -3.402823E+38 to 3.402823E+38</span><br><span class="line">double : -1.79769313486232E+308 to 1.79769313486232E+308</span><br><span class="line">decimal: -79228162514264337593543950335 to 79228162514264337593543950335</span><br></pre></td></tr></table></figure><p><code>decimal</code>会比<code>double</code>占用更多的内存空间，但计算小数更精准，不会出现精度丢失，适合用于金融计算等应用。</p><blockquote><p>float 和 double 值在内部以二进制 (base 2) 格式存储，而 decimal 以十进制 (base 10) 格式存储。</p></blockquote><p><code>decimal</code>的底层实现方式后面再开个博文氵一下。</p><h3 id="引用类型"><a class="markdownIt-Anchor" href="#引用类型"></a> 引用类型</h3><p><img src="https://www.z4a.net/images/2023/09/07/imagebc1f89db6dcdf192.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/imagebc1f89db6dcdf192.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p><img src="https://www.z4a.net/images/2023/09/07/image3e4d928b24f1552f.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image3e4d928b24f1552f.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="个人理解"><a class="markdownIt-Anchor" href="#个人理解"></a> 个人理解</h4><p>也就是说<code>int[] data</code>只是创建了一个指针？它并没有指向任何存储有数据的内存空间。</p><p>后面的<code>new</code>才是分配一个存储空间，并且同时让<code>data</code>指向这个空间。</p><p>所以如果创建了一个空引用，它是没有大小的。</p><p><code>Console.Write(data.Length);</code> 会直接编译失败，因为它是空的，并不会返回0。</p><hr></hr><p><img src="https://www.z4a.net/images/2023/09/07/image56d85b1b0861d202.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image56d85b1b0861d202.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="个人理解-2"><a class="markdownIt-Anchor" href="#个人理解-2"></a> 个人理解</h4><p>实际上int[] data ={1,2,3}；也可以</p><p>可能也是系统开辟了一个存储{1,2,3}的内存空间，然后再让data指向它。</p><h3 id="类型转换"><a class="markdownIt-Anchor" href="#类型转换"></a> 类型转换</h3><h4 id="数字转成string"><a class="markdownIt-Anchor" href="#数字转成string"></a> 数字转成string</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">string</span> str = a.ToString();</span><br></pre></td></tr></table></figure><p>每个数据类型都有ToString()方法。</p><h4 id="string转成数字"><a class="markdownIt-Anchor" href="#string转成数字"></a> string转成数字</h4><h5 id="parse"><a class="markdownIt-Anchor" href="#parse"></a> Parse()</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str = <span class="string">&quot;5&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> num = <span class="built_in">int</span>.Parse(first);</span><br></pre></td></tr></table></figure><p>大部分数字数据类型都有<code>Parse()</code>方法。</p><p>比起<code>Parse()</code>更推荐使用<code>TryParse()</code>。</p><hr></hr><h5 id="tryparse"><a class="markdownIt-Anchor" href="#tryparse"></a> TryParse()</h5><p><code>TryParse()</code>可同时执行多项操作</p><ul><li>它会尝试将字符串分析成给定的数字数据类型</li><li>如果成功，它会将转换后的值存储在out参数中</li><li>它将返回<code>bool</code>，指示操作是成功还是失败</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> legalValue = <span class="string">&quot;520&quot;</span>;</span><br><span class="line"><span class="built_in">string</span> illegalValue = <span class="string">&quot;52Y&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">int</span>.TryParse(legalValue, <span class="keyword">out</span> result))</span><br><span class="line">&#123;</span><br><span class="line">  Console.WriteLine(<span class="string">$&quot;转换成功！值为<span class="subst">&#123;result&#125;</span>，类型为<span class="subst">&#123;result.GetType()&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> Console.WriteLine(<span class="string">&quot;转换失败！&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">int</span>.TryParse(illegalValue, <span class="keyword">out</span> result))</span><br><span class="line">&#123;</span><br><span class="line">  Console.WriteLine(<span class="string">$&quot;转换成功！值为<span class="subst">&#123;result&#125;</span>，类型为<span class="subst">&#123;result.GetType()&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> Console.WriteLine(<span class="string">&quot;转换失败！&quot;</span>);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">output:</span><br><span class="line">转换成功！值为<span class="number">520</span>，类型为System.Int32</span><br><span class="line">转换失败！</span><br></pre></td></tr></table></figure><hr></hr><h5 id="covert类"><a class="markdownIt-Anchor" href="#covert类"></a> Covert类</h5><p>还可以使用<code>Convert</code>类中的方法将<code>string</code>转成<code>int</code>。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> value1 = <span class="string">&quot;5&quot;</span>;</span><br><span class="line"><span class="built_in">int</span> res = Convert.ToInt32(value1);</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/09/07/image43d379036485af12.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image43d379036485af12.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="强制类型转换"><a class="markdownIt-Anchor" href="#强制类型转换"></a> 强制类型转换</h4><p>在需要转换的变量前用括号把目的类型标记一下（跟C一样）。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">double</span> xFloat = <span class="number">1.2</span>;</span><br><span class="line"><span class="built_in">int</span> xInt = (<span class="built_in">int</span>)xFloat;</span><br></pre></td></tr></table></figure><p><img src="https://www.z4a.net/images/2023/09/07/image22c27ce33af08256.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image22c27ce33af08256.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3><h4 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h4><p><code>Array.Sort(pallets)</code></p><p>底层实现发现用了叫<code>IntrospectiveSort</code>(内省排序)的排序方法。</p><p>特点：</p><ul><li>如果划分的大小小于16个元素，对该划分使用插入排序</li><li>如果划分的大小超过2LogN， N是数组长度，那么就使用堆排序</li><li>如果划分的大小介于两者之间，则在该划分上继续使用快速排序</li></ul><p>避免了数据量小时用快排杀鸡用牛刀，数据量大时快排递归层数深，最坏情况时间复杂度会到<code>O(n^2)</code></p><p>(找个时间手搓实现一遍</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] pallets = &#123; <span class="string">&quot;B14&quot;</span>, <span class="string">&quot;A11&quot;</span>, <span class="string">&quot;B12&quot;</span>, <span class="string">&quot;A13&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;已排序...&quot;</span>);</span><br><span class="line">Array.Sort(pallets);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> pallet <span class="keyword">in</span> pallets)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;-- <span class="subst">&#123;pallet&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">output:</span><br><span class="line">已排序...</span><br><span class="line">-- A11</span><br><span class="line">-- A13</span><br><span class="line">-- B12</span><br><span class="line">-- B14</span><br></pre></td></tr></table></figure><h4 id="反转"><a class="markdownIt-Anchor" href="#反转"></a> 反转</h4><p><s>反转来了</s></p><p><code>Array.Reverse(pallets)</code></p><p>反转数组中的元素。</p><h4 id="删除"><a class="markdownIt-Anchor" href="#删除"></a> 删除</h4><p><code>Array.Clear(pallets, 0, 2);</code></p><p>表示删除从索引0开始的两个元素。</p><p>删除并不是释放内存空间，而是把这块区域标成null，此时pallets[0]仍然能正常访问。</p><hr></hr><p><img src="https://www.z4a.net/images/2023/09/07/image7b2cd1ddf1b28835.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image7b2cd1ddf1b28835.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>sad，这样不是很损失性能？可能List能删除元素吧？</p><h4 id="调整大小"><a class="markdownIt-Anchor" href="#调整大小"></a> 调整大小</h4><p><code>Array.Resize(ref pallets, 6);</code></p><p>将数组大小调整至6个元素。</p><blockquote><p>此时将调过引用（使用ref关字）传入<code>pallets</code>数组的<code>Resize()</code>方法。在某些情况下，方法会要求按值（默认）或按引用（使ref关字）来传递参数。要解释此操作的必要性，需花时间详细阐释.NET中对象的管理方式。很遗憾，这超出了本模块的范围。如果有疑问，建议查看<code>Intellisense</code>或<code>MicrosoftDocs</code>，获取有关如何正确调用给定方法的示例。</p></blockquote><p>呃呃，还要我自己去查<code>ref</code>什么意思。</p><p>传入引用？是我理解的那个C++的引用吗？</p>]]></content>
      
      
      
        <tags>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2至36进制的高精度加法</title>
      <link href="/xinonria.github.io/posts/28b6a9c8/"/>
      <url>/xinonria.github.io/posts/28b6a9c8/</url>
      
        <content type="html"><![CDATA[<h3 id="原题"><a class="markdownIt-Anchor" href="#原题"></a> 原题</h3><p>今天第一次刷CodeForces，随便找了个题。</p><p><a href="https://codeforces.com/problemset/problem/162/G">原题链接</a></p><p><img src="https://www.z4a.net/images/2023/09/07/image.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>要求实现2到36进制的累加，输出与输入进制相同。</p><p>第一行输入数字个数n</p><p>第二行输入进制。</p><p>后面n行输入累加的数字。</p><h3 id="思考"><a class="markdownIt-Anchor" href="#思考"></a> 思考</h3><p>这道题核心是实现两个数任意进制的加法。</p><p>因为带有字母，所以用<code>string</code>存储数字是个不错选择。</p><p>既然都用<code>string</code>存储了，干脆用高精度加法的思路做题吧。</p><p>假设我们要将<code>a</code>和<code>b</code>相加。</p><p>首先将<code>a</code>和<code>b</code>倒序存储，方便进位。</p><p>然后判断<code>a</code>和<code>b</code>哪个长度较短，避免越界。</p><p>每一位都转换为数字加在一起，看需不需要进位。</p><p>如果需要进位用flag标记一下。</p><p>因为加法中进位只可能进1位，所以flag可以是bool节省一点点空间。</p><p>具体见注释吧。</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string baseChar = <span class="string">&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;  <span class="comment">//便于将数字直接转成进制的字符</span></span><br><span class="line"><span class="type">int</span> base;  <span class="comment">//进制</span></span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">addString</span><span class="params">(string a, string b)</span>  <span class="comment">//高精度加法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string res;</span><br><span class="line"><span class="type">int</span> alen = a.<span class="built_in">size</span>(), blen = b.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">if</span> (alen &gt; blen) <span class="built_in">swap</span>(a, b), <span class="built_in">swap</span>(alen, blen);  <span class="comment">//保证a长度一定小于b</span></span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> sum;</span><br><span class="line"><span class="type">int</span> numa, numb;</span><br><span class="line"><span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span> (i != alen) &#123;  <span class="comment">//先一直操作直到a的末尾</span></span><br><span class="line"><span class="comment">//将a,b对应位上的数字或字符转成数字</span></span><br><span class="line">    numa = <span class="built_in">isalpha</span>(a[i]) ? a[i] - <span class="string">&#x27;A&#x27;</span> + <span class="number">10</span> : a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">numb = <span class="built_in">isalpha</span>(b[i]) ? b[i] - <span class="string">&#x27;A&#x27;</span> + <span class="number">10</span> : b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="comment">//sum存储当前位相加结果</span></span><br><span class="line">sum = numa + numb + flag;</span><br><span class="line">    <span class="comment">//进位结束了，恢复flag状态</span></span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line">res.<span class="built_in">push_back</span>(baseChar[sum % base]);  <span class="comment">//将结果存进res中</span></span><br><span class="line"><span class="keyword">if</span> (sum &gt;= base) &#123; <span class="comment">//需要进位</span></span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">++i;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//把剩下b的数字加进去</span></span><br><span class="line"><span class="keyword">while</span> (i != blen) &#123;</span><br><span class="line">numb = <span class="built_in">isalpha</span>(b[i]) ? b[i] - <span class="string">&#x27;A&#x27;</span> + <span class="number">10</span> : b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="comment">//记得处理可能出现的进位</span></span><br><span class="line">sum = numb + flag;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line">res.<span class="built_in">push_back</span>(baseChar[sum % base]);</span><br><span class="line"><span class="keyword">if</span> (sum &gt;= base) flag = <span class="literal">true</span>;</span><br><span class="line">++i;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//b也结束了，但还需要进一位的话就进</span></span><br><span class="line"><span class="keyword">if</span> (flag) res.<span class="built_in">push_back</span>(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">addFunc</span><span class="params">(vector&lt;string&gt;&amp; a)</span>  <span class="comment">//实现累加</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string res = a[<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> len = a.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">res = <span class="built_in">addString</span>(res, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">reverse</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());   <span class="comment">//res是倒序的，反转一下</span></span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);  <span class="comment">//关闭流同步大大提高cin效率</span></span><br><span class="line"><span class="type">int</span> w;</span><br><span class="line">  cin &gt;&gt; w;</span><br><span class="line">cin &gt;&gt; base;</span><br><span class="line">string str;</span><br><span class="line">vector&lt;string&gt; a;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (w--) &#123;</span><br><span class="line">cin &gt;&gt; str;</span><br><span class="line"><span class="type">int</span> len = str.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">while</span> (i &lt; len &amp;&amp; str[i] == <span class="string">&#x27;0&#x27;</span>) ++i;  <span class="comment">//删去前导零</span></span><br><span class="line"><span class="keyword">if</span> (i) str.<span class="built_in">substr</span>(i);</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">reverse</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>());  <span class="comment">//倒序存储</span></span><br><span class="line">a.<span class="built_in">push_back</span>(str);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="built_in">addFunc</span>(a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="最后"><a class="markdownIt-Anchor" href="#最后"></a> 最后</h3><p>感觉<code>string</code>在函数间拷贝来拷贝去的有点占用时间，还能继续优化一下。</p><p>不懂语言Factor是什么，最后没能提交上去，没测试能不能AC。</p><p><img src="https://www.z4a.net/images/2023/09/07/image208587a89247f0aa.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/07/image208587a89247f0aa.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p>]]></content>
      
      
      
        <tags>
            
            <tag> 高精度 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#学习之路(day1)</title>
      <link href="/xinonria.github.io/posts/767a5964/"/>
      <url>/xinonria.github.io/posts/767a5964/</url>
      
        <content type="html"><![CDATA[<p>在Windows下使用.Net做窗口应用比较方便。所以打算开始学一学C#。</p><h3 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h3><p>C#有以下几种简单数据类型:</p><ol><li>有符号整型:<code>sbyte</code>,<code>short</code>,<code>int</code>,<code>long</code></li><li>无符号整型:<code>byte</code>,<code>ushort</code>,<code>uint</code>,<code>ulong</code> (前面的u可能是unsigned的缩写吧</li><li>Unicode字符:<code>char</code> (官方文档说表示UTF-16代码单元)</li><li>IEEE二进制浮点:<code>float</code>,<code>double</code> (哈哈还真有跟JS一样的精度丢失bug (经典0.1 + 0.2 != 0.3))</li><li>高精度十进制浮点数：<code>decimal</code> (范围比double略小，精度高，而且0.1+0.2==0.3了科科。<strong>赋值时要注意是0.1m,0.2m后面要带m,否则就是double了</strong>)</li><li>布尔值: <code>bool</code></li></ol><p>C++里的<code>auto</code>跟C#的<code>var</code>对应，智能类型推断，需要初始化。</p><h3 id="判断"><a class="markdownIt-Anchor" href="#判断"></a> 判断</h3><p>跟C一样的if语句</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (表达式) &#123;&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;&#125;</span><br></pre></td></tr></table></figure><p>逻辑预算符也是<code>&amp;&amp;</code>,<code>||</code>,<code>!</code>。(与或非)</p><p>三元运算符也有。</p><p><code>a = a &gt; b? a : b;</code></p><p>翻译：a等于什么？来看一下，a&gt;b吗？大于的话就是<code>a=a</code>，否则就是<code>a=b</code>。</p><h3 id="循环"><a class="markdownIt-Anchor" href="#循环"></a> 循环</h3><p><code>while(表达式) &#123;&#125;</code></p><p>满足条件就循环。</p><p><code>do &#123;&#125;while(表达式);</code></p><p>先做一次看满不满足条件，满足就循环。</p><p><code>for(int i = 0; i &lt;= n; i++)</code></p><p>for语句没变化</p><p><code>foreach(var num : nums)</code></p><p><s>这个跟C++的<code>for(auto num : nums)</code>一样用法，枚举列表中每个元素。</s><br />2023/9/8更正，不能对num进行赋值操作，不能修改，只能读取。</p><blockquote><p>不能重新分配 num 的值，因为它是 foreach 迭代的内部实现的一部分。</p></blockquote><h3 id="控制台输出"><a class="markdownIt-Anchor" href="#控制台输出"></a> 控制台输出</h3><p><code>Console.Write()</code></p><p>输出内容</p><p><code>Console.WriteLine()</code></p><p>输出内容，会在末尾加个换行符<code>\n</code>。</p><h3 id="ps"><a class="markdownIt-Anchor" href="#ps"></a> PS</h3><p>Visual Stdio 2022对C#的intelligence code真是绝绝子，好用到翘jiojio。</p><p><img src="https://www.z4a.net/images/2023/09/06/image5dd563d71f93bc69.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/06/image5dd563d71f93bc69.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>按一下tab就补全了，写简单示例题的时候疯狂tab。</p>]]></content>
      
      
      
        <tags>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>支持负数的16进制转换</title>
      <link href="/xinonria.github.io/posts/e739bea5/"/>
      <url>/xinonria.github.io/posts/e739bea5/</url>
      
        <content type="html"><![CDATA[<h3 id="原题"><a class="markdownIt-Anchor" href="#原题"></a> 原题</h3><p>给定一个整数，编写一个算法将这个数转换为十六进制数。对于负整数，我们通常使用 补码运算 方法。</p><p>注意:</p><ol><li>十六进制中所有字母(a-f)都必须是小写。</li><li>十六进制字符串中不能包含多余的前导零。如果要转化的数为0，那么以单个字符’0’来表示；对于其他情况，十六进制字符串中的第一个字符将不会是0字符。</li><li>给定的数确保在32位有符号整数范围内。</li><li>不能使用任何由库提供的将数字直接转换或格式化为十六进制的方法。</li></ol><p><a href="https://leetcode.cn/problems/convert-a-number-to-hexadecimal/description/">原题链接</a></p><p><img src="https://www.z4a.net/images/2023/09/05/image4d5a0c86dc00d496.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/09/05/image4d5a0c86dc00d496.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h3 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h3><p>非负整数的进制转换是一道简单的循环题，取模再自除就可以完成了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">toHex</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!num) <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">string res;</span><br><span class="line"><span class="type">char</span> c;</span><br><span class="line"><span class="keyword">while</span> (num) &#123;</span><br><span class="line"><span class="type">int</span> temp = num % <span class="number">16</span>;</span><br><span class="line"><span class="keyword">if</span> (temp &gt;= <span class="number">10</span>) c = <span class="built_in">char</span>(temp - <span class="number">10</span> + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"><span class="keyword">else</span> c = <span class="built_in">char</span>(temp + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">res = c + res;</span><br><span class="line">num /= <span class="number">16</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="位操作"><a class="markdownIt-Anchor" href="#位操作"></a> 位操作</h4><p>但这个代码并不支持负数的转换。</p><p>注意到题目说明</p><blockquote><p><strong>对于负整数，我们通常使用 补码运算 方法。</strong></p></blockquote><p>补码运算的相关知识见之前的文章。<a href="https://xinonria.top/2023/08/23/%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%8B%E7%9A%84%E8%B4%9F%E6%95%B0/">二进制下的负数</a></p><p>既然计算机中都是用二进制存储的，负数的二进制已经是补码形式了，我们就不需要考虑负数怎么转换了，跟正数二进制转十六进制一样。</p><p>那我们可以直接操纵二进制来实现进制转换。</p><h5 id="二进制与十六进制"><a class="markdownIt-Anchor" href="#二进制与十六进制"></a> 二进制与十六进制</h5><p>注意到二进制每四个数位对应十六进制的一个数位。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BIN(1011 1100 0100)</span><br><span class="line">HEX(BC4)</span><br></pre></td></tr></table></figure><p>来看二进制最前面的四位，<code>1011</code>的十进制表示为11，这不就跟十六进制最前面的<code>B</code>对上了嘛。</p><p>同理，<code>1100</code>十进制是12，也就是十六进制的<code>C</code>。</p><p><code>0100</code>十进制为4，十六进制也是4。</p><p>如此方便转换，这也是为什么计算机中许多数据可以用16进制来显示（例如内存地址）。</p><hr></hr><p>ok,现在我们有大概的思路了。</p><p>通过位操作每次提取二进制中的四位，然后看它们对应十六进制是什么，加上就行了。</p><p>如何提取末四位呢？可以用位与操作<code>&amp;</code>，将要提取的数<code>&amp; 0xf</code>。（0xf也就是0b1111）</p><p>核心伪代码:</p><p><code>for (i=7-&gt;0)</code><br /><code>val = (num &gt;&gt; (i * 4)) &amp; 0xf;</code></p><p>第一句的i从7到0，是因为题目条件保证数据范围在32位整数里，也就是有8组4位二进制。</p><p>第二句每次将<code>num</code>移动4的倍数位，最开始移动28位，得到的就是<code>num</code>最高的四位。</p><p>依次移动来获得从最高四位到末尾四位。</p><p>数据并不能占满前面几位怎么办，题目要求没有前导零。</p><p>所以要加个判断，当遇到非零数后才开始往字符串加内容。</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">toHex</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!num) <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">int</span> val;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">7</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">val = (num &gt;&gt; (i * <span class="number">4</span>)) &amp; <span class="number">0xf</span>;</span><br><span class="line"><span class="keyword">if</span> (!val &amp;&amp; !res.<span class="built_in">size</span>()) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span> (val &gt;= <span class="number">10</span>) res.<span class="built_in">push_back</span>(<span class="built_in">char</span>(val - <span class="number">10</span> + <span class="string">&#x27;a&#x27;</span>));</span><br><span class="line"><span class="keyword">else</span> res.<span class="built_in">push_back</span>(<span class="built_in">char</span>(val + <span class="string">&#x27;0&#x27;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 位操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>快速幂</title>
      <link href="/xinonria.github.io/posts/20c47d09/"/>
      <url>/xinonria.github.io/posts/20c47d09/</url>
      
        <content type="html"><![CDATA[<p>昨天来大学报道了，很期待将来的学习生活。</p><p>在刷学校OJ新生题时刷到几题要用幂运算（虽然都是二次幂三次幂），正好复习一下快速幂这个算法。</p><h3 id="朴素做法"><a class="markdownIt-Anchor" href="#朴素做法"></a> 朴素做法</h3><p>按照定义，要多少次幂就乘以多少次数字呗。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">myPow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) ans *= n;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="递归做法"><a class="markdownIt-Anchor" href="#递归做法"></a> 递归做法</h3><p>很容易能发现，有些中间步骤其实我们已经计算过了，就不需要再计算了。</p><p>例如:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">2^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> 可以被拆成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>∗</mo><msup><mn>2</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">2^3 * 2^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mtext>可以拆成</mtext><msup><mn>2</mn><mn>2</mn></msup><mo>∗</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2^3可以拆成2^2 * 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">可</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">拆</span><span class="mord cjk_fallback">成</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>可以拆成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∗</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2 * 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。</p><p>这样只需要计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">2^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>的值是多少就行了。</p><p>不再需要乘以6下才能得到结果。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">myPow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!n) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (n &amp; <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">myPow</span>(x, n - <span class="number">1</span>) * x;</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> temp = <span class="built_in">myPow</span>(x, n / <span class="number">2</span>); <span class="comment">//定义temp减少计算次数</span></span><br><span class="line">  <span class="keyword">return</span> temp * temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="循环做法"><a class="markdownIt-Anchor" href="#循环做法"></a> 循环做法</h3><p>递归的话会占用额外的栈空间，还可以优化一下不使用递归来进行操作。</p><p>这又涉及到一点点二进制的知识了。</p><p>例如：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">2^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>把它的指数用二进制表示就是<code>BIN(1010)</code>。</p><p>所以可以把<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>B</mi><mi>I</mi><mi>N</mi><mo stretchy="false">(</mo><mn>1010</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">2^{BIN(1010)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>变成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>B</mi><mi>I</mi><mi>N</mi><mo stretchy="false">(</mo><mn>1000</mn><mo stretchy="false">)</mo></mrow></msup><mo>∗</mo><msup><mn>2</mn><mrow><mi>B</mi><mi>I</mi><mi>N</mi><mo stretchy="false">(</mo><mn>10</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">2^{BIN(1000)} * 2^{BIN(10)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>。</p><p>这样就可以大大节省运算次数了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">myPow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> ans = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (n) &#123;</span><br><span class="line"><span class="keyword">if</span> (n &amp; <span class="number">1</span>) ans *= x;  <span class="comment">//遇到1了，把当前结果乘进ans里</span></span><br><span class="line">x *= x;</span><br><span class="line">n &gt;&gt;= <span class="number">1</span>;  <span class="comment">//n的二进制右移一位</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数一数二进制1个数</title>
      <link href="/xinonria.github.io/posts/8e7648ef/"/>
      <url>/xinonria.github.io/posts/8e7648ef/</url>
      
        <content type="html"><![CDATA[<p>最近隔了几天没更新博客，因为最近刷的题觉得没什么价值写。</p><p>不过好在今天遇到一道题，动态规划与二进制特征结合在一起特别妙。</p><h3 id="原题"><a class="markdownIt-Anchor" href="#原题"></a> 原题</h3><p>给你一个整数 n ，对于 0 &lt;= i &lt;= n 中的每个 i ，计算其二进制表示中 1 的个数 ，返回一个长度为 n + 1 的数组 ans 作为答案。</p><p><img src="https://www.z4a.net/images/2023/08/28/imagec4bc173a73cc3838.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/28/imagec4bc173a73cc3838.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p><a href="https://leetcode.cn/problems/counting-bits/description/">原题链接</a></p><h3 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h3><p>最简单的想法就是一个个数字数过去。</p><p>因为要多次调用数二进制1个数这个功能，所以封装一个函数用来操作。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">countEveryBits</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (n)</span><br><span class="line">  &#123;</span><br><span class="line">    cnt += n % <span class="number">2</span>;</span><br><span class="line">    n /= <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>进阶一点，我们这个函数对一个数的每个二进制位都判断一下。</p><p>有没有什么办法可以不管0，只提取其中的1呢？</p><h4 id="brian-kernighan-算法"><a class="markdownIt-Anchor" href="#brian-kernighan-算法"></a> Brian Kernighan 算法</h4><blockquote><p>Brian Kernighan 算法的原理是：对于任意整数x，令 <code>x = x &amp; (x−1)</code>，该运算将 <code>x</code> 的二进制表示的最后一个<code>1</code>变成<code>0</code>。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">countEveryBits</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (n)</span><br><span class="line">  &#123;</span><br><span class="line">    n &amp;= (n - <span class="number">1</span>);</span><br><span class="line">    ++cnt;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体原理可以读者自己手算操作一下。</p><p>这样能显著将时间复杂度降下来。</p><p><strong>but</strong> 这样还是不够。</p><p>每个数都走一遍这个函数有点太麻烦了。</p><p>我们可以根据二进制的规则来根据前面数中1的个数来快速判断当前数1的个数吗？</p><h4 id="二进制特征"><a class="markdownIt-Anchor" href="#二进制特征"></a> 二进制特征</h4><ul><li>奇数的最后一位绝对是1。</li><li>偶数的最后一位绝对是0。</li><li>奇数中1的个数等于前一个数中1的个数+1。（因为前一个是偶数）</li><li>偶数除以2，相当于将二进制位向右移一位。</li></ul><p>如此，我们就可以写出动态规划的规则了。</p><ol><li>初始状态数字0中1的个数是0。</li><li>如果是奇数，那么它二进制中1的个数就是前一个数+1</li><li>如果是偶数，那么它二进制中1的个数等于它除以2对应的数中1的个数。（例如6与3中1的个数相同，8与4中1的个数相同）</li></ol><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">countBits</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">res[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (i &amp; <span class="number">1</span>) res[i] = res[i - <span class="number">1</span>] + <span class="number">1</span>;   <span class="comment">//i &amp; 1（如果i是奇数就是true，反之为false）</span></span><br><span class="line"><span class="keyword">else</span> res[i] = res[i / <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 二进制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>异或交换整数</title>
      <link href="/xinonria.github.io/posts/b6a7a59/"/>
      <url>/xinonria.github.io/posts/b6a7a59/</url>
      
        <content type="html"><![CDATA[<h3 id="正常操作"><a class="markdownIt-Anchor" href="#正常操作"></a> 正常操作</h3><p>正常交换两个整数我们需要创建一个临时变量。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> temp;</span><br><span class="line">temp = b;</span><br><span class="line">b = a;</span><br><span class="line">a = temp;</span><br></pre></td></tr></table></figure><p>temp变量用于保存b的值，避免被覆盖，最后赋值给a。</p><h3 id="异或操作"><a class="markdownIt-Anchor" href="#异或操作"></a> 异或操作</h3><p>但通过异或操作，我们可以不需要创建额外的临时变量来交换两个整数。</p><p>异或操作见<a href="https://xinonria.top/2023/08/16/%E5%BC%82%E6%88%96%E7%9A%84%E5%A6%99%E7%94%A8/">原文链接</a></p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line">a = a ^ b;</span><br><span class="line">b = a ^ b;</span><br><span class="line">a = a ^ b;</span><br></pre></td></tr></table></figure><h4 id="过程分析"><a class="markdownIt-Anchor" href="#过程分析"></a> 过程分析</h4><hr></hr><p>第一步: <code>a = a ^ b;</code></p><p>完成后<code>a</code>变成<code>a ^ b</code>（1 ^ 2）。</p><hr></hr><p>第二步: <code>b = a ^ b;</code></p><p>此时的<code>a</code>存储的数据是<code>a ^ b</code>（1 ^ 2）。所以<code>b</code>就是<code>b = (a ^ b) ^ b</code> (b = (1 ^ 2) ^ 2)。</p><p>异或操作下，相同的数异或会变成<code>0</code>。根据结合律<code>b = a ^ (b ^ b)</code>（b = 1 ^ (2 ^ 2)）。所以会变成<code>b = a ^ 0</code> (b = 1 ^ 0)。</p><p>零跟别的数异或会变成那个数。所以最后<code>b = a</code>(b = 1)。</p><p>这不是和正常操作一样嘛？有什么区别呢？</p><p>注意此时我们的<code>a</code>存储的数据是<code>a ^ b</code> （1 ^ 2）。</p><p><code>b</code>变量虽然被覆盖掉了，但它仍有一部分存储在<code>a</code>里面。</p><hr></hr><p>第三步: <code>a = a ^ b</code></p><p>跟第二部一样，实际是<code>a = (a ^ b) ^ b</code>。<strong>此时括号外的这个b值为1！</strong>（a = (1 ^ 2) ^ 1）。</p><p>结合律一下。（a = (1 ^ 1) ^ 2）。</p><p>最终<code>a = 2， b = 1</code>。</p><p>我们成功地不使用额外变量交换了两个数！</p><p>通过异或的操作，让b变量被覆盖后仍然留有一部分灵魂在a里。所以才能成功交换。</p><blockquote><p>本文参考自<a href="https://blog.csdn.net/Mikchy/article/details/90348201">CSDN</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 位操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二进制下的负数</title>
      <link href="/xinonria.github.io/posts/71b459b6/"/>
      <url>/xinonria.github.io/posts/71b459b6/</url>
      
        <content type="html"><![CDATA[<p><em><strong>看上去越基础的题，背后越有大道理。</strong></em></p><h3 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h3><p>日常刷Leetcode题遇到一个很基础的题目。</p><p><a href="https://leetcode.cn/problems/power-of-two/description/">原题链接</a></p><p>给你一个整数 n，请你判断该整数是否是 2 的幂次方。如果是，返回 true ；否则，返回 false 。</p><p><img src="https://www.z4a.net/images/2023/08/23/image8e319c860123ebd5.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/23/image8e319c860123ebd5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p><strong>进阶：你能够不使用循环/递归解决此问题吗？</strong></p><h3 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h3><p>正常想法就是一直mod 2和除以2判断是否是2的幂次方。</p><p>但看到这个进阶，Easy题必要达到好吗。</p><p>题目跟2的幂次方有关，计算机又是以2进制存储数据的。</p><p>这可能跟位操作有关，怎么一步到位呢？</p><p>分析一下2的幂次方的二进制。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DEC(2) = BIN(10)</span><br><span class="line">DEC(4) = BIN(100)</span><br><span class="line">DEC(8) = BIN(1000)</span><br></pre></td></tr></table></figure><p>可以发现2的次幂二进制都是只有最高位是1，其他全是0的特征。</p><p>有什么办法通过位操作来直接检测这样特征的数呢？</p><p>介绍一下补码。</p><h4 id="补码"><a class="markdownIt-Anchor" href="#补码"></a> 补码</h4><p>一般计算机使用补码来存储负整数。</p><p>我们都知道<code>int</code>的数据范围是[-2,147,483,647, 2,147,483,647]</p><p>正好是-2<sup>31-1和2</sup>31-1。</p><p>为什么要减一呢？</p><p>因为二进制的最高位要存储符号。</p><p><img src="https://www.z4a.net/images/2023/08/23/image12e45ac7f1816620.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/23/image12e45ac7f1816620.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>如图，最高位0表示正数。</p><p>负数的最高位就是1。</p><p>既然能表达负数，那么减法可以转变为加上负数。</p><p><code>a - b = a + (-b)</code></p><p>如何保证直接转换为的负数与正数相加和正常相减一个效果呢？</p><p>直接把最高位换成1肯定是不行的。</p><p>至少要满足一个正数加自己的负数等于0吧。</p><p>这时补码就出现了。</p><blockquote><p>求负整数的补码，将其原码除符号位外的所有位取反（0变1，1变0，符号位为1不变）后加1</p></blockquote><p>这样做有什么效果，我们来看看。</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> DEX(7) = BIN(0111)</span><br><span class="line">//7的二进制符号位变成1 -&gt; 1111</span><br><span class="line">//除符号位取反 -&gt; 1000</span><br><span class="line">//加一 -&gt; 1001</span><br><span class="line"> DEX(-7) = BIN(1001)  </span><br><span class="line"> DEX(7) + DEX(-7) = BIN(0111) + BIN(1001) = 0</span><br></pre></td></tr></table></figure><p>补码神奇吧！</p><p>这样就可以将任意的减法操作转换为加法了。</p> <hr></hr><p>那么这个补码对这道题来说有什么作用呢？</p><h3 id="思路-2"><a class="markdownIt-Anchor" href="#思路-2"></a> 思路</h3><blockquote><p>一个正整数&amp;(位与)自己的负数，得到最低位的1</p></blockquote><p>例如</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">例一：</span><br><span class="line">DEX(12)  = BIN(01100)</span><br><span class="line">DEX(-12) = BIN(10100)</span><br><span class="line">DEX(12) &amp; DEX(-12) = BIN(01100) &amp; BIN(10100) = BIN(00100)</span><br><span class="line">//12最低位的1在从左往右数第三个位置，所以操作后结果是100</span><br><span class="line"></span><br><span class="line">例二：</span><br><span class="line">DEX(56)  = BIN(0111000)</span><br><span class="line">DEX(-56) = BIN(1001000)</span><br><span class="line">DEX(56) &amp; DEX(-56) = BIN(0111000) &amp; BIN(1001000) = BIN(0001000)</span><br><span class="line">//56最低位的1在从左往右数第四个位置，所以操作后结果是1000</span><br><span class="line"></span><br><span class="line">例三：</span><br><span class="line">DEX(8)  = BIN(01000)</span><br><span class="line">DEX(-8) = BIN(11000)</span><br><span class="line">DEX(8) &amp; DEX(-8) = BIN(01000) &amp; BIN(11000) = BIN(01000) = DEX(8)</span><br></pre></td></tr></table></figure><p>根据前面的分析，我们知道2的次幂二进制都是<code>10</code>，<code>100</code>，<code>1000</code>这样子的。</p><p>所以我们直接把它跟自己负数进行与操作，如果结果还是原来的数就说明这是2的次幂。(见例三)</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isPowerOfTwo</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (-n)) == n;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++中的哈希表</title>
      <link href="/xinonria.github.io/posts/a381a14a/"/>
      <url>/xinonria.github.io/posts/a381a14a/</url>
      
        <content type="html"><![CDATA[<p>最近刷题经常使用到哈希表。</p><h3 id="哈希表"><a class="markdownIt-Anchor" href="#哈希表"></a> 哈希表</h3><p>官方定义:</p><blockquote><p>哈希表是根据关键码的值而直接进行访问的数据结构。</p></blockquote><p>数组其实就是一张最基础的哈希表。</p><p>它的下标数字作为键(key)对应一个值(value)。</p><p>比如:</p><p><code>a[key] = value;</code></p><p>键不能相同，但值可以相同。</p><p>哈希表可以用来快速检索一个元素。</p><p>比如我们拿学生的名字作为键(key)，ta所在的宿舍作为值(key)。</p><p>我们要查询一个学生在哪个宿舍，只需要，</p><p><code>dormitory = student[name]</code></p><p>但是数组的下标访问本质是编程语言的一个语法糖。(详情见<a href="https://xinonria.top/2023/08/21/%E6%95%B0%E7%BB%84%E4%B8%8E%E6%8C%87%E9%92%88/">数组与指针</a>)</p><p>而<code>name</code>大部分情况下并不是数字。</p><p>所以我们需要一个哈希函数，能够把任意信息变成一串数字。</p><p>例如:</p><p><strong>小李</strong> ----&gt; <code>0</code><br /><strong>小王</strong> ----&gt; <code>1</code><br /><strong>小张</strong> ----&gt; <code>2</code><br />……</p><p>然后再直接操纵下标就能读取数据了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存储数据</span></span><br><span class="line">student[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;c1&quot;</span>;</span><br><span class="line"><span class="comment">// 读取数据</span></span><br><span class="line">cout &lt;&lt; student[<span class="string">&quot;小李];</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">-----</span></span><br><span class="line"><span class="string">output:</span></span><br><span class="line"><span class="string">c1</span></span><br></pre></td></tr></table></figure><p>但数字是有一定范围的，由于是从无穷集映射到有限集。</p><p>所以有可能会出现不同的键映射到同一个索引。</p><p>这就是哈希碰撞。</p><h3 id="哈希碰撞"><a class="markdownIt-Anchor" href="#哈希碰撞"></a> 哈希碰撞</h3><p>有两种方法解决这个问题。</p><h4 id="拉链法"><a class="markdownIt-Anchor" href="#拉链法"></a> 拉链法</h4><p>如果发生了哈希碰撞，可以将冲突的数据用链表连起来。</p><p>这样就可以通过遍历来找出冲突的值。</p><p>不过这样查找性能可能会产生损耗。</p><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235015226.png" class="lazyload" data-srcset="https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235015226.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="线性探测法"><a class="markdownIt-Anchor" href="#线性探测法"></a> 线性探测法</h4><p>如果发生哈希碰撞，将冲突的数据移去空位就行了。</p><p>这样在插入数据时会产生性能损耗。</p><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235109950.png" class="lazyload" data-srcset="https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235109950.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h3 id="c中的哈希表"><a class="markdownIt-Anchor" href="#c中的哈希表"></a> C++中的哈希表</h3><p>C++的STL标准模版库中的unordered_map就是哈希表。</p><p><s>map是基于红黑树实现的</s></p><h4 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h4><p><code>unordered_map&lt;string, string&gt; umap;</code></p><h4 id="修改"><a class="markdownIt-Anchor" href="#修改"></a> 修改</h4><p><code>umap[key] = value</code></p><p>如果key不存在会创建一个。</p><h4 id="查找"><a class="markdownIt-Anchor" href="#查找"></a> 查找</h4><p><code>umap[key]</code></p><p>直接访问key对应的value值。</p><p><code>umap.find(key)</code></p><p>返回指向符合要求key的迭代器，若未找到会返回<code>umap.end()</code>。</p><p><code>umap.count(key)</code></p><p>返回umap中对应key值的个数，返回1或0。常用于判断哈希表内是否存在某个key。</p><p><code>umap.empty()</code></p><p>如果哈希表为空返回<code>true</code>，反之为<code>false</code>。</p><h4 id="删除"><a class="markdownIt-Anchor" href="#删除"></a> 删除</h4><p><code>umap.erase(key)</code></p><p>移除指定位置处的元素。</p><p><code>umap.clear()</code></p><p>删除所有元素。</p><h4 id="迭代器"><a class="markdownIt-Anchor" href="#迭代器"></a> 迭代器</h4><p><code>it-&gt;first</code></p><p>it指向的键。</p><p><code>it-&gt;second</code></p><p>it指向的值。</p><p><strong>注意，若想根据值来反查对应的键需要遍历整个哈希表！</strong></p><h3 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h3><p>这篇博客当个笔记来看，以后要用到什么函数就查一下。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 哈希表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组与指针</title>
      <link href="/xinonria.github.io/posts/e8ea023c/"/>
      <url>/xinonria.github.io/posts/e8ea023c/</url>
      
        <content type="html"><![CDATA[<h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3><hr></hr><p>我们都知道访问数组的一个元素可以通过下标访问。</p><p>例如</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;; <span class="comment">//初始化</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>, a[<span class="number">0</span>], a[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line">output:</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>通过下标我们访问了数组<code>a</code>的第<code>0</code>个和第<code>1</code>个元素。</p><p>但是数组的下标访问本质是编程语言的一个语法糖。</p><p>数组的本质是开辟一串<strong>连续</strong>的空间用于存储数据。</p><h3 id="指针"><a class="markdownIt-Anchor" href="#指针"></a> 指针</h3><hr></hr><p>数组名其实是指向数组头的一个指针。</p><p>例如：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a的地址为%p，a+1地址为%p&quot;</span>, a, a + <span class="number">1</span>);  <span class="comment">//%p输出</span></span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line">output:</span><br><span class="line">a的地址为<span class="number">0000009</span>A7DD8FD08，a+<span class="number">1</span>地址为<span class="number">0000009</span>A7DD8FD0C</span><br></pre></td></tr></table></figure><p>将<code>a+1</code>地址0000009A7DD8FD0C与<code>a</code>地址0000009A7DD8FD08相减，可以得到结果为4。</p><p><img src="https://www.z4a.net/images/2023/08/21/image2a55ee4bfd6c91d9.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/21/image2a55ee4bfd6c91d9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>根据int类型的占用空间</p><blockquote><p>int类型在内存中占用了4个字节</p></blockquote><p>我们可以知道<code>a</code>对应的是<code>a[0]</code>的地址，<code>a+1</code>对应的就是<code>a[1]</code>的地址。</p><p>使用<code>*</code>取值符(解引用操作符)，可以访问这个地址的数据。</p><p>例如:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>, *a, *(a+<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line">output:</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>跟使用<code>a[0]</code>和<code>a[1]</code>访问效果一样。</p><p>通过这个例子可以看出，<code>a[n]</code>的本质其实就是<code>*(a+n)</code>。</p><p>这也解答了为什么数组是从0开始而不是从1开始。</p><p>因为数字对应了指针的偏移量。</p><p>第一个元素是头元素，偏移量为0，所以从数组是从0开始的。</p><h3 id="最后的话"><a class="markdownIt-Anchor" href="#最后的话"></a> 最后的话</h3><hr></hr><p>在C语言里指针是一个很重要的概念。</p><p>初学时总觉得很复杂，很麻烦，是一个难点。</p><p>学习指针时还是要多结合实际对指针的利用来学，这样才能尽快搞懂。</p><p>指针应是跟变量绑定在一起开始学的，任何一个变量都包括地址和数据。</p><p>正常赋值是对数据操作的，而指针是对地址操作的。</p><p>不知道为什么许多教程可能认为这是个难点，所以就都独立出来讲。</p><p>导致学的时候迷迷糊糊一下子就过去，也不知道什么时候派上用场。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>尝试迁移博客</title>
      <link href="/xinonria.github.io/posts/5a92151/"/>
      <url>/xinonria.github.io/posts/5a92151/</url>
      
        <content type="html"><![CDATA[<h3 id="主题问题"><a class="markdownIt-Anchor" href="#主题问题"></a> 主题问题</h3><p>最近使用hexo的volantis主题。</p><p>好看是好看，但它的资源cdn都在<a href="unpkg.com">unpkg</a>上。</p><p>最近发现unpkg国内无法访问了，导致图标、图片什么的都都失效。qwq</p><p>设置了使用<code>jsdelivr</code>(国内能正常访问)，但似乎并不起作用。</p><p>要不换一个不依赖unpkg的主题？</p><p>尝试了Star最高的Next主题。</p><p>但感觉实在太丑，用不下去。再加上waline评论系统时不时会出错。</p><p>还是放弃了Next。</p><p>现想寻找一又好看，支持插件又多，国内还能正常访问的主题。</p><p>正在寻找中……</p><h3 id="托管问题"><a class="markdownIt-Anchor" href="#托管问题"></a> 托管问题</h3><p>截止到2023/8/20。该博客是托管在Github Page上的。</p><p>如图可见</p><p><img src="https://www.z4a.net/images/2023/08/20/image5324c203fff653a2.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/20/image5324c203fff653a2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>广东有时能访问有时超时。可能是对Github的拦截。</p><p>放在Vercel上托管还没尝试，不过上次感觉效果挺差，比Github更慢。</p><p>CloudFlare加速怕国内更加打不开。阿里和腾讯的CDN加速都要域名备案。</p><p>听说现在备案域名限制很多，不能出现“博客”，“登陆”和社交功能。</p><p>这也太麻烦了。</p><p>那从源头解决问题，尝试把代码托管到Gitee Page上（阿里巴巴）。虽然对内容有审核，但我又不写一些违法乱纪的东西。</p><p>试试看行不行吧。</p><p>兴致勃勃转移仓库到Gitee上后发现开启Gitee Page要实名认证。</p><p>上传资料后还要等两天认证。</p><p>期待未来一切顺利。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>检测受损word文档</title>
      <link href="/xinonria.github.io/posts/bae47113/"/>
      <url>/xinonria.github.io/posts/bae47113/</url>
      
        <content type="html"><![CDATA[<h3 id="开始"><a class="markdownIt-Anchor" href="#开始"></a> 开始</h3><hr></hr><p>前几天使用数据恢复软件恢复了一批word文档(大概2k个)，但是有些文档已经被损坏了，完全打不开。</p><p>用word修复工具能修复吗？抱着这样的想法尝试了市面上大部分的修复工具。</p><p>结果都修复失败。</p><p><img src="https://www.z4a.net/images/2023/08/19/image-1.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>这个时候尝试看看原始数据？</p><p>用一款开源的软件<a href="https://github.com/WerWolv/ImHex">imhex</a><br /><img src="https://www.z4a.net/images/2023/08/19/image-2.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-2.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-2.png" /></p><p>直接查看这些文档的16进制数据。</p><p>![Alt text]<img src="https://www.z4a.net/images/2023/08/19/imaged5b501519bd8c8ae.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/imaged5b501519bd8c8ae.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="imaged5b501519bd8c8ae.png" /></p><p>好好好，就剩个文件路径了是吧。损坏成这样只有神笔马良能修复了。</p><p>这种文件已经不可能修复了。不过剩下的几百个文件是否还有完好无损的呢？</p><h3 id="希望"><a class="markdownIt-Anchor" href="#希望"></a> 希望</h3><p><img src="https://www.z4a.net/images/2023/08/19/image-3.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-3.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-3.png" /></p><p>这种文件大小还挺大，或许还有希望恢复。</p><p>但打开后还是有些乱码有些正常。</p><p>按照大小筛选一下后发现还是有几百个文档，有没有更高效的办法查看一个文档是否损坏呢？</p><h4 id="小知识"><a class="markdownIt-Anchor" href="#小知识"></a> 小知识</h4><p>office里的word，ppt以及xls文件本质上都是一个zip压缩包。</p><p>它们的资源都保存在这个压缩包里。</p><p>例如这里有一个ppt幻灯片，里面有一张图片。<br /><img src="https://www.z4a.net/images/2023/08/19/image-4.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-4.png" /></p><p>把它的后缀名改为.zip后解压，会得到一个这样的目录。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">│  [Content_Types].xml</span><br><span class="line">│</span><br><span class="line">├─docProps</span><br><span class="line">│      app.xml</span><br><span class="line">│      core.xml</span><br><span class="line">│      custom.xml</span><br><span class="line">│      thumbnail.jpeg</span><br><span class="line">│</span><br><span class="line">├─ppt</span><br><span class="line">│  │  presentation.xml</span><br><span class="line">│  │  presProps.xml</span><br><span class="line">│  │  tableStyles.xml</span><br><span class="line">│  │  viewProps.xml</span><br><span class="line">│  │</span><br><span class="line">│  ├─media</span><br><span class="line">│  │      image1.jpg</span><br><span class="line">│  │      image2.jpg</span><br><span class="line">│  │</span><br><span class="line">│  ├─slideLayouts</span><br><span class="line">│  │  │  slideLayout1.xml</span><br><span class="line">│  │  │  slideLayout2.xml</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>其中media文件夹里的image.jpg就是幻灯片插入的图片。</p><p><img src="https://www.z4a.net/images/2023/08/19/image-5.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-5.png" /></p><hr></hr><p>所以根据这个特点，通过对几个文件的观察。</p><p>会发现正常文件和损坏文件解压后的文件树都发生了变化。</p><p>其中<code>word\document.xml</code>这个文件最为关键。如果这个文件不存在的话，那么就无法正常打开，可以认定为是损坏文档。</p><p>但是有的文档有<code>word\document.xml</code>文件，但解压的话就会出现错误。</p><p><img src="https://www.z4a.net/images/2023/08/19/image-6.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/19/image-6.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-6.png" /></p><p>这时就不能单纯根据文件的有无来下判断了，还需要尝试解压一下。</p><h3 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h3><p>这种小脚本就到了Python上场了，多轮子可以直接调用。</p><p>需要的模块</p><ol><li><code>os</code>。用于读取文件。</li><li><code>zipfile</code>。解压文件。</li><li><code>shutil</code>。将正常文档放到一个文件夹保存。</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_and_copy_files</span>(<span class="params">directory_path, output_folder</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 遍历目标文件夹中的所有文件</span></span><br><span class="line">        <span class="keyword">for</span> file_name <span class="keyword">in</span> os.listdir(directory_path):</span><br><span class="line">            <span class="comment"># 获得完整路径</span></span><br><span class="line">            file_path = os.path.join(directory_path, file_name)</span><br><span class="line">            <span class="comment"># 检查是否是文件</span></span><br><span class="line">            <span class="keyword">if</span> os.path.isfile(file_path):</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="comment"># 使用zipfile模块处理压缩文件</span></span><br><span class="line">                    <span class="keyword">with</span> zipfile.ZipFile(file_path) <span class="keyword">as</span> zip_file:</span><br><span class="line">                        <span class="comment"># 查看压缩文档里所有的文件名</span></span><br><span class="line">                        <span class="keyword">for</span> zip_file_name <span class="keyword">in</span> zip_file.namelist():</span><br><span class="line">                            <span class="comment"># 找到目标文件</span></span><br><span class="line">                            <span class="keyword">if</span> zip_file_name == <span class="string">&quot;word/document.xml&quot;</span>:</span><br><span class="line">                                <span class="comment"># 创建一个临时文件夹来解压文件</span></span><br><span class="line">                                extract_folder = os.path.join(directory_path, <span class="string">&quot;temp&quot;</span>)</span><br><span class="line">                                zip_file.extractall(extract_folder)</span><br><span class="line">                                extracted_file_path = os.path.join(</span><br><span class="line">                                    extract_folder, zip_file_name</span><br><span class="line">                                )</span><br><span class="line">                                <span class="keyword">if</span> os.path.isfile(extracted_file_path):</span><br><span class="line">                                    <span class="built_in">print</span>(<span class="string">&quot;找到正常文档:&quot;</span>, file_name, <span class="string">&quot;\n正在复制&quot;</span>)</span><br><span class="line"></span><br><span class="line">                                    <span class="comment"># 创建输出文件夹（如果不存在）</span></span><br><span class="line">                                    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(output_folder):</span><br><span class="line">                                        os.makedirs(output_folder)</span><br><span class="line"></span><br><span class="line">                                    <span class="comment"># 复制文件到输出文件夹</span></span><br><span class="line">                                    output_file_path = os.path.join(</span><br><span class="line">                                        output_folder, file_name</span><br><span class="line">                                    )</span><br><span class="line">                                    shutil.copy2(file_path, output_file_path)</span><br><span class="line"></span><br><span class="line">                                    <span class="comment"># 删除临时解压文件夹</span></span><br><span class="line">                                    shutil.rmtree(extract_folder)</span><br><span class="line">                <span class="keyword">except</span> zipfile.BadZipFile:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;file_name&#125;</span>已损坏&quot;</span>)</span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;文件<span class="subst">&#123;zip_file_name&#125;</span>解压失败&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;错误: 目录 &#x27;<span class="subst">&#123;directory_path&#125;</span>&#x27; 未找到&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;发生错误: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定目标文件夹和输出文件夹</span></span><br><span class="line">directory_path = <span class="string">&quot;...&quot;</span></span><br><span class="line">output_folder = os.path.join(directory_path, <span class="string">&quot;good&quot;</span>)</span><br><span class="line"><span class="comment"># 调用函数来执行操作</span></span><br><span class="line">extract_and_copy_files(directory_path, output_folder)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h3><p>看着控制台飞速滚动，2k个文档几秒内就全部整理完了(最后只有28个正常打开)。</p><p>如果手动一个个点开看的话不知道要多久。</p><p>感慨这种重复机械的工作还是计算机擅长。</p><p>利用自己的知识，以超高的效率解决问题，这可能就是编程的魅力所在吧。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 小工具 </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>快慢指针与链表</title>
      <link href="/xinonria.github.io/posts/701ece95/"/>
      <url>/xinonria.github.io/posts/701ece95/</url>
      
        <content type="html"><![CDATA[<p>当要求空间复杂度为O(1)，即只使用常量额外空间时，快慢指针对于处理链表中删除重复值和判断是否有环尤为重要。</p><p>快慢指针也可称为龟兔赛跑算法。</p><p>定义一个快指针，一个慢指针，它们的移动速度是不同的，根据这个速度差，我们就能完成一些工作了。</p><h3 id="删除重复值"><a class="markdownIt-Anchor" href="#删除重复值"></a> 删除重复值</h3><hr></hr><h4 id="例题"><a class="markdownIt-Anchor" href="#例题"></a> 例题</h4><p>给定一个已排序的链表的头 head ， 删除所有重复的元素，使每个元素只出现一次 。返回 已排序的链表 。</p><p><img src="https://s1.ax1x.com/2023/08/18/pP3JfK0.png" class="lazyload" data-srcset="https://s1.ax1x.com/2023/08/18/pP3JfK0.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="思考"><a class="markdownIt-Anchor" href="#思考"></a> 思考</h4><p>首先这个链表是有序链表。</p><p>也就是说，重复值是连续出现的。</p><p>定义两个指针，<code>cur</code>和<code>i</code>。</p><p>当发现当前节点和下个节点值相同时，即<code>i-&gt;val == i-&gt;next-&gt;val</code>。</p><p><code>i</code>就不动了，启动<code>cur</code>指针。</p><p><code>cur</code>一直移动到一个新的值为止。</p><p>然后再让<code>i</code>跟<code>cur</code>连上，即<code>i-&gt;next = cur</code>。</p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链表定义</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line"><span class="type">int</span> val;</span><br><span class="line">ListNode* next;</span><br><span class="line"><span class="built_in">ListNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">next</span>(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">ListNode* <span class="title">deleteDuplicates</span><span class="params">(ListNode* head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!head) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">ListNode* i = head;         <span class="comment">//慢指针</span></span><br><span class="line">ListNode* cur = head;       <span class="comment">//快指针</span></span><br><span class="line"><span class="keyword">while</span> (i)</span><br><span class="line">&#123;</span><br><span class="line">      <span class="comment">//&amp;&amp;逻辑运算符是先判断左边，如果不满足的话就不看右边直接返回false了。</span></span><br><span class="line"><span class="keyword">if</span> (i-&gt;next &amp;&amp; i-&gt;val == i-&gt;next-&gt;val)  <span class="comment">//防止访问出界，先判断i-&gt;next是否有值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (cur &amp;&amp; cur-&gt;val == i-&gt;val) cur = cur-&gt;next;     <span class="comment">//防止cur访问出界，先判断cur是不是空指针了 </span></span><br><span class="line">        <span class="comment">//上面这句while循环已经把cur移动到一个新的值处了</span></span><br><span class="line">i-&gt;next = cur;    <span class="comment">//将i-&gt;next直接连接到cur处。（没释放中间元素）</span></span><br><span class="line">&#125;</span><br><span class="line">i = i-&gt;next;</span><br><span class="line">cur = i;     <span class="comment">//正常走的话cur跟着i一起走</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;     <span class="comment">//返回头指针，此时cur和i已经指向链表尾了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="判断是否有环"><a class="markdownIt-Anchor" href="#判断是否有环"></a> 判断是否有环</h3><hr></hr><h4 id="例题-2"><a class="markdownIt-Anchor" href="#例题-2"></a> 例题</h4><p>给你一个链表的头节点 head ，判断链表中是否有环。</p><p>如果链表中有某个节点，可以通过连续跟踪 next 指针再次到达，则链表中存在环。 为了表示给定链表中的环，评测系统内部使用整数 pos 来表示链表尾连接到链表中的位置（索引从 0 开始）。注意：pos 不作为参数进行传递 。仅仅是为了标识链表的实际情况。</p><p>如果链表中存在环 ，则返回 true 。 否则，返回 false 。</p><p><img src="https://s1.ax1x.com/2023/08/18/pP3tW7T.png" class="lazyload" data-srcset="https://s1.ax1x.com/2023/08/18/pP3tW7T.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="思考-2"><a class="markdownIt-Anchor" href="#思考-2"></a> 思考</h4><p>本题比较符合快慢指针的本质。</p><p>利用快慢指针的速度差可以判断链表内是否有环。</p><p>首先我们知道，如果没环的话，最终是能走到空节点的。</p><p>但如果有环的话，指针会回到原来的某个位置。</p><p>我们设定快指针速度为2，即一次走两个节点。</p><p>慢指针速度为1，即一次走一个节点。</p><p>如果有环的情况下，快指针会先到达环处。</p><p>快指针会回到慢指针的背后，往前追赶。</p><p>那么最终快指针会追上慢指针，两个指针相遇。说明这个链表中有环。</p><h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">hasCycle</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">ListNode* fastCur = head;</span><br><span class="line">ListNode* slowCur = head;</span><br><span class="line"><span class="keyword">while</span> (fastCur != <span class="literal">nullptr</span>) <span class="comment">//快指针到达空节点说明没有环</span></span><br><span class="line">&#123;</span><br><span class="line">fastCur = fastCur-&gt;next;   <span class="comment">//快指针先走</span></span><br><span class="line"><span class="keyword">if</span> (fastCur) fastCur = fastCur-&gt;next;  <span class="comment">//如果现在还没到尾巴的话再走一步</span></span><br><span class="line"><span class="keyword">if</span> (fastCur == slowCur) <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//此时fastCur追上了slowCur，说明有环</span></span><br><span class="line">slowCur = slowCur-&gt;next;   <span class="comment">//慢指针走一步</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于二叉树(下)</title>
      <link href="/xinonria.github.io/posts/fbe9460c/"/>
      <url>/xinonria.github.io/posts/fbe9460c/</url>
      
        <content type="html"><![CDATA[<p>二叉搜索树是有序的。</p><p>它可以完成<strong>搜索</strong>，<strong>插入</strong>以及<strong>删除</strong>等操作。</p><h3 id="搜索"><a class="markdownIt-Anchor" href="#搜索"></a> 搜索</h3><h4 id="例题"><a class="markdownIt-Anchor" href="#例题"></a> 例题</h4><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20210204155522476.png" class="lazyload" data-srcset="https://code-thinking-1253855093.file.myqcloud.com/pics/20210204155522476.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="思考"><a class="markdownIt-Anchor" href="#思考"></a> 思考</h4><p>因为二叉搜索树有以下几个性质。</p><ul><li>若它的左子树不空，则左子树上所有结点的值均小于它的根结点的值；</li><li>若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值；</li><li>它的左、右子树也分别为二叉搜索树。</li></ul><p>所以它的搜索效率就跟二分搜索一样很快。</p><p>使用迭代法很快就能写出来。</p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">searchNode</span><span class="params">(TreeNode* root, <span class="type">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span> (root)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (target == root-&gt;val) <span class="keyword">return</span> root; <span class="comment">//找到对应值</span></span><br><span class="line"><span class="keyword">if</span> (target &lt; root-&gt;val) root = root-&gt;left; <span class="comment">//目标值比当前节点小，说明目标值可能在左子树</span></span><br><span class="line"><span class="keyword">if</span> (target &gt; root-&gt;val) root = root-&gt;right; <span class="comment">//目标值比当前节点大，说明目标值可能在右子树</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="插入"><a class="markdownIt-Anchor" href="#插入"></a> 插入</h3><h4 id="例题-2"><a class="markdownIt-Anchor" href="#例题-2"></a> 例题</h4><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20201019173259554.png" class="lazyload" data-srcset="https://code-thinking-1253855093.file.myqcloud.com/pics/20201019173259554.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="思考-2"><a class="markdownIt-Anchor" href="#思考-2"></a> 思考</h4><p>插入就是在搜索的基础上，如果找不到这个节点，那么找个空的位置插入进去。</p><p>但在实现上，我们需要记录当前节点以及它的父节点。</p><p>否则会发现当前节点是空的之后，丢失了父节点的指针，导致无法建立起联系。</p><h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">insertNode</span><span class="params">(TreeNode* root, <span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!root)</span><br><span class="line">  &#123;</span><br><span class="line">    TreeNode* node = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(num);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">  TreeNode* cur = root;</span><br><span class="line">  TreeNode* parent = root;</span><br><span class="line">  <span class="comment">//寻找插入位置</span></span><br><span class="line">  <span class="keyword">while</span> (cur)</span><br><span class="line">  &#123;</span><br><span class="line">    parent = cur;      <span class="comment">//当cur是空节点时会直接跳出循环，parent不会更新，为cur的父节点。</span></span><br><span class="line">    <span class="keyword">if</span> (num &lt; cur-&gt;val) cur = cur-&gt;left;</span><br><span class="line">    <span class="keyword">else</span> cur = cur-&gt;right;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//插入节点</span></span><br><span class="line">  TreeNode* node = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(num);</span><br><span class="line">  <span class="keyword">if</span> (num &lt; parent-&gt;val) parent-&gt;left = node;</span><br><span class="line">  <span class="keyword">if</span> (num &gt; parent-&gt;val) parent-&gt;right = node;</span><br><span class="line">  <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="删除"><a class="markdownIt-Anchor" href="#删除"></a> 删除</h3><h4 id="例题-3"><a class="markdownIt-Anchor" href="#例题-3"></a> 例题</h4><p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20201020171048265.png" class="lazyload" data-srcset="https://code-thinking-1253855093.file.myqcloud.com/pics/20201020171048265.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><h4 id="思考-3"><a class="markdownIt-Anchor" href="#思考-3"></a> 思考</h4><p>首先要找到删除的节点，<s>这个用前面的<code>searchNode()</code>函数就可以</s>。</p><p>因为要将删除节点的子树连接回去，所以我们要找到的是匹配节点的父节点（就像插入函数那样），直接用搜索函数不行。</p><p>麻烦在于删除后结构的调整。</p><p>删除一个节点有几种情况呢？</p><ol><li>没找到删除节点，直接返回原来的树</li><li>找到删除节点，没有子节点，直接把他变成<code>NULL</code>删除</li><li>找到删除节点，有左子节点或右子节点，删去自己，把左子节点或右子节点变成根节点。</li><li>找到删除节点，同时拥有左右子节点，删去自己，左子树移到右子树的最左边左孩子上，右子节点成为根节点。</li></ol><p>第四种情况有些难理解。</p><p>因为要保证树的有序，左子树上所有节点肯定是小于右子树任一一个节点的。</p><p>把它整个移到右子树的左叶子节点上就不会破坏有序。</p><h4 id="代码-3"><a class="markdownIt-Anchor" href="#代码-3"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">deleteNode</span><span class="params">(TreeNode* root, <span class="type">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">TreeNode* node = root;</span><br><span class="line">TreeNode* parent = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="comment">//寻找插入位置</span></span><br><span class="line"><span class="keyword">while</span> (node)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (node-&gt;val == target) <span class="keyword">break</span>;</span><br><span class="line">parent = node;      <span class="comment">//当cur是空节点时会直接跳出循环，parent不会更新，为cur的父节点。</span></span><br><span class="line"><span class="keyword">if</span> (target &lt; node-&gt;val) node = node-&gt;left;</span><br><span class="line"><span class="keyword">else</span> node = node-&gt;right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!node) <span class="keyword">return</span> root;  <span class="comment">//情况一，没找到删除节点</span></span><br><span class="line"><span class="keyword">if</span> (!node-&gt;left &amp;&amp; !node-&gt;right)  <span class="comment">//情况二，没有左子节点和右子节点</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (parent-&gt;left-&gt;val == target) parent-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">if</span> (parent-&gt;right-&gt;val == target) parent-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (node-&gt;left &amp;&amp; node-&gt;right)   <span class="comment">//情况四，左子结点和右子节点都有</span></span><br><span class="line">&#123;</span><br><span class="line">TreeNode* cur = node-&gt;right;</span><br><span class="line"><span class="keyword">while</span> (cur-&gt;left) cur = cur-&gt;left;  <span class="comment">//前往右子树的最左边</span></span><br><span class="line">cur-&gt;left = node-&gt;left;          <span class="comment">//左子树连接上右子树的最左边</span></span><br><span class="line"><span class="keyword">if</span> (parent-&gt;left &amp;&amp; parent-&gt;left-&gt;val == target)  <span class="comment">//删除节点是父节点的左子结点</span></span><br><span class="line">parent-&gt;left = node-&gt;right;</span><br><span class="line"><span class="keyword">if</span> (parent-&gt;right &amp;&amp; parent-&gt;right-&gt;val == target) <span class="comment">//删除节点是父节点的右子结点</span></span><br><span class="line">parent-&gt;right = node-&gt;right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//情况三，仅有一个子节点</span></span><br><span class="line"><span class="keyword">if</span> (parent-&gt;left-&gt;val == target)  <span class="comment">//删除节点是父节点的左子结点</span></span><br><span class="line">parent-&gt;left = node-&gt;left ? node-&gt;left : node-&gt;right;    <span class="comment">//删除节点有的是左子结点还是右子节点</span></span><br><span class="line"><span class="keyword">if</span> (parent-&gt;right-&gt;val == target) <span class="comment">//删除节点是父节点的右子结点</span></span><br><span class="line">parent-&gt;right = node-&gt;left ? node-&gt;left : node-&gt;right;   <span class="comment">//删除节点有的是左子结点还是右子节点</span></span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h3><p>至此二叉树的一些基础操作就结束了。其他变形题都可以根据这几种基础操作的思想。</p><p>可以发现需要改变二叉树的结构往往都会复杂许多。</p><p>如构造，删除等操作。</p><p>不过在写这几篇博文的过程中也确实学到许多东西啦。对递归和指针的理解加深了许多。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>异或的妙用</title>
      <link href="/xinonria.github.io/posts/8d14e5d/"/>
      <url>/xinonria.github.io/posts/8d14e5d/</url>
      
        <content type="html"><![CDATA[<p>本来觉得这题很简单的。但看了条件之后发现还真挺难想（压根想不到位操作）</p><hr></hr><h4 id="原题链接"><a class="markdownIt-Anchor" href="#原题链接"></a> <a href="https://leetcode.cn/problems/single-number/description/">原题链接</a></h4><p><img src="https://s1.ax1x.com/2023/08/16/pPlwAz9.png" class="lazyload" data-srcset="https://s1.ax1x.com/2023/08/16/pPlwAz9.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>注意条件!!</p><p><strong>线性时间 &amp; 常量额外空间</strong></p><h4 id="思考"><a class="markdownIt-Anchor" href="#思考"></a> 思考</h4><h5 id="1-暴力解法"><a class="markdownIt-Anchor" href="#1-暴力解法"></a> 1. 暴力解法。</h5><p>取一个数记为 cur ，然后从剩下的数中查找，如果找不到，则 cur 即为要找的那个数。</p><p>双层循环，时间复杂度O(n^2)。</p><p>不满足线性时间。</p><h5 id="2-哈希表"><a class="markdownIt-Anchor" href="#2-哈希表"></a> 2. 哈希表</h5><p>直接用<code>unordered_set&lt;int, int&gt;</code>作哈希表。</p><p>第一次遇到这个数时放进去，同时记录个数。</p><p>最后循环一遍看谁的个数是1。</p><p>然而这个解法不满足常量额外空间。</p><h5 id="3-排序"><a class="markdownIt-Anchor" href="#3-排序"></a> 3. 排序</h5><p>排序完之后看谁的值只出现一次。</p><p>使用快速排序时间复杂度O(nlogn)，还是不够快。</p><h5 id="4-异或"><a class="markdownIt-Anchor" href="#4-异或"></a> 4. 异或</h5><p><em><strong>重量级登场</strong></em></p><p>首先了解什么是异或。</p><p>异或运算符在C++里是<code>^</code>。</p><p>两个输入相同时为0，不同则为1。</p><table><thead><tr><th>a</th><th>b</th><th>a⊕b</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table><p>我们只需要使用它这几个性质。</p><ul><li>任何数和 0 做异或运算，结果仍然是原来的数，即 a ⊕ 0 = a。</li><li>任何数和其自身做异或运算，结果是 0，即 a ⊕ a = 0。</li><li><strong>满足交换律和结合律</strong> （也就是说无论一对相同的ta相隔天涯海角，中途经历了多少事情，异或都能让它们匹配在一起为0）</li></ul><p>(a1⊕a1)⊕(a2⊕a2)⊕⋯⊕(an⊕an)⊕am+1最后结果是<br />0⊕0⊕⋯⊕0⊕am+1=am+1</p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;nums)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">1</span>)              <span class="comment">//只有一个数就直接返回咯</span></span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;               <span class="comment">//第一个条件:任何数和 0 做异或运算，结果仍然是原来的数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums)</span><br><span class="line">            ans = ans ^ num;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 位操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于二叉树（中）</title>
      <link href="/xinonria.github.io/posts/9c3fee1d/"/>
      <url>/xinonria.github.io/posts/9c3fee1d/</url>
      
        <content type="html"><![CDATA[<h3 id="构造"><a class="markdownIt-Anchor" href="#构造"></a> 构造</h3><hr></hr><p>前序和中序可以唯一确定一棵二叉树。</p><p>后序和中序可以唯一确定一棵二叉树。</p><p><strong>前序和后序不能唯一确定一棵二叉树！</strong></p><p>没中序遍历就无法分割了。</p><h4 id="前序遍历中序遍历构造"><a class="markdownIt-Anchor" href="#前序遍历中序遍历构造"></a> 前序遍历&amp;中序遍历构造</h4><h5 id="分析"><a class="markdownIt-Anchor" href="#分析"></a> 分析</h5><p>首先要牢记各个遍历方法的顺序。</p><p><strong>前序遍历是：根节点-&gt;左子树-&gt;右子树</strong><br /><strong>中序遍历是：左子树-&gt;根节点-&gt;右子树</strong></p><p>所以前序遍历的第一个元素就是整个二叉树的根节点。<br />同理，在中序遍历中找到这个元素，它的左边就是左子树，右边就是右子树。</p><p>前序遍历的第二个元素就是根节点的左子结点。<br />同样它也作为一个分割点，把中序遍历分成左子树和右子树。<br />例如分成[1,4,2],[7,6,8]</p><p>前序遍历怎么切割呢？可以发现只需要把它分成与中序遍历数组一样长度的的两块就行了。<br />例如[4,1,2] (三个元素), [6,7,8] (三个元素)</p><p><img src="https://www.z4a.net/images/2023/08/15/20200806191109896.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200806191109896.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>……</p><p>如此循环，我们就可以用递归写出代码了。</p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">traversal</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; preorder, <span class="type">int</span> preBegin, <span class="type">int</span> preEnd, vector&lt;<span class="type">int</span>&gt;&amp; inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (preBegin == preEnd) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//找到当前根节点</span></span><br><span class="line"><span class="type">int</span> rootValue = preorder[preBegin];</span><br><span class="line">TreeNode* node = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(rootValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为叶子节点</span></span><br><span class="line"><span class="keyword">if</span> (preEnd - preBegin == <span class="number">1</span>) <span class="keyword">return</span> node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在中序遍历中找到对应节点</span></span><br><span class="line"><span class="type">int</span> divideNode;</span><br><span class="line"><span class="keyword">for</span> (divideNode = <span class="number">0</span>; divideNode &lt;= inEnd; ++divideNode)</span><br><span class="line"><span class="keyword">if</span> (inorder[divideNode] == rootValue)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//左开右闭区间分割 [)</span></span><br><span class="line"><span class="comment">//分割中序数组</span></span><br><span class="line"><span class="type">int</span> leftInorderBegin = inBegin;</span><br><span class="line"><span class="type">int</span> leftInorderEnd = divideNode;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> rightInorderBegin = divideNode + <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> rightInorderEnd = inEnd;</span><br><span class="line"></span><br><span class="line"><span class="comment">//分割前序数组</span></span><br><span class="line"><span class="type">int</span> leftPreorderBegin = preBegin + <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> leftPreorderEnd = preBegin + (leftInorderEnd - leftInorderBegin) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> rightPreorderBegin = leftPreorderEnd;</span><br><span class="line"><span class="type">int</span> rightPreorderEnd = preEnd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//递归</span></span><br><span class="line">    node-&gt;left = <span class="built_in">traversal</span>(preorder, leftPreorderBegin, leftPreorderEnd, inorder, leftInorderBegin, leftInorderEnd);</span><br><span class="line">node-&gt;right = <span class="built_in">traversal</span>(preorder, rightPreorderBegin, rightPreorderEnd, inorder, rightInorderBegin, rightInorderEnd);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="中序遍历后序遍历构造"><a class="markdownIt-Anchor" href="#中序遍历后序遍历构造"></a> 中序遍历&amp;后序遍历构造</h4><h5 id="分析-2"><a class="markdownIt-Anchor" href="#分析-2"></a> 分析</h5><p>这样子构造跟上面的前序+中序构造差别不大。</p><p>只需注意后序遍历中根节点是在最后的。</p><p><strong>后序遍历：左子树-&gt;右子树-&gt;根节点</strong></p><h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">traversal</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; postorder, <span class="type">int</span> postorderBegin, <span class="type">int</span> postorderEnd, vector&lt;<span class="type">int</span>&gt;&amp; inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (postorderBegin == postorderEnd) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//找到当前根节点</span></span><br><span class="line"><span class="type">int</span> rootValue = postorder[postorderEnd - <span class="number">1</span>];</span><br><span class="line">TreeNode* node = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(rootValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为叶子节点</span></span><br><span class="line"><span class="keyword">if</span> (postorderEnd - postorderBegin == <span class="number">1</span>) <span class="keyword">return</span> node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在中序遍历中找到对应节点</span></span><br><span class="line"><span class="type">int</span> divideNode;</span><br><span class="line"><span class="keyword">for</span> (divideNode = <span class="number">0</span>; divideNode &lt;= inEnd; ++divideNode)</span><br><span class="line"><span class="keyword">if</span> (inorder[divideNode] == rootValue)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//左开右闭区间分割 [)</span></span><br><span class="line"><span class="comment">//分割中序数组</span></span><br><span class="line"><span class="type">int</span> leftInorderBegin = inBegin;</span><br><span class="line"><span class="type">int</span> leftInorderEnd = divideNode;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> rightInorderBegin = divideNode + <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> rightInorderEnd = inEnd;</span><br><span class="line"></span><br><span class="line"><span class="comment">//分割后序数组</span></span><br><span class="line"><span class="type">int</span> leftpostorderBegin = postorderBegin;</span><br><span class="line"><span class="type">int</span> leftpostorderEnd = postorderBegin + (leftInorderEnd - leftInorderBegin);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> rightpostorderBegin = leftpostorderEnd;</span><br><span class="line"><span class="type">int</span> rightpostorderEnd = postorderEnd - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//递归</span></span><br><span class="line">node-&gt;left = <span class="built_in">traversal</span>(postorder, leftpostorderBegin, leftpostorderEnd, inorder, leftInorderBegin, leftInorderEnd);</span><br><span class="line">node-&gt;right = <span class="built_in">traversal</span>(postorder, rightpostorderBegin, rightpostorderEnd, inorder, rightInorderBegin, rightInorderEnd);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="彩蛋"><a class="markdownIt-Anchor" href="#彩蛋"></a> 彩蛋</h3><h4 id="画二叉树"><a class="markdownIt-Anchor" href="#画二叉树"></a> 画二叉树</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printTree</span><span class="params">(TreeNode* root, <span class="type">int</span> level = <span class="number">0</span>, <span class="type">int</span> indent = <span class="number">4</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printTree</span>(root-&gt;right, level + <span class="number">1</span>, indent);</span><br><span class="line">    <span class="keyword">if</span> (level != <span class="number">0</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">setw</span>(level * indent) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; root-&gt;val &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">printTree</span>(root-&gt;left, level + <span class="number">1</span>, indent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="效果"><a class="markdownIt-Anchor" href="#效果"></a> 效果</h4><p><img src="https://www.z4a.net/images/2023/08/16/image25af92ef1ec7e87f.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/16/image25af92ef1ec7e87f.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>明天再做插入删除的代码吧。</p><p>未完待续…</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于二叉树（上）</title>
      <link href="/xinonria.github.io/posts/a1da799a/"/>
      <url>/xinonria.github.io/posts/a1da799a/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h3><hr></hr><p>最近经常刷到二叉树的题，那么好好把二叉树的相关知识点都过一下吧。</p><blockquote><p>本文参考了代码随想录关于二叉树的介绍。<a href="https://programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html">原文链接</a></p></blockquote><h3 id="分类"><a class="markdownIt-Anchor" href="#分类"></a> 分类</h3><hr></hr><h4 id="满二叉树"><a class="markdownIt-Anchor" href="#满二叉树"></a> 满二叉树</h4><p>一个二叉树除了叶节点外每个节点都有两个子节点，且叶节点在同一层的二叉树。就是看上去都是满的。</p><p>深度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>。节点数量就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.932438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>个。</p><p><img src="https://www.z4a.net/images/2023/08/15/20200806185805576.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200806185805576.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><h4 id="完全二叉树"><a class="markdownIt-Anchor" href="#完全二叉树"></a> 完全二叉树</h4><p>除了最底层节点没填满外，其他节点都是满的。<strong>且最底层节点必须从左到右连续！</strong></p><p><img src="https://www.z4a.net/images/2023/08/15/20200920221638903.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200920221638903.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>所以，满二叉树同时也是一个完全二叉树。</p><h4 id="二叉搜索树"><a class="markdownIt-Anchor" href="#二叉搜索树"></a> 二叉搜索树</h4><p>二叉搜索树是有数值且有序的。</p><p>它的子节点的位置要满足三个条件。</p><ul><li>左子树上所有节点都小于根节点</li><li>右子树上所有节点都大于根节点</li><li>左右子树都满足二叉搜索树</li></ul><p><img src="https://www.z4a.net/images/2023/08/15/20200806190304693.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200806190304693.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>如图：</p><p>以根节点10为例，左子节点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>&lt;</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">6&lt;10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，右子节点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>&gt;</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">16&gt;10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。</p><p>节点6同理，节点16也同理。</p><h4 id="平衡二叉搜索树"><a class="markdownIt-Anchor" href="#平衡二叉搜索树"></a> 平衡二叉搜索树</h4><p>平衡二叉搜索树也是有序树，但它跟二叉搜索树的区别在于<strong>它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。</strong></p><p><img src="https://www.z4a.net/images/2023/08/15/20200806190511967.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200806190511967.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>为什么要专门有个平衡二叉树呢？</p><p>因为一个二叉搜索树极端情况下退化为链表结构，根节点在尾部或头部。这样一来搜索的效率就低了。</p><h3 id="存储"><a class="markdownIt-Anchor" href="#存储"></a> 存储</h3><hr></hr>二叉树存储有两种方式，链式存储（指针实现）和顺序存储（数组实现）。<h4 id="链式存储"><a class="markdownIt-Anchor" href="#链式存储"></a> 链式存储</h4><p>一般链式存储较多，例如（Leetcode默认构造的二叉树）:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> val;          <span class="comment">//当前节点存放的数据</span></span><br><span class="line">TreeNode* left;   <span class="comment">//指向左子节点</span></span><br><span class="line">TreeNode* right;  <span class="comment">//指向右子节点</span></span><br><span class="line">  <span class="comment">//构造函数</span></span><br><span class="line">  <span class="built_in">TreeNode</span>() : <span class="built_in">val</span>(<span class="number">0</span>), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"><span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"><span class="built_in">TreeNode</span>(<span class="type">int</span> x, TreeNode* left, TreeNode* right) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(left), <span class="built_in">right</span>(right) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="顺序存储"><a class="markdownIt-Anchor" href="#顺序存储"></a> 顺序存储</h4><p>而顺序存储则是使用下标来存储节点。</p><p><img src="https://www.z4a.net/images/2023/08/15/20200920200429452.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200920200429452.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>通过观察可以知道第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>个节点的左子结点下标为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∗</mo><mn>2</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i*2+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，右子节点下标为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∗</mo><mn>2</mn><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i*2+2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。</p><h3 id="遍历"><a class="markdownIt-Anchor" href="#遍历"></a> 遍历</h3><hr></hr><p>二叉树有四种遍历方法。</p><h4 id="深度优先搜索"><a class="markdownIt-Anchor" href="#深度优先搜索"></a> 深度优先搜索</h4><p>其中使用深度优先搜索的遍历方法有：</p><ul><li>前序遍历 (中左右)</li><li>中序遍历 (左中右)</li><li>后序遍历 (左右中)</li></ul><p>(中在哪个位置就叫什么遍历，左或右不是左右子节点的意思，是左右子树的意思)</p><p><img src="https://www.z4a.net/images/2023/08/15/20200806191109896.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20200806191109896.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>遍历可以用递归写，也可以用迭代的方法写。</p><p>由于递归底层实现也是用栈，所以可以直接用栈来代替。</p><p>如前面一篇二叉树中序遍历的实现。<a href="https://xinonria.top/2023/08/12/%E5%85%B3%E4%BA%8E%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/">原文</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  stack&lt;TreeNode*&gt; s;</span><br><span class="line">  unordered_map&lt;TreeNode*, <span class="type">bool</span>&gt; umap&#123;&#123;<span class="literal">nullptr</span>, <span class="literal">false</span>&#125;&#125;;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">  s.<span class="built_in">push</span>(root);</span><br><span class="line">  TreeNode* temp;</span><br><span class="line">  <span class="keyword">while</span> (!s.<span class="built_in">empty</span>())</span><br><span class="line">  &#123;</span><br><span class="line">  temp = s.<span class="built_in">top</span>();</span><br><span class="line">  s.<span class="built_in">pop</span>();</span><br><span class="line">  <span class="keyword">if</span> (!temp)</span><br><span class="line">  <span class="keyword">continue</span>;</span><br><span class="line">  <span class="keyword">if</span> (umap[temp])</span><br><span class="line">  res.<span class="built_in">push_back</span>(temp-&gt;val);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">  umap[temp] = <span class="literal">true</span>;</span><br><span class="line">      <span class="comment">//由于是栈，反过来看就是左中右</span></span><br><span class="line">  s.<span class="built_in">push</span>(temp-&gt;right);</span><br><span class="line">  s.<span class="built_in">push</span>(temp);</span><br><span class="line">  s.<span class="built_in">push</span>(temp-&gt;left);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>该方法只需更改<code>s.push()</code>的位置就可直接实现前中后序遍历。</p><h4 id="广度优先搜索"><a class="markdownIt-Anchor" href="#广度优先搜索"></a> 广度优先搜索</h4><p>使用广度优先搜索实现的遍历方法为层序遍历。</p><p><img src="https://www.z4a.net/images/2023/08/15/20210203144842988.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/15/20210203144842988.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" /></p><p>使用队列来实现层序遍历。因为队列<strong>先进先出</strong>的特点可以实现广度优先搜索。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">queue&lt;TreeNode*&gt; q;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line"><span class="keyword">if</span> (root) q.<span class="built_in">push</span>(root);</span><br><span class="line"><span class="type">int</span> len = q.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line">len = q.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i != len; ++i)  <span class="comment">//这里不能写i!=q.size()。因为len在循环体内会发生变化，会导致出错。</span></span><br><span class="line">&#123;</span><br><span class="line">TreeNode* node = q.<span class="built_in">front</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line">res.<span class="built_in">push_back</span>(node-&gt;val);</span><br><span class="line"><span class="keyword">if</span> (node-&gt;left) q.<span class="built_in">push</span>(node-&gt;left);</span><br><span class="line"><span class="keyword">if</span> (node-&gt;right) q.<span class="built_in">push</span>(node-&gt;right);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>未完待续…</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二叉树与递归</title>
      <link href="/xinonria.github.io/posts/17435844/"/>
      <url>/xinonria.github.io/posts/17435844/</url>
      
        <content type="html"><![CDATA[<p>最近经常做到关于二叉树的<em>Easy</em>题。</p><p>二叉树的遍历总是和递归绑在一起。</p><p>如下题寻找二叉树的最大深度。</p><h4 id="原题"><a class="markdownIt-Anchor" href="#原题"></a> 原题</h4><p><a href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/">原题链接</a></p><p><img src="https://www.z4a.net/images/2023/08/14/image34a5ffd36c8e0870.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/14/image34a5ffd36c8e0870.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><h4 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h4><p>用递推的思路来想，从某一个节点出发，它的最大深度就是<code>max(左子节点最大深度，右子节点最大深度) + 1</code>。<br />对于每一个节点来说都是这样的，那么就可以用递归的办法来解决了。(长度也短)，所以主要是思路问题。</p><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode *root)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">maxDepth</span>(root-&gt;left), <span class="built_in">maxDepth</span>(root-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><br></br></p><h4 id="类似题目"><a class="markdownIt-Anchor" href="#类似题目"></a> 类似题目</h4><p><a href="https://leetcode.cn/problems/balanced-binary-tree/description/">原题链接</a><br /><img src="https://www.z4a.net/images/2023/08/14/image77418d5e172610dd.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/14/image77418d5e172610dd.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><h4 id="思路-2"><a class="markdownIt-Anchor" href="#思路-2"></a> 思路</h4><p>既然是要求高度，那么肯定要用上刚刚的求二叉树深度的函数。比较一下左右节点最大深度绝对值&lt;=1就行了。。。。吗？</p><p>注意看题，要求保证每个节点左右两子树高度差绝对值都不超过1。</p><p>所以直接比较左右节点只能保证根节点左右子树是平衡的。</p><p>既然直接这样写就能判断根节点了，那么是不是也可拓展到任一节点呢。</p><p>使用递归的方法就可以实现。</p><h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isBalanced</span><span class="params">(TreeNode *root)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">abs</span>(<span class="built_in">dfs</span>(root-&gt;left) - <span class="built_in">dfs</span>(root-&gt;right)) &lt;= <span class="number">1</span> &amp;&amp;    <span class="comment">//判断当前节点左右子树是否平衡</span></span><br><span class="line">        <span class="built_in">isBalanced</span>(root-&gt;left) &amp;&amp; <span class="built_in">isBalanced</span>(root-&gt;right);        <span class="comment">//递归继续判断左右子节点是否平衡</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(TreeNode *root)</span>         <span class="comment">//求当前节点向下的高度</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">dfs</span>(root-&gt;left), <span class="built_in">dfs</span>(root-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h4><p>递归刚学的时候（当时还在读初一）感觉有点抽象，挺难理解。</p><p>实际用起来之后发现确实挺抽象的，感觉应该这样写，然后就能正常跑起来了。</p><p>只要设置了个边界条件，它自己就可以走下去。</p><p>不过呢，缺点就是数据量大了可能会爆栈，而且不好修改递归函数里的代码，改一发动全身。</p><p>一步想错就会导致边界条件设计有问题，直接死循环。</p><p>要改的地方越来越多的时候就要回过头好好想想，递归真是这么写的吗？是不是有更好的关系来简洁地解决问题。</p><p>不过当写完后运行发现奇迹跑起来了的时候，成就感还是可以的。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 二叉树 </tag>
            
            <tag> 递归 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断相同二叉树</title>
      <link href="/xinonria.github.io/posts/aca79b6/"/>
      <url>/xinonria.github.io/posts/aca79b6/</url>
      
        <content type="html"><![CDATA[<p>一道较简单的Leetcode题，判断两个二叉树是否相同。</p><h4 id="原题链接"><a class="markdownIt-Anchor" href="#原题链接"></a> <a href="https://leetcode.cn/problems/same-tree/solutions/363636/xiang-tong-de-shu-by-leetcode-solution/">原题链接</a></h4><p><img src="https://www.z4a.net/images/2023/08/13/imagefe314b64b16aa615.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/13/imagefe314b64b16aa615.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.pmg" /></p><h5 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h5><ul><li>两棵树上的节点数目都在范围 [0, 100] 内</li><li>-104 &lt;= Node.val &lt;= 104</li></ul><h4 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h4><p>既然要判断是否相同，那么就要遍历树的每一个节点了。</p><p>注意到数据范围节点数在100以内，不算太大。考虑用递归的方法（太大会爆栈）深度优先搜索的思路来解决。</p><ul><li>如果两个树都能成功到达边界，那么说明这一路上都是匹配的，可以直接<code>return true</code>了。</li><li>如果一个到了边界另一个没到，说明这两个树绝对不是相同的，就<code>return false</code></li><li>如果两个储存的值对不上的话，那么也是说明树不相同。<code>return false</code></li><li>此外没到边界的话就递归下去。</li></ul><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSameTree</span><span class="params">(TreeNode *p, TreeNode *q)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!p &amp;&amp; !q)          <span class="comment">//两节点都到达边界</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (!p || !q)          <span class="comment">//只有一个节点到达边界 （结合上个if语句想想之间的逻辑关系，为什么能这样写）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;val != q-&gt;val)  <span class="comment">//数值不同</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">isSameTree</span>(p-&gt;left, q-&gt;left) &amp;&amp; <span class="built_in">isSameTree</span>(p-&gt;right, q-&gt;right);       <span class="comment">//递归左右节点，&amp;&amp;保证左右子节点都满足条件</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于二叉树中序遍历</title>
      <link href="/xinonria.github.io/posts/f61fb787/"/>
      <url>/xinonria.github.io/posts/f61fb787/</url>
      
        <content type="html"><![CDATA[<p>今天日常刷Leetcode刷到了一个二叉树中序遍历的题。<a href="https://leetcode.cn/problems/binary-tree-inorder-traversal/description/">原题链接</a></p><p><img src="https://www.z4a.net/images/2023/08/12/image969eeb0431acff42.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/12/image969eeb0431acff42.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><p>通过示例可以很明显了解到何为中序遍历，同时打算用栈结构来实现。</p><h4 id="中序遍历"><a class="markdownIt-Anchor" href="#中序遍历"></a> 中序遍历</h4><p>可以看作将节点投影到一个水平坐标轴上，从原点开始向右遍历。<br /><img src="https://www.z4a.net/images/2023/08/12/image194664320ff4e02f.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/12/image194664320ff4e02f.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.gif" /><br />如图顺序为:H-&gt;D-&gt;I-&gt;B-&gt;E-&gt;J-&gt;A-&gt;F-&gt;K-&gt;C-&gt;G</p><h4 id="栈"><a class="markdownIt-Anchor" href="#栈"></a> 栈</h4><p><img src="https://www.z4a.net/images/2023/08/12/image528190e58558130f.png" class="lazyload" data-srcset="https://www.z4a.net/images/2023/08/12/image528190e58558130f.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image.png" /></p><p>栈遵循先进后出的原则。</p><p>把栈想象成一个桶：a1先入栈，被压在最底下；然后a2再入栈，压在a1的上面……</p><p>如何取出里面的数据呢？拿走最上面的元素，也就是出栈。被压在最底下的元素最后才能被拿出来。</p><p>例如： 入栈顺序 = 1, 2, 3, 4<br />出栈顺序 = 4, 3, 2, 1</p><p>明白概念之后就到了实现这个操作了。</p><h4 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h4><p>我使用了栈结构以及访问标记来实现。每个节点都附带一个名为visited的bool值（默认false)。</p><p>先让根节点入栈（栈里面没元素怎么出栈）</p><p>然后一直循环直到栈内元素全部出来。</p><p>中途如果发现是空节点就continue回到循环开始的地方。</p><p>如果这个节点没被访问过，那么就先标记一下已被访问<code>visited=true</code>。</p><p>然后分别按顺序让右节点-&gt;当前节点-&gt;左节点入栈。（因为要中序遍历，所以如此入栈后出栈的顺序就是左节点-&gt;当前节点-&gt;右节点）</p><p>如果当前节点已经访问过了，那么就直接返回当前节点的值。</p><h4 id="代码-c"><a class="markdownIt-Anchor" href="#代码-c"></a> 代码 (C++)</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树定义</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> val;</span><br><span class="line">TreeNode* left;</span><br><span class="line">TreeNode* right;</span><br><span class="line"><span class="built_in">TreeNode</span>() : <span class="built_in">val</span>(<span class="number">0</span>), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"><span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"><span class="built_in">TreeNode</span>(<span class="type">int</span> x, TreeNode* left, TreeNode* right) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(left), <span class="built_in">right</span>(right) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">stack&lt;TreeNode*&gt; s;   <span class="comment">//栈，存储每个节点的地址</span></span><br><span class="line">unordered_map&lt;TreeNode*, <span class="type">bool</span>&gt; umap&#123;&#123;<span class="literal">nullptr</span>, <span class="literal">false</span>&#125;&#125;;  <span class="comment">//visited表，判断当前节点是否访问过，初始化全为false</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; res;   <span class="comment">//答案结果</span></span><br><span class="line">s.<span class="built_in">push</span>(root);   <span class="comment">//根节点入栈</span></span><br><span class="line">TreeNode* temp;   <span class="comment">//当前节点</span></span><br><span class="line"><span class="keyword">while</span> (!s.<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line">temp = s.<span class="built_in">top</span>();</span><br><span class="line">s.<span class="built_in">pop</span>();            <span class="comment">//取得栈顶的元素</span></span><br><span class="line"><span class="keyword">if</span> (!temp) <span class="keyword">continue</span>;  <span class="comment">//节点为空就continue</span></span><br><span class="line"><span class="keyword">if</span> (umap[temp]) res.<span class="built_in">push_back</span>(temp-&gt;val);     <span class="comment">//当前节点已被访问过，返回节点的值</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">umap[temp] = <span class="literal">true</span>;      <span class="comment">//标记已被访问</span></span><br><span class="line">s.<span class="built_in">push</span>(temp-&gt;right);</span><br><span class="line">s.<span class="built_in">push</span>(temp);</span><br><span class="line">s.<span class="built_in">push</span>(temp-&gt;left);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Leetcode </tag>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo配置成功</title>
      <link href="/xinonria.github.io/posts/119aaba8/"/>
      <url>/xinonria.github.io/posts/119aaba8/</url>
      
        <content type="html"><![CDATA[<p>花了两天时间终于成功把hexo+github托管的个人博客网站做完了。</p><p>中途遇到了好多问题和障碍(哭</p><ol><li><p>npm install安装时一直卡住<br />参考了<a href="https://blog.csdn.net/qq_42250644/article/details/127507408">CSDN</a>的解决办法，发现没用。后来发现淘宝源停止对该域名解析了，遂换成官方源<a href="https://registry.npmjs.org">https://registry.npmjs.org</a>解决问题。</p></li><li><p>虚拟服务器无法配置<br />白嫖了腾讯云虚拟服务器一个月。宝塔登陆不上去，1Panel安装不上。打算直接配置VanBlog。感觉可能因为网速太慢了，无法正常进入博客后台登陆。点了登陆没反应，有时候甚至加载不出来。遂放弃虚拟服务器方案，决定使用github page来托管。</p></li><li><p>hexo无法部署<br />运行<code>hexo d</code>后提示<code>ERROR Deployer not found: git</code>搜索后发现有个插件没装，安装后就正常了。<code>npm install hexo-deployer-git --save</code></p></li><li><p>托管网站无法登陆<br />跟着教程用Vercel托管，但就是注册不了。Github登陆上去直接说已被封禁，邮箱注册又无法处理登录请求。发邮件给registration@vercel.com，回复已经帮我解除了，但再次登陆还是不行。感觉可能是挂了梯子的原因，又发了邮件再解除一下。关掉梯子总算登录上去了。(Gmail点验证邮件开梯子，Vercel网站不能开梯子，累死了)。然而感觉它的网站托管太慢了，还是用回Github Page了。</p></li><li><p>更换主题css不生效<br />这个问题折磨了最久。本地部署显示正常，但一放到线上css就不生效了。在网上找了各种办法都没用。<a href="https://github.com/hexojs/hexo/issues/1574">Github上的issue</a>隐隐感觉有用，但不知道在哪设置网址。又看到<a href="https://blog.csdn.net/Wlittlestar/article/details/123964059">CSDN</a>上的文章，这解决方案就离谱到家了。最后还好刷到了<a href="https://blog.csdn.net/Nathan1987_/article/details/50322493">这篇文章</a>，把<code>root: /xinonria.github.io</code>设置一下就好了。刚设置完也是不报太大希望的，吃了个饭回来发现真的成功了！</p></li></ol><p>这仅仅只是这个网站的一个开始，现在这个网站还有很多功能没有实现。图床配置，评论功能，分类系统，搜索引擎什么的还要慢慢实现。</p><p>在这过程中虽然很多时候自己都不知道怎么解决的，但也从中获得了一些经验，学到了一些东西。</p><p><em><strong>Things are always difficult at the start. Just keep going.</strong></em></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
